(function(a,b){function d(a){var b=a.length,c=h.type(a);return h.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&0<b&&b-1 in a)}function c(a,c,d,e){if(h.acceptData(a)){var f,g,p=h.expando,j="string"==typeof c,k=a.nodeType,q=k?h.cache:a,u=k?a[p]:a[p]&&p;if(u&&q[u]&&(e||q[u].data)||!j||d!==b)return u||(k?a[p]=u=ya.pop()||h.guid++:u=p),q[u]||(q[u]={},k||(q[u].toJSON=h.noop)),("object"==typeof c||"function"==typeof c)&&(e?q[u]=h.extend(q[u],c):q[u].data=h.extend(q[u].data,
c)),f=q[u],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[h.camelCase(c)]=d),j?(g=f[c],null==g&&(g=f[h.camelCase(c)])):g=f,g}}function e(a,b,c){if(h.acceptData(a)){var d,e,f,g=a.nodeType,p=g?h.cache:a,j=g?a[h.expando]:h.expando;if(p[j]){if(b&&(f=c?p[j]:p[j].data)){h.isArray(b)?b=b.concat(h.map(b,h.camelCase)):b in f?b=[b]:(b=h.camelCase(b),b=b in f?[b]:b.split(" "));d=0;for(e=b.length;e>d;d++)delete f[b[d]];if(!(c?k:h.isEmptyObject)(f))return}(c||(delete p[j].data,k(p[j])))&&(g?h.cleanData([a],!0):h.support.deleteExpando||
p!=p.window?delete p[j]:p[j]=null)}}}function f(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(sa,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Fa.test(d)?h.parseJSON(d):d}catch(f){}h.data(a,c,d)}else d=b}return d}function k(a){for(var b in a)if(("data"!==b||!h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function g(){return!0}function j(){return!1}function m(a,b){do a=a[b];while(a&&1!==a.nodeType);
return a}function s(a,b,d){if(b=b||0,h.isFunction(b))return h.grep(a,function(a,Q){return!!b.call(a,Q,a)===d});if(b.nodeType)return h.grep(a,function(a){return a===b===d});if("string"==typeof b){var c=h.grep(a,function(a){return 1===a.nodeType});if(Rc.test(b))return h.filter(b,c,!d);b=h.filter(b,c)}return h.grep(a,function(a){return 0<=h.inArray(a,b)===d})}function w(a){var b=qc.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function v(a){var b=
a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function r(a){var b=Sc.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function F(a,b){for(var d,c=0;null!=(d=a[c]);c++)h._data(d,"globalEval",!b||h._data(b[c],"globalEval"))}function A(a,b){if(1===b.nodeType&&h.hasData(a)){var d,c,e;c=h._data(a);var f=h._data(b,c),g=c.events;if(g)for(d in delete f.handle,f.events={},g){c=0;for(e=g[d].length;e>c;c++)h.event.add(b,d,g[d][c])}f.data&&(f.data=h.extend({},f.data))}}function n(a,
d){var c,e,f=0,g=typeof a.getElementsByTagName!==U?a.getElementsByTagName(d||"*"):typeof a.querySelectorAll!==U?a.querySelectorAll(d||"*"):b;if(!g){g=[];for(c=a.childNodes||a;null!=(e=c[f]);f++)!d||h.nodeName(e,d)?g.push(e):h.merge(g,n(e,d))}return d===b||d&&h.nodeName(a,d)?h.merge([a],g):g}function M(a){ac.test(a.type)&&(a.defaultChecked=a.checked)}function x(a,b){if(b in a)return b;for(var d=b.charAt(0).toUpperCase()+b.slice(1),c=b,e=rc.length;e--;)if(b=rc[e]+d,b in a)return b;return c}function B(a,
b){return a=b||a,"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)}function C(a,b){for(var d,c,e,f=[],g=0,p=a.length;p>g;g++)c=a[g],c.style&&(f[g]=h._data(c,"olddisplay"),d=c.style.display,b?(f[g]||"none"!==d||(c.style.display=""),""===c.style.display&&B(c)&&(f[g]=h._data(c,"olddisplay",I(c.nodeName)))):f[g]||(e=B(c),(d&&"none"!==d||!e)&&h._data(c,"olddisplay",e?d:h.css(c,"display"))));for(g=0;p>g;g++)c=a[g],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?
f[g]||"":"none"));return a}function l(a,b,c){return(a=Tc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function z(a,b,c,d,e){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===c&&(f+=h.css(a,c+ab[b],!0,e)),d?("content"===c&&(f-=h.css(a,"padding"+ab[b],!0,e)),"margin"!==c&&(f-=h.css(a,"border"+ab[b]+"Width",!0,e))):(f+=h.css(a,"padding"+ab[b],!0,e),"padding"!==c&&(f+=h.css(a,"border"+ab[b]+"Width",!0,e)));return f}function N(a,b,c){var d=!0,e="width"===b?a.offsetWidth:
a.offsetHeight,f=bb(a),g=h.support.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=cb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Mb.test(e))return e;d=g&&(h.support.boxSizingReliable||e===a.style[b]);e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function I(a){var b=D,c=sc[a];return c||(c=X(a,b),"none"!==c&&c||(Db=(Db||h("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Db[0].contentWindow||
Db[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=X(a,b),Db.detach()),sc[a]=c),c}function X(a,b){var c=h(b.createElement(a)).appendTo(b.body),d=h.css(c[0],"display");return c.remove(),d}function T(a,b,c,d){var e;if(h.isArray(b))h.each(b,function(b,da){c||Uc.test(a)?d(a,da):T(a+"["+("object"==typeof da?b:"")+"]",da,c,d)});else if(c||"object"!==h.type(b))d(a,b);else for(e in b)T(a+"["+e+"]",b[e],c,d)}function t(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");
var d,e=0,f=b.toLowerCase().match(xa)||[];if(h.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Y(a,c,d,e){function f(j){var k;return g[j]=!0,h.each(a[j]||[],function(a,Q){var h=Q(c,d,e);return"string"!=typeof h||p||g[h]?p?!(k=h):b:(c.dataTypes.unshift(h),f(h),!1)}),k}var g={},p=a===bc;return f(c.dataTypes[0])||!g["*"]&&f("*")}function ca(a,c){var d,e,f=h.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=
c[e]);return d&&h.extend(!0,a,d),a}function S(){try{return new a.XMLHttpRequest}catch(Q){}}function Z(){return setTimeout(function(){kb=b}),kb=h.now()}function E(a,b,c){var d,e,f=0,g=Nb.length,p=h.Deferred().always(function(){delete j.elem}),j=function(){if(e)return!1;for(var b=kb||Z(),b=Math.max(0,k.startTime+k.duration-b),c=1-(b/k.duration||0),d=0,da=k.tweens.length;da>d;d++)k.tweens[d].run(c);return p.notifyWith(a,[k,c,b]),1>c&&da?b:(p.resolveWith(a,[k]),!1)},k=p.promise({elem:a,props:h.extend({},
b),opts:h.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:kb||Z(),duration:c.duration,tweens:[],createTween:function(b,c){var d=h.Tween(a,k.opts,b,c,k.opts.specialEasing[b]||k.opts.easing);return k.tweens.push(d),d},stop:function(b){var c=0,d=b?k.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)k.tweens[c].run(1);return b?p.resolveWith(a,[k,b]):p.rejectWith(a,[k,b]),this}});b=k.props;c=k.opts.specialEasing;var q,u,l,n;for(u in b)if(q=h.camelCase(u),l=c[q],d=b[u],
h.isArray(d)&&(l=d[1],d=b[u]=d[0]),u!==q&&(b[q]=d,delete b[u]),n=h.cssHooks[q],n&&"expand"in n)for(u in d=n.expand(d),delete b[q],d)u in b||(b[u]=d[u],c[u]=l);else c[q]=l;for(;g>f;f++)if(d=Nb[f].call(k,a,b,k.opts))return d;var m=k;h.each(b,function(a,Q){for(var b=(Eb[a]||[]).concat(Eb["*"]),c=0,d=b.length;d>c&&!b[c].call(m,a,Q);c++);});return h.isFunction(k.opts.start)&&k.opts.start.call(a,k),h.fx.timer(h.extend(j,{elem:a,anim:k,queue:k.opts.queue})),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}
function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function q(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=ab[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function H(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var R,y,U=typeof b,D=a.document,na=a.location,Ua=a.jQuery,Va=a.$,oa={},ya=[],ba=ya.concat,pa=ya.push,fa=ya.slice,O=ya.indexOf,la=oa.toString,L=oa.hasOwnProperty,lb="1.9.1".trim,h=function(a,b){return new h.fn.init(a,b,y)},
za=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xa=/\S+/g,Wa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Fb=/^[\],:{}\s]*$/,Ob=/(?:^|:|,)(?:\s*\[)+/g,Pa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,mb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ia=/^-ms-/,Gb=/-([\da-z])/gi,Pb=function(a,b){return b.toUpperCase()},G=function(a){(D.addEventListener||"load"===a.type||"complete"===D.readyState)&&(Qa(),h.ready())},Qa=function(){D.addEventListener?
(D.removeEventListener("DOMContentLoaded",G,!1),a.removeEventListener("load",G,!1)):(D.detachEvent("onreadystatechange",G),a.detachEvent("onload",G))};h.fn=h.prototype={jquery:"1.9.1",constructor:h,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:db.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof h?c[0]:c,h.merge(this,h.parseHTML(e[1],c&&
c.nodeType?c.ownerDocument||c:D,!0)),eb.test(e[1])&&h.isPlainObject(c))for(e in c)h.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=D.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1;this[0]=f}return this.context=D,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):h.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),h.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},
toArray:function(){return fa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=h.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return h.each(this,a,b)},ready:function(a){return h.ready.promise().done(a),this},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+
(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:pa,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var a,c,d,e,f,g,p=arguments[0]||{},j=1,k=arguments.length,q=!1;"boolean"==typeof p&&(q=p,p=arguments[1]||{},j=2);"object"==typeof p||h.isFunction(p)||(p={});for(k===j&&(p=this,--j);k>j;j++)if(null!=
(f=arguments[j]))for(e in f)a=p[e],d=f[e],p!==d&&(q&&d&&(h.isPlainObject(d)||(c=h.isArray(d)))?(c?(c=!1,g=a&&h.isArray(a)?a:[]):g=a&&h.isPlainObject(a)?a:{},p[e]=h.extend(q,g,d)):d!==b&&(p[e]=d));return p};h.extend({noConflict:function(b){return a.$===h&&(a.$=Va),b&&a.jQuery===h&&(a.jQuery=Ua),h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(!0===a?!--h.readyWait:!h.isReady){if(!D.body)return setTimeout(h.ready);h.isReady=!0;!0!==a&&0<--h.readyWait||
(R.resolveWith(D,[h]),h.fn.trigger&&h(D).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?oa[la.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;
try{if(a.constructor&&!L.call(a,"constructor")&&!L.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in a);return d===b||L.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1);b=b||D;var d=eb.exec(a);c=!c&&[];return d?[b.createElement(d[1])]:(d=h.buildFragment([a],b,c),c&&h(c).remove(),h.merge([],d.childNodes))},parseJSON:function(Q){return a.JSON&&
a.JSON.parse?a.JSON.parse(Q):null===Q?Q:"string"==typeof Q&&(Q=h.trim(Q),Q&&Fb.test(Q.replace(Pa,"@").replace(mb,"]").replace(Ob,"")))?Function("return "+Q)():(h.error("Invalid JSON: "+Q),b)},parseXML:function(Q){var c,d;if(!Q||"string"!=typeof Q)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(Q,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(Q))}catch(e){c=b}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+
Q),c},noop:function(){},globalEval:function(b){b&&h.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(Ia,"ms-").replace(Gb,Pb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,h=0,f=a.length,g=d(a);if(c)if(g)for(;f>h&&!(e=b.apply(a[h],c),!1===e);h++);else for(h in a){if(e=b.apply(a[h],c),!1===e)break}else if(g)for(;f>h&&!(e=b.call(a[h],h,a[h]),!1===e);h++);else for(h in a)if(e=b.call(a[h],
h,a[h]),!1===e)break;return a},trim:lb&&!lb.call("\ufeff\u00a0")?function(a){return null==a?"":lb.call(a)}:function(a){return null==a?"":(a+"").replace(Wa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?h.merge(c,"string"==typeof a?[a]:a):pa.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(O)return O.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,h=0;if("number"==typeof d)for(;d>
h;h++)a[e++]=c[h];else for(;c[h]!==b;)a[e++]=c[h++];return a.length=e,a},grep:function(a,b,c){var d,e=[],h=0,f=a.length;for(c=!!c;f>h;h++)d=!!b(a[h],h),c!==d&&e.push(a[h]);return e},map:function(a,b,c){var e,h=0,f=a.length,g=[];if(d(a))for(;f>h;h++)e=b(a[h],h,c),null!=e&&(g[g.length]=e);else for(h in a)e=b(a[h],h,c),null!=e&&(g[g.length]=e);return ba.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),h.isFunction(a)?(d=fa.call(arguments,2),e=function(){return a.apply(c||
this,d.concat(fa.call(arguments)))},e.guid=a.guid=a.guid||h.guid++,e):b},access:function(a,c,d,e,f,g,p){var j=0,k=a.length,q=null==d;if("object"===h.type(d))for(j in f=!0,d)h.access(a,c,j,d[j],!0,g,p);else if(e!==b&&(f=!0,h.isFunction(e)||(p=!0),q&&(p?(c.call(a,e),c=null):(q=c,c=function(a,b,c){return q.call(h(a),c)})),c))for(;k>j;j++)c(a[j],d,p?e:e.call(a[j],j,c(a[j],d)));return f?a:q?c.call(a):k?c(a[0],d):g},now:function(){return(new Date).getTime()}});h.ready.promise=function(b){if(!R)if(R=h.Deferred(),
"complete"===D.readyState)setTimeout(h.ready);else if(D.addEventListener)D.addEventListener("DOMContentLoaded",G,!1),a.addEventListener("load",G,!1);else{D.attachEvent("onreadystatechange",G);a.attachEvent("onload",G);var c=!1;try{c=null==a.frameElement&&D.documentElement}catch(d){}c&&c.doScroll&&function Qc(){if(!h.isReady){try{c.doScroll("left")}catch(a){return setTimeout(Qc,50)}Qa();h.ready()}}()}return R.promise(b)};h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){oa["[object "+b+"]"]=b.toLowerCase()});y=h(D);var Ra={};h.Callbacks=function(a){var c;if("string"==typeof a){if(!(c=Ra[a])){c=a;var d=Ra[c]={};c=(h.each(c.match(xa)||[],function(a,b){d[b]=!0}),d)}}else c=h.extend({},a);a=c;var e,f,g,p,j,k,q=[],u=!a.once&&[],l=function(b){f=a.memory&&b;g=!0;j=k||0;k=0;p=q.length;for(e=!0;q&&p>j;j++)if(!1===q[j].apply(b[0],b[1])&&a.stopOnFalse){f=!1;break}e=!1;q&&(u?u.length&&l(u.shift()):f?q=[]:n.disable())},n={add:function(){if(q){var b=q.length;(function Vc(b){h.each(b,
function(b,c){var d=h.type(c);"function"===d?a.unique&&n.has(c)||q.push(c):c&&c.length&&"string"!==d&&Vc(c)})})(arguments);e?p=q.length:f&&(k=b,l(f))}return this},remove:function(){return q&&h.each(arguments,function(a,b){for(var c;-1<(c=h.inArray(b,q,c));)q.splice(c,1),e&&(p>=c&&p--,j>=c&&j--)}),this},has:function(a){return a?-1<h.inArray(a,q):!(!q||!q.length)},empty:function(){return q=[],this},disable:function(){return q=u=f=b,this},disabled:function(){return!q},lock:function(){return u=b,f||n.disable(),
this},locked:function(){return!u},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!q||g&&!u||(e?u.push(b):l(b)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!g}};return n};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),
this},then:function(){var a=arguments;return h.Deferred(function(c){h.each(b,function(b,Q){var da=Q[0],$b=h.isFunction(a[b])&&a[b];e[Q[1]](function(){var a=$b&&$b.apply(this,arguments);a&&h.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[da+"With"](this===d?c.promise():this,$b?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?h.extend(a,d):d}},e={};return d.pipe=d.then,h.each(b,function(a,Q){var h=Q[2],f=Q[3];d[Q[1]]=h.add;f&&h.add(function(){c=
f},b[1^a][2].disable,b[2][2].lock);e[Q[0]]=function(){return e[Q[0]+"With"](this===e?d:this,arguments),this};e[Q[0]+"With"]=h.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=fa.call(arguments),d=c.length,e=1!==d||a&&h.isFunction(a.promise)?d:0,f=1===e?a:h.Deferred(),g=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?fa.call(arguments):d;c===p?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},p,j,k;if(1<d){p=Array(d);j=Array(d);for(k=Array(d);d>b;b++)c[b]&&h.isFunction(c[b].promise)?
c[b].promise().done(g(b,k,c)).fail(f.reject).progress(g(b,j,p)):--e}return e||f.resolveWith(k,c),f.promise()}});var fb=h,Aa;var aa,ea,P,ia,ja,qa,Ga,ga,La,ma,J=D.createElement("div");if(J.setAttribute("className","t"),J.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ea=J.getElementsByTagName("*"),P=J.getElementsByTagName("a")[0],!ea||!P||!ea.length)Aa={};else{ja=D.createElement("select");Ga=ja.appendChild(D.createElement("option"));ia=J.getElementsByTagName("input")[0];
P.style.cssText="top:1px;float:left;opacity:.5";aa={getSetAttribute:"t"!==J.className,leadingWhitespace:3===J.firstChild.nodeType,tbody:!J.getElementsByTagName("tbody").length,htmlSerialize:!!J.getElementsByTagName("link").length,style:/top/.test(P.getAttribute("style")),hrefNormalized:"/a"===P.getAttribute("href"),opacity:/^0.5/.test(P.style.opacity),cssFloat:!!P.style.cssFloat,checkOn:!!ia.value,optSelected:Ga.selected,enctype:!!D.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==D.createElement("nav").cloneNode(!0).outerHTML,
boxModel:"CSS1Compat"===D.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};ia.checked=!0;aa.noCloneChecked=ia.cloneNode(!0).checked;ja.disabled=!0;aa.optDisabled=!Ga.disabled;try{delete J.test}catch(gb){aa.deleteExpando=!1}ia=D.createElement("input");ia.setAttribute("value","");aa.input=""===ia.getAttribute("value");ia.value="t";ia.setAttribute("type","radio");aa.radioValue="t"===ia.value;ia.setAttribute("checked",
"t");ia.setAttribute("name","t");qa=D.createDocumentFragment();qa.appendChild(ia);aa.appendChecked=ia.checked;aa.checkClone=qa.cloneNode(!0).cloneNode(!0).lastChild.checked;J.attachEvent&&(J.attachEvent("onclick",function(){aa.noCloneEvent=!1}),J.cloneNode(!0).click());for(ma in{submit:!0,change:!0,focusin:!0})J.setAttribute(ga="on"+ma,"t"),aa[ma+"Bubbles"]=ga in a||!1===J.attributes[ga].expando;Aa=(J.style.backgroundClip="content-box",J.cloneNode(!0).style.backgroundClip="",aa.clearCloneStyle="content-box"===
J.style.backgroundClip,h(function(){var b,c,d,e=D.getElementsByTagName("body")[0];e&&(b=D.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(J),J.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=J.getElementsByTagName("td"),d[0].style.cssText="padding:0;margin:0;border:0;display:none",La=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",aa.reliableHiddenOffsets=La&&0===d[0].offsetHeight,
J.innerHTML="",J.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",aa.boxSizing=4===J.offsetWidth,aa.doesNotIncludeMarginInBodyOffset=1!==e.offsetTop,a.getComputedStyle&&(aa.pixelPosition="1%"!==(a.getComputedStyle(J,null)||{}).top,aa.boxSizingReliable="4px"===(a.getComputedStyle(J,null)||{width:"4px"}).width,c=J.appendChild(D.createElement("div")),c.style.cssText=J.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",J.style.width="1px",aa.reliableMarginRight=!parseFloat((a.getComputedStyle(c,null)||{}).marginRight)),typeof J.style.zoom!==U&&(J.innerHTML="",J.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",aa.inlineBlockNeedsLayout=
3===J.offsetWidth,J.style.display="block",J.innerHTML="<div></div>",J.firstChild.style.width="5px",aa.shrinkWrapBlocks=3!==J.offsetWidth,aa.inlineBlockNeedsLayout&&(e.style.zoom=1)),e.removeChild(b),J=null)}),ea=ja=qa=Ga=P=ia=null,aa)}fb.support=Aa;var Fa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sa=/([A-Z])/g;h.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?h.cache[a[h.expando]]:
a[h.expando],!!a&&!k(a)},data:function(a,b,d){return c(a,b,d)},removeData:function(a,b){return e(a,b)},_data:function(a,b,d){return c(a,b,d,!0)},_removeData:function(a,b){return e(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&h.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});h.fn.extend({data:function(a,c){var d,e,g=this[0],p=0,j=null;if(a===b){if(this.length&&(j=h.data(g),1===g.nodeType&&!h._data(g,"parsedAttrs"))){for(d=
g.attributes;d.length>p;p++)e=d[p].name,e.indexOf("data-")||(e=h.camelCase(e.slice(5)),f(g,e,j[e]));h._data(g,"parsedAttrs",!0)}return j}return"object"==typeof a?this.each(function(){h.data(this,a)}):h.access(this,function(c){return c===b?g?f(g,a,h.data(g,a)):null:(this.each(function(){h.data(this,a,c)}),b)},null,c,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=h._data(a,
c),d&&(!e||h.isArray(d)?e=h._data(a,c,h.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),d=c.length,e=c.shift(),f=h._queueHooks(a,b),g=function(){h.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);(f.cur=e)&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return h._data(a,c)||h._data(a,c,{empty:h.Callbacks("once memory").add(function(){h._removeData(a,b+"queue");h._removeData(a,
c)})})}});h.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?h.queue(this[0],a):c===b?this:this.each(function(){var b=h.queue(this,a,c);h._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){return a=h.fx?h.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,c){var d,e=1,f=h.Deferred(),g=this,p=this.length,j=function(){--e||f.resolveWith(g,[g])};"string"!=typeof a&&(c=a,a=b);for(a=a||"fx";p--;)(d=h._data(g[p],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(j));return j(),f.promise(c)}});var ta,ra,p=/[\t\r\n]/g,u=/\r/g,Ba=/^(?:input|select|textarea|button|object)$/i,Ca=/^(?:a|area)$/i,nb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ob=/^(?:checked|selected)$/i,
Da=h.support.getSetAttribute,pb=h.support.input;h.fn.extend({attr:function(a,b){return h.access(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,b){return h.access(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){return a=h.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,j=this.length;b="string"==typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(xa)||[];j>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(p," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=h.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,j=this.length;b=0===arguments.length||"string"==typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(xa)||[];j>g;g++)if(c=this[g],d=1===c.nodeType&&
(c.className?(" "+c.className+" ").replace(p," "):"")){for(f=0;e=b[f++];)for(;0<=d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");c.className=a?h.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=h(this),p=b,j=a.match(xa)||[];e=j[f++];)p=d?p:!g.hasClass(e),g[p?"addClass":"removeClass"](e);else(c===U||"boolean"===
c)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;c>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(p," ").indexOf(a))return!0;return!1},val:function(a){var c,d,e,f=this[0];if(arguments.length)return e=h.isFunction(a),this.each(function(c){var da,f=h(this);1===this.nodeType&&(da=e?a.call(this,c,f.val()):a,null==da?da="":"number"==
typeof da?da+="":h.isArray(da)&&(da=h.map(da,function(a){return null==a?"":a+""})),d=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,da,"value")!==b||(this.value=da))});if(f)return d=h.valHooks[f.type]||h.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(u,""):null==c?"":c)}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,
c=a.options,d=a.selectedIndex,e="select-one"===a.type||0>d,f=e?null:[],g=e?d+1:c.length,p=0>d?g:e?d:0;g>p;p++)if(b=c[p],!(!b.selected&&p!==d||(h.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){if(a=h(b).val(),e)return a;f.push(a)}return f},set:function(a,b){var c=h.makeArray(b);return h(a).find("option").each(function(){this.selected=0<=h.inArray(h(this).val(),c)}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,c,
d){var e,f,g,p=a.nodeType;if(a&&3!==p&&8!==p&&2!==p)return typeof a.getAttribute===U?h.prop(a,c,d):(f=1!==p||!h.isXMLDoc(a),f&&(c=c.toLowerCase(),e=h.attrHooks[c]||(nb.test(c)?ra:ta)),d===b?e&&f&&"get"in e&&null!==(g=e.get(a,c))?g:(typeof a.getAttribute!==U&&(g=a.getAttribute(c)),null==g?b:g):null!==d?e&&f&&"set"in e&&(g=e.set(a,d,c))!==b?g:(a.setAttribute(c,d+""),d):(h.removeAttr(a,c),b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(xa);if(f&&1===a.nodeType)for(;c=f[e++];)d=h.propFix[c]||c,
nb.test(c)?!Da&&ob.test(c)?a[h.camelCase("default-"+c)]=a[d]=!1:a[d]=!1:h.attr(a,c,""),a.removeAttribute(Da?c:d)},attrHooks:{type:{set:function(a,b){if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,p=a.nodeType;if(a&&3!==p&&8!==p&&2!==p)return g=1!==p||!h.isXMLDoc(a),g&&(c=h.propFix[c]||c,f=h.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):Ba.test(a.nodeName)||Ca.test(a.nodeName)&&a.href?0:b}}}});ra={get:function(a,c){var d=h.prop(a,c),e="boolean"==typeof d&&
a.getAttribute(c);return(d="boolean"==typeof d?pb&&Da?null!=e:ob.test(c)?a[h.camelCase("default-"+c)]:!!e:a.getAttributeNode(c))&&!1!==d.value?c.toLowerCase():b},set:function(a,b,c){return!1===b?h.removeAttr(a,c):pb&&Da||!ob.test(c)?a.setAttribute(!Da&&h.propFix[c]||c,c):a[h.camelCase("default-"+c)]=a[c]=!0,c}};pb&&Da||(h.attrHooks.value={get:function(a,c){var d=a.getAttributeNode(c);return h.nodeName(a,"input")?a.defaultValue:d&&d.specified?d.value:b},set:function(a,c,d){return h.nodeName(a,"input")?
(a.defaultValue=c,b):ta&&ta.set(a,c,d)}});Da||(ta=h.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&("id"===c||"name"===c||"coords"===c?""!==d.value:d.specified)?d.value:b},set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},h.attrHooks.contenteditable={get:ta.get,set:function(a,b,c){ta.set(a,""===b?!1:b,c)}},h.each(["width","height"],function(a,c){h.attrHooks[c]=
h.extend(h.attrHooks[c],{set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}})}));h.support.hrefNormalized||(h.each(["href","src","width","height"],function(a,c){h.attrHooks[c]=h.extend(h.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return null==a?b:a}})}),h.each(["href","src"],function(a,b){h.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}));h.support.style||(h.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}});
h.support.optSelected||(h.propHooks.selected=h.extend(h.propHooks.selected,{get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}}));h.support.enctype||(h.propFix.enctype="encoding");h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],{set:function(a,c){return h.isArray(c)?
a.checked=0<=h.inArray(h(a).val(),c):b}})});var qb=/^(?:input|select|textarea)$/i,Ma=/^key/,Qb=/^(?:mouse|contextmenu)|click/,Hb=/^(?:focusinfocus|focusoutblur)$/,Ib=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(a,c,d,e,f){var g,p,j,k,q,u,l,n,m;if(j=h._data(a)){d.handler&&(k=d,d=k.handler,f=k.selector);d.guid||(d.guid=h.guid++);(p=j.events)||(p=j.events={});(q=j.handle)||(q=j.handle=function(a){return typeof h===U||a&&h.event.triggered===a.type?b:h.event.dispatch.apply(q.elem,arguments)},
q.elem=a);c=(c||"").match(xa)||[""];for(j=c.length;j--;)g=Ib.exec(c[j])||[],n=u=g[1],m=(g[2]||"").split(".").sort(),g=h.event.special[n]||{},n=(f?g.delegateType:g.bindType)||n,g=h.event.special[n]||{},u=h.extend({type:n,origType:u,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&h.expr.match.needsContext.test(f),namespace:m.join(".")},k),(l=p[n])||(l=p[n]=[],l.delegateCount=0,g.setup&&!1!==g.setup.call(a,e,m,q)||(a.addEventListener?a.addEventListener(n,q,!1):a.attachEvent&&a.attachEvent("on"+
n,q))),g.add&&(g.add.call(a,u),u.handler.guid||(u.handler.guid=d.guid)),f?l.splice(l.delegateCount++,0,u):l.push(u),h.event.global[n]=!0;a=null}},remove:function(a,b,c,d,e){var f,g,p,j,k,q,u,l,n,m,R,y=h.hasData(a)&&h._data(a);if(y&&(q=y.events)){b=(b||"").match(xa)||[""];for(k=b.length;k--;)if(p=Ib.exec(b[k])||[],n=R=p[1],m=(p[2]||"").split(".").sort(),n){u=h.event.special[n]||{};n=(d?u.delegateType:u.bindType)||n;l=q[n]||[];p=p[2]&&RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(j=f=l.length;f--;)g=
l[f],!e&&R!==g.origType||c&&c.guid!==g.guid||p&&!p.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(l.splice(f,1),g.selector&&l.delegateCount--,u.remove&&u.remove.call(a,g));j&&!l.length&&(u.teardown&&!1!==u.teardown.call(a,m,y.handle)||h.removeEvent(a,n,y.handle),delete q[n])}else for(n in q)h.event.remove(a,n+b[k],c,d,!0);h.isEmptyObject(q)&&(delete y.handle,h._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,p,j,k,q,u,l=[e||D],n=L.call(c,"type")?c.type:c;u=L.call(c,"namespace")?
c.namespace.split("."):[];if(j=g=e=e||D,3!==e.nodeType&&8!==e.nodeType&&!Hb.test(n+h.event.triggered)&&(0<=n.indexOf(".")&&(u=n.split("."),n=u.shift(),u.sort()),p=0>n.indexOf(":")&&"on"+n,c=c[h.expando]?c:new h.Event(n,"object"==typeof c&&c),c.isTrigger=!0,c.namespace=u.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:h.makeArray(d,[c]),q=h.event.special[n]||{},f||!q.trigger||!1!==q.trigger.apply(e,d))){if(!f&&
!q.noBubble&&!h.isWindow(e)){k=q.delegateType||n;for(Hb.test(k+n)||(j=j.parentNode);j;j=j.parentNode)l.push(j),g=j;g===(e.ownerDocument||D)&&l.push(g.defaultView||g.parentWindow||a)}for(u=0;(j=l[u++])&&!c.isPropagationStopped();)c.type=1<u?k:q.bindType||n,(g=(h._data(j,"events")||{})[c.type]&&h._data(j,"handle"))&&g.apply(j,d),(g=p&&j[p])&&h.acceptData(j)&&g.apply&&!1===g.apply(j,d)&&c.preventDefault();if(c.type=n,!(f||c.isDefaultPrevented()||q._default&&!1!==q._default.apply(e.ownerDocument,d)||
"click"===n&&h.nodeName(e,"a")||!h.acceptData(e)||!p||!e[n]||h.isWindow(e))){(g=e[p])&&(e[p]=null);h.event.triggered=n;try{e[n]()}catch(m){}h.event.triggered=b;g&&(e[p]=g)}return c.result}},dispatch:function(a){a=h.event.fix(a);var c,d,e,f,g,p=[],j=fa.call(arguments);c=(h._data(this,"events")||{})[a.type]||[];var k=h.event.special[a.type]||{};if(j[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){p=h.event.handlers.call(this,a,c);for(c=0;(f=p[c++])&&!a.isPropagationStopped();){a.currentTarget=
f.elem;for(g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((h.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,j),d!==b&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,p=[],j=c.delegateCount,k=a.target;if(j&&k.nodeType&&(!a.button||"click"!==a.type))for(;k!=this;k=k.parentNode||
this)if(1===k.nodeType&&(!0!==k.disabled||"click"!==a.type)){f=[];for(g=0;j>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?0<=h(d,this).index(k):h.find(d,this,null,[k]).length),f[d]&&f.push(e);f.length&&p.push({elem:k,handlers:f})}return c.length>j&&p.push({elem:this,handlers:c.slice(j)}),p},fix:function(a){if(a[h.expando])return a;var b,c,d;b=a.type;var e=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=Qb.test(b)?this.mouseHooks:Ma.test(b)?this.keyHooks:{});d=f.props?this.props.concat(f.props):
this.props;a=new h.Event(e);for(b=d.length;b--;)c=d[b],a[c]=e[c];return a.target||(a.target=e.srcElement||D),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),
a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,h,f=c.button,g=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||D,h=e.documentElement,d=e.body,a.pageX=c.clientX+(h&&h.scrollLeft||d&&d.scrollLeft||0)-(h&&h.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(h&&h.scrollTop||d&&d.scrollTop||0)-(h&&h.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=
g===a.target?c.toElement:g),a.which||f===b||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==D.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===D.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==
b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=h.extend(new h.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};h.removeEvent=D.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===U&&(a[b]=null),a.detachEvent(b,c))};h.Event=function(a,c){return this instanceof h.Event?(a&&a.type?(this.originalEvent=
a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?g:j):this.type=a,c&&h.extend(this,c),this.timeStamp=a&&a.timeStamp||h.now(),this[h.expando]=!0,b):new h.Event(a,c)};h.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=
this.originalEvent;this.isPropagationStopped=g;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()}};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,e=a.handleObj;return(!d||d!==this&&!h.contains(this,d))&&(a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b),c}}});h.support.submitBubbles||
(h.event.special.submit={setup:function(){return h.nodeName(this,"form")?!1:(h.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=h.nodeName(a,"input")||h.nodeName(a,"button")?a.form:b)&&!h._data(a,"submitBubbles")&&(h.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),h._data(a,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return h.nodeName(this,
"form")?!1:(h.event.remove(this,"._submit"),b)}});h.support.changeBubbles||(h.event.special.change={setup:function(){return qb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);h.event.simulate("change",this,a,!0)})),!1):(h.event.add(this,"beforeactivate._change",
function(a){a=a.target;qb.test(a.nodeName)&&!h._data(a,"changeBubbles")&&(h.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||h.event.simulate("change",this.parentNode,a,!0)}),h._data(a,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return h.event.remove(this,"._change"),!qb.test(this.nodeName)}});h.support.focusinBubbles||
h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){0===c++&&D.addEventListener(a,d,!0)},teardown:function(){0===--c&&D.removeEventListener(a,d,!0)}}});h.fn.extend({on:function(a,c,d,e,f){var g,p;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=
j;else if(!e)return this;return 1===f&&(p=e,e=function(a){return h().off(a),p.apply(this,arguments)},e.guid=p.guid||(p.guid=h.guid++)),this.each(function(){h.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,h(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(!1===c||"function"==
typeof c)&&(d=c,c=b),!1===d&&(d=j),this.each(function(){h.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?h.event.trigger(a,c,d,!0):b}});var rb=a,
hb=function(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>W.cacheLength&&delete a[b.shift()],a[c]=d}},ua=function(a){return a[ha]=!0,a},wa=function(a){var b=va.createElement("div");try{return a(b)}catch(c){return!1}finally{}},V=function(a,b,c,d){var e,h,f,g,p;if((b?b.ownerDocument||b:ib)!==va&&sb(b),b=b||va,c=c||[],!a||"string"!=typeof a)return c;if(1!==(g=b.nodeType)&&9!==g)return[];if(!Ja&&!d){if(e=Wc.exec(a))if(f=e[1])if(9===g){if(h=b.getElementById(f),!h||!h.parentNode)return c;if(h.id===
f)return c.push(h),c}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(f))&&Jb(b,h)&&h.id===f)return c.push(h),c}else{if(e[2])return tb.apply(c,ub.call(b.getElementsByTagName(a),0)),c;if((f=e[3])&&ka.getByClassName&&b.getElementsByClassName)return tb.apply(c,ub.call(b.getElementsByClassName(f),0)),c}if(ka.qsa&&!Na.test(a)){if(e=!0,h=ha,f=b,p=9===g&&a,1===g&&"object"!==b.nodeName.toLowerCase()){g=Sa(a);(e=b.getAttribute("id"))?h=e.replace(Xc,"\\$&"):b.setAttribute("id",h);h="[id='"+h+"'] ";
for(f=g.length;f--;)g[f]=h+vb(g[f]);f=cc.test(a)&&b.parentNode||b;p=g.join(",")}if(p)try{return tb.apply(c,ub.call(f.querySelectorAll(p),0)),c}catch(j){}finally{e||b.removeAttribute("id")}}}var k;a:{a=a.replace(Rb,"$1");var q,u;h=Sa(a);if(!d&&1===h.length){if(k=h[0]=h[0].slice(0),2<k.length&&"ID"===(q=k[0]).type&&9===b.nodeType&&!Ja&&W.relative[k[1].type]){if(b=W.find.ID(q.matches[0].replace(Xa,Ya),b)[0],!b){k=c;break a}a=a.slice(k.shift().value.length)}for(g=Sb.needsContext.test(a)?0:k.length;g--&&
!(q=k[g],W.relative[e=q.type]);)if((u=W.find[e])&&(d=u(q.matches[0].replace(Xa,Ya),cc.test(k[0].type)&&b.parentNode||b))){if(k.splice(g,1),a=d.length&&vb(k),!a){k=(tb.apply(c,ub.call(d,0)),c);break a}break}}k=(dc(a,h)(d,b,Ja,c,cc.test(a)),c)}return k},wb=function(a,b){var c=b&&a,d=c&&(~b.sourceIndex||tc)-(~a.sourceIndex||tc);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},xb=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Ta=function(a){return function(b){var c=
b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},Ka=function(a){return ua(function(b){return b=+b,ua(function(c,d){for(var e,h=a([],c.length,b),f=h.length;f--;)c[e=h[f]]&&(c[e]=!(d[e]=c[e]))})})},Sa=function(a,b){var c,d,e,h,f,g,p;if(f=uc[a+" "])return b?0:f.slice(0);f=a;g=[];for(p=W.preFilter;f;){(!c||(d=Yc.exec(f)))&&(d&&(f=f.slice(d[0].length)||f),g.push(e=[]));c=!1;(d=Zc.exec(f))&&(c=d.shift(),e.push({value:c,type:d[0].replace(Rb," ")}),f=f.slice(c.length));for(h in W.filter)!(d=
Sb[h].exec(f))||p[h]&&!(d=p[h](d))||(c=d.shift(),e.push({value:c,type:h,matches:d}),f=f.slice(c.length));if(!c)break}return b?f.length:f?V.error(a):uc(a,g).slice(0)},vb=function(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d},yb=function(a,b,c){var d=b.dir,e=c&&"parentNode"===d,h=$c++;return b.first?function(b,c,h){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,h)}:function(b,c,f){var g,p,j,k=Oa+" "+h;if(f)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,f))return!0}else for(;b=b[d];)if(1===
b.nodeType||e)if(j=b[ha]||(b[ha]={}),(p=j[d])&&p[0]===k){if(!0===(g=p[1])||g===Tb)return!0===g}else if(p=j[d]=[k],p[1]=a(b,c,f)||Tb,!0===p[1])return!0}},Ub=function(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]},Kb=function(a,b,c,d,e){for(var h,f=[],g=0,p=a.length,j=null!=b;p>g;g++)(h=a[g])&&(!c||c(h,d,e))&&(f.push(h),j&&b.push(g));return f},Za=function(a,b,c,d,e,h){return d&&!d[ha]&&(d=Za(d)),e&&!e[ha]&&(e=Za(e,h)),ua(function(h,f,g,p){var j,
k,q=[],u=[],n=f.length,l;if(!(l=h)){l=b||"*";for(var m=g.nodeType?[g]:g,R=[],y=0,Ba=m.length;Ba>y;y++)V(l,m[y],R);l=R}l=!a||!h&&b?l:Kb(l,q,a,g,p);m=c?e||(h?a:n||d)?[]:f:l;if(c&&c(l,m,g,p),d){j=Kb(m,u);d(j,[],g,p);for(g=j.length;g--;)(k=j[g])&&(m[u[g]]=!(l[u[g]]=k))}if(h){if(e||a){if(e){j=[];for(g=m.length;g--;)(k=m[g])&&j.push(l[g]=k);e(null,m=[],j,p)}for(g=m.length;g--;)(k=m[g])&&-1<(j=e?ec.call(h,k):q[g])&&(h[j]=!(f[j]=k))}}else m=Kb(m===f?m.splice(n,m.length):m),e?e(null,f,m,p):tb.apply(f,m)})},
fc=function(a){var b,c,d,e=a.length,h=W.relative[a[0].type];c=h||W.relative[" "];for(var f=h?1:0,g=yb(function(a){return a===b},c,!0),p=yb(function(a){return-1<ec.call(b,a)},c,!0),j=[function(a,c,d){return!h&&(d||c!==Vb)||((b=c).nodeType?g(a,c,d):p(a,c,d))}];e>f;f++)if(c=W.relative[a[f].type])j=[yb(Ub(j),c)];else{if(c=W.filter[a[f].type].apply(null,a[f].matches),c[ha]){for(d=++f;e>d&&!W.relative[a[d].type];d++);return Za(1<f&&Ub(j),1<f&&vb(a.slice(0,f-1)).replace(Rb,"$1"),c,d>f&&fc(a.slice(f,d)),
e>d&&fc(a=a.slice(d)),e>d&&vb(a))}j.push(c)}return Ub(j)},vc=function(){},zb,Tb,W,Wb,wc,dc,Ab,Vb,sb,va,Ea,Ja,Na,Bb,Xb,Jb,gc,ha="sizzle"+-new Date,ib=rb.document,ka={},Oa=0,$c=0,xc=hb(),uc=hb(),yc=hb(),tc=-2147483648,Yb=[],ad=Yb.pop,tb=Yb.push,ub=Yb.slice,ec=Yb.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},zc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ac="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
zc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",hc=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ac.replace(3,8)+")*)|.*)\\)|)",Rb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(hc),cd=RegExp("^"+zc+"$"),Sb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+
"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ac),PSEUDO:RegExp("^"+hc),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},cc=/[\x20\t\r\n\f]*[+~]/,ic=
/^[^{]+\{\s*\[native code/,Wc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dd=/^(?:input|select|textarea|button)$/i,ed=/^h\d$/i,Xc=/'|\\/g,fd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Xa=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ya=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{ub.call(ib.documentElement.childNodes,0)[0].nodeType}catch(Fd){ub=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}wc=V.isXML=function(a){return(a=
a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};sb=V.setDocument=function(a){var b=a?a.ownerDocument||a:ib;if(b!==va&&9===b.nodeType&&b.documentElement){va=b;Ea=b.documentElement;Ja=wc(b);ka.tagNameNoComments=wa(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length});ka.attributes=wa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a});ka.getByClassName=wa(function(a){return a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1});ka.getByName=wa(function(a){a.id=ha+0;a.innerHTML="<a name='"+ha+"'></a><div name='"+ha+"'></div>";Ea.insertBefore(a,Ea.firstChild);var c=b.getElementsByName&&b.getElementsByName(ha).length===2+b.getElementsByName(ha+0).length;return ka.getIdNotName=!b.getElementById(ha),Ea.removeChild(a),c});W.attrHandle=
wa(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}};ka.getIdNotName?(W.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&!Ja){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},W.filter.ID=function(a){var b=a.replace(Xa,Ya);return function(a){return a.getAttribute("id")===
b}}):(W.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&!Ja){var c=b.getElementById(a);return c?c.id===a||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===a?[c]:void 0:[]}},W.filter.ID=function(a){var b=a.replace(Xa,Ya);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});W.find.TAG=ka.tagNameNoComments?function(a,b){return"undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(a):void 0}:
function(a,b){var c,d=[],e=0,h=b.getElementsByTagName(a);if("*"===a){for(;c=h[e++];)1===c.nodeType&&d.push(c);return d}return h};W.find.NAME=ka.getByName&&function(a,b){return"undefined"!==typeof b.getElementsByName?b.getElementsByName(name):void 0};W.find.CLASS=ka.getByClassName&&function(a,b){return"undefined"===typeof b.getElementsByClassName||Ja?void 0:b.getElementsByClassName(a)};Bb=[];Na=[":focus"];(ka.qsa=ic.test(b.querySelectorAll+""))&&(wa(function(a){a.innerHTML="<select><option selected=''></option></select>";
a.querySelectorAll("[selected]").length||Na.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||Na.push(":checked")}),wa(function(a){a.innerHTML="<input type='hidden' i=''/>";a.querySelectorAll("[i^='']").length&&Na.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.querySelectorAll(":enabled").length||Na.push(":enabled",":disabled");a.querySelectorAll("*,:x");Na.push(",.*:")}));a=ka;var c;c=Xb=Ea.matchesSelector||Ea.mozMatchesSelector||
Ea.webkitMatchesSelector||Ea.oMatchesSelector||Ea.msMatchesSelector;c=ic.test(c+"");a=((a.matchesSelector=c)&&wa(function(a){ka.disconnectedMatch=Xb.call(a,"div");Xb.call(a,"[s!='']:x");Bb.push("!=",hc)}),Na=RegExp(Na.join("|")),Bb=RegExp(Bb.join("|")),Jb=ic.test(Ea.contains+"")||Ea.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:
function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},gc=Ea.compareDocumentPosition?function(a,c){var d;return a===c?(Ab=!0,0):(d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c))?1&d||a.parentNode&&11===a.parentNode.nodeType?a===b||Jb(ib,a)?-1:c===b||Jb(ib,c)?1:0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0;d=a.parentNode;var h=c.parentNode,f=[a],g=[c];if(a===c)return Ab=!0,0;if(!d||!h)return a===b?-1:c===b?1:d?-1:h?1:0;if(d===h)return wb(a,
c);for(d=a;d=d.parentNode;)f.unshift(d);for(d=c;d=d.parentNode;)g.unshift(d);for(;f[e]===g[e];)e++;return e?wb(f[e],g[e]):f[e]===ib?-1:g[e]===ib?1:0},Ab=!1,[0,0].sort(gc),ka.detectDuplicates=Ab,va)}else a=va;return a};V.matches=function(a,b){return V(a,null,null,b)};V.matchesSelector=function(a,b){if((a.ownerDocument||a)!==va&&sb(a),b=b.replace(fd,"='$1']"),!(!ka.matchesSelector||Ja||Bb&&Bb.test(b)||Na.test(b)))try{var c=Xb.call(a,b);if(c||ka.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<
V(b,va,null,[a]).length};V.contains=function(a,b){return(a.ownerDocument||a)!==va&&sb(a),Jb(a,b)};V.attr=function(a,b){var c;return(a.ownerDocument||a)!==va&&sb(a),Ja||(b=b.toLowerCase()),(c=W.attrHandle[b])?c(a):Ja||ka.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&!0===a[b]?b:c&&c.specified?c.value:null};V.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};V.uniqueSort=function(a){var b,c=[],d=1,e=0;if(Ab=!ka.detectDuplicates,a.sort(gc),Ab){for(;b=
a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a};Wb=V.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=Wb(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)c+=Wb(b);return c};W=V.selectors={cacheLength:50,createPseudo:ua,match:Sb,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){return a[1]=a[1].replace(Xa,Ya),a[3]=(a[4]||a[5]||"").replace(Xa,Ya),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||V.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&V.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return Sb.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&bd.test(c)&&(b=Sa(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&
(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(Xa,Ya).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=xc[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&xc(a,function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){d=V.attr(d,a);return null==
d?"!="===b:b?(d+="","="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var h="nth"!==a.slice(0,3),f="last"!==a.slice(-4),g="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,p){var j,k,q,u,l;c=h!==f?"nextSibling":"previousSibling";var n=b.parentNode,da=g&&b.nodeName.toLowerCase();p=!p&&
!g;if(n){if(h){for(;c;){for(k=b;k=k[c];)if(g?k.nodeName.toLowerCase()===da:1===k.nodeType)return!1;l=c="only"===a&&!l&&"nextSibling"}return!0}if(l=[f?n.firstChild:n.lastChild],f&&p){p=n[ha]||(n[ha]={});j=p[a]||[];u=j[0]===Oa&&j[1];q=j[0]===Oa&&j[2];for(k=u&&n.childNodes[u];k=++u&&k&&k[c]||(q=u=0)||l.pop();)if(1===k.nodeType&&++q&&k===b){p[a]=[Oa,u,q];break}}else if(p&&(j=(b[ha]||(b[ha]={}))[a])&&j[0]===Oa)q=j[1];else for(;(k=++u&&k&&k[c]||(q=u=0)||l.pop())&&(!(g?k.nodeName.toLowerCase()===da:1===
k.nodeType)||!++q||!(p&&((k[ha]||(k[ha]={}))[a]=[Oa,q]),k===b)););return q-=e,q===d||0===q%d&&0<=q/d}}},PSEUDO:function(a,b){var c,d=W.pseudos[a]||W.setFilters[a.toLowerCase()]||V.error("unsupported pseudo: "+a);return d[ha]?d(b):1<d.length?(c=[a,a,"",b],W.setFilters.hasOwnProperty(a.toLowerCase())?ua(function(a,c){for(var e,h=d(a,b),f=h.length;f--;)e=ec.call(a,h[f]),a[e]=!(c[e]=h[f])}):function(a){return d(a,0,c)}):d}},pseudos:{not:ua(function(a){var b=[],c=[],d=dc(a.replace(Rb,"$1"));return d[ha]?
ua(function(a,b,c,e){var h;c=d(a,null,e,[]);for(e=a.length;e--;)(h=c[e])&&(a[e]=!(b[e]=h))}):function(a,e,h){return b[0]=a,d(b,null,h,c),!c.pop()}}),has:ua(function(a){return function(b){return 0<V(a,b).length}}),contains:ua(function(a){return function(b){return-1<(b.textContent||b.innerText||Wb(b)).indexOf(a)}}),lang:ua(function(a){return cd.test(a||"")||V.error("unsupported lang: "+a),a=a.replace(Xa,Ya).toLowerCase(),function(b){var c;do if(c=Ja?b.getAttribute("xml:lang")||b.getAttribute("lang"):
b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=rb.location&&rb.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===Ea},focus:function(a){return a===va.activeElement&&(!va.hasFocus||va.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||
"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!W.pseudos.empty(a)},header:function(a){return ed.test(a.nodeName)},input:function(a){return dd.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;
return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:Ka(function(){return[0]}),last:Ka(function(a,b){return[b-1]}),eq:Ka(function(a,b,c){return[0>c?c+b:c]}),even:Ka(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:Ka(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:Ka(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:Ka(function(a,b,c){for(c=0>c?c+b:c;b>++c;)a.push(c);return a})}};for(zb in{radio:!0,
checkbox:!0,file:!0,password:!0,image:!0})W.pseudos[zb]=xb(zb);for(zb in{submit:!0,reset:!0})W.pseudos[zb]=Ta(zb);dc=V.compile=function(a,b){var c,d=[],e=[],h=yc[a+" "];if(!h){b||(b=Sa(a));for(c=b.length;c--;)h=fc(b[c]),h[ha]?d.push(h):e.push(h);var f=0,g=0<d.length,p=0<e.length;c=function(a,b,c,h,j){var k,Q,q=[],u=0,l="0",n=a&&[],m=null!=j,da=Vb,R=a||p&&W.find.TAG("*",j&&b.parentNode||b),y=Oa+=null==da?1:Math.random()||0.1;for(m&&(Vb=b!==va&&b,Tb=f);null!=(j=R[l]);l++){if(p&&j){for(k=0;Q=e[k++];)if(Q(j,
b,c)){h.push(j);break}m&&(Oa=y,Tb=++f)}g&&((j=!Q&&j)&&u--,a&&n.push(j))}if(u+=l,g&&l!==u){for(k=0;Q=d[k++];)Q(n,q,b,c);if(a){if(0<u)for(;l--;)n[l]||q[l]||(q[l]=ad.call(h));q=Kb(q)}tb.apply(h,q);m&&!a&&0<q.length&&1<u+d.length&&V.uniqueSort(h)}return m&&(Oa=y,Vb=da),n};c=g?ua(c):c;h=yc(a,c)}return h};W.pseudos.nth=W.pseudos.eq;W.filters=vc.prototype=W.pseudos;W.setFilters=new vc;sb();V.attr=h.attr;h.find=V;h.expr=V.selectors;h.expr[":"]=h.expr.pseudos;h.unique=V.uniqueSort;h.text=V.getText;h.isXMLDoc=
V.isXML;h.contains=V.contains;var gd=/Until$/,hd=/^(?:parents|prev(?:Until|All))/,Rc=/^.[^:#\[\.,]*$/,Bc=h.expr.match.needsContext,jd={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b,c,d,e=this.length;if("string"!=typeof a)return d=this,this.pushStack(h(a).filter(function(){for(b=0;e>b;b++)if(h.contains(d[b],this))return!0}));c=[];for(b=0;e>b;b++)h.find(a,this[b],c);return c=this.pushStack(1<e?h.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,
c=h(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(h.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(s(this,a,!1))},filter:function(a){return this.pushStack(s(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Bc.test(a)?0<=h(a,this.context).index(this[0]):0<h.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Bc.test(a)||"string"!=typeof a?h(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&
c!==b&&11!==c.nodeType;){if(g?-1<g.index(c):h.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return this.pushStack(1<f.length?h.unique(f):f)},index:function(a){return a?"string"==typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?h(a,b):h.makeArray(a&&a.nodeType?[a]:a),c=h.merge(this.get(),c);return this.pushStack(h.unique(c))},addBack:function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))}});h.fn.andSelf=h.fn.addBack;h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,c){return h.dir(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,c){return h.dir(a,"nextSibling",
c)},prevUntil:function(a,b,c){return h.dir(a,"previousSibling",c)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,b){h.fn[a]=function(c,d){var e=h.map(this,b,c);return gd.test(a)||(d=c),d&&"string"==typeof d&&(e=h.filter(d,e)),e=1<this.length&&!jd[a]?h.unique(e):e,1<this.length&&hd.test(a)&&
(e=e.reverse()),this.pushStack(e)}});h.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?h.find.matchesSelector(b[0],a)?[b[0]]:[]:h.find.matches(a,b)},dir:function(a,c,d){var e=[];for(a=a[c];a&&9!==a.nodeType&&(d===b||1!==a.nodeType||!h(a).is(d));)1===a.nodeType&&e.push(a),a=a[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var qc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
kd=/ jQuery\d+="(?:null|\d+)"/g,Cc=RegExp("<(?:"+qc+")[\\s/>]","i"),jc=/^\s+/,Dc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ec=/<([\w:]+)/,Fc=/<tbody/i,ld=/<|&#?\w+;/,md=/<(?:script|style|link)/i,ac=/^(?:checkbox|radio)$/i,nd=/checked\s*(?:[^=]|=\s*.checked.)/i,Gc=/^$|\/(?:java|ecma)script/i,Sc=/^true\/(.*)/,od=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ha={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:h.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},kc=w(D).appendChild(D.createElement("div"));Ha.optgroup=Ha.option;Ha.tbody=Ha.tfoot=Ha.colgroup=Ha.caption=Ha.thead;Ha.th=Ha.td;h.fn.extend({text:function(a){return h.access(this,function(a){return a===b?h.text(this):
this.empty().append((this[0]&&this[0].ownerDocument||D).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||0<h.filter(a,[c]).length)&&(b||1!==c.nodeType||h.cleanData(n(c)),c.parentNode&&
(b&&h.contains(c.ownerDocument,c)&&F(n(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&h.cleanData(n(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&h.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return h.clone(this,a,b)})},html:function(a){return h.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===
c.nodeType?c.innerHTML.replace(kd,""):b;if(!("string"!=typeof a||md.test(a)||!h.support.htmlSerialize&&Cc.test(a)||!h.support.leadingWhitespace&&jc.test(a)||Ha[(Ec.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Dc,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(h.cleanData(n(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h.isFunction(a)||"string"==typeof a||(a=h(a).not(this).detach()),this.domManip([a],!0,function(a){var b=
this.nextSibling,c=this.parentNode;c&&(h(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=ba.apply([],a);var e,f,g,p,j=0,k=this.length,q=this,u=k-1,l=a[0],m=h.isFunction(l);if(m||!(1>=k||"string"!=typeof l||h.support.checkClone)&&nd.test(l))return this.each(function(e){var h=q.eq(e);m&&(a[0]=l.call(this,e,c?h.html():b));h.domManip(a,c,d)});if(k&&(p=h.buildFragment(a,this[0].ownerDocument,!1,this),e=p.firstChild,1===p.childNodes.length&&
(p=e),e)){c=c&&h.nodeName(e,"tr");g=h.map(n(p,"script"),v);for(f=g.length;k>j;j++)e=p,j!==u&&(e=h.clone(e,!0,!0),f&&h.merge(g,n(e,"script"))),d.call(c&&h.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j],e,j);if(f){p=g[g.length-1].ownerDocument;h.map(g,r);for(j=0;f>j;j++)e=g[j],Gc.test(e.type||"")&&!h._data(e,"globalEval")&&h.contains(p,e)&&(e.src?h.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0}):h.globalEval((e.text||e.textContent||e.innerHTML||"").replace(od,"")))}p=e=null}return this}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(a){for(var c=0,d=[],e=h(a),f=e.length-1;f>=c;c++)a=c===f?this:this.clone(!0),h(e[c])[b](a),pa.apply(d,a.get());return this.pushStack(d)}});h.extend({clone:function(a,b,c){var d,e,f,g,p,j=h.contains(a.ownerDocument,a);if(h.support.html5Clone||h.isXMLDoc(a)||
!Cc.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(kc.innerHTML=a.outerHTML,kc.removeChild(f=kc.firstChild)),!(h.support.noCloneEvent&&h.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a))){d=n(f);p=n(a);for(g=0;null!=(e=p[g]);++g)if(d[g]){var k=d[g],q=void 0,u=void 0,l=void 0;if(1===k.nodeType){if(q=k.nodeName.toLowerCase(),!h.support.noCloneEvent&&k[h.expando]){l=h._data(k);for(u in l.events)h.removeEvent(k,u,l.handle);k.removeAttribute(h.expando)}"script"===q&&k.text!==e.text?
(v(k).text=e.text,r(k)):"object"===q?(k.parentNode&&(k.outerHTML=e.outerHTML),h.support.html5Clone&&e.innerHTML&&!h.trim(k.innerHTML)&&(k.innerHTML=e.innerHTML)):"input"===q&&ac.test(e.type)?(k.defaultChecked=k.checked=e.checked,k.value!==e.value&&(k.value=e.value)):"option"===q?k.defaultSelected=k.selected=e.defaultSelected:("input"===q||"textarea"===q)&&(k.defaultValue=e.defaultValue)}}}if(b)if(c){p=p||n(a);d=d||n(f);for(g=0;null!=(e=p[g]);g++)A(e,d[g])}else A(a,f);return d=n(f,"script"),0<d.length&&
F(d,!j&&n(a,"script")),f},buildFragment:function(a,b,c,d){for(var e,f,g,p,j,k,q,u=a.length,l=w(b),m=[],R=0;u>R;R++)if(f=a[R],f||0===f)if("object"===h.type(f))h.merge(m,f.nodeType?[f]:f);else if(ld.test(f)){p=p||l.appendChild(b.createElement("div"));j=(Ec.exec(f)||["",""])[1].toLowerCase();q=Ha[j]||Ha._default;p.innerHTML=q[1]+f.replace(Dc,"<$1></$2>")+q[2];for(e=q[0];e--;)p=p.lastChild;if(!h.support.leadingWhitespace&&jc.test(f)&&m.push(b.createTextNode(jc.exec(f)[0])),!h.support.tbody)for(e=(f="table"!==
j||Fc.test(f)?"<table>"!==q[1]||Fc.test(f)?0:p:p.firstChild)&&f.childNodes.length;e--;)h.nodeName(k=f.childNodes[e],"tbody")&&!k.childNodes.length&&f.removeChild(k);h.merge(m,p.childNodes);for(p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=l.lastChild}else m.push(b.createTextNode(f));p&&l.removeChild(p);h.support.appendChecked||h.grep(n(m,"input"),M);for(R=0;f=m[R++];)if((!d||-1===h.inArray(f,d))&&(g=h.contains(f.ownerDocument,f),p=n(l.appendChild(f),"script"),g&&F(p),c))for(e=0;f=p[e++];)Gc.test(f.type||
"")&&c.push(f);return l},cleanData:function(a,b){for(var c,d,e,f,g=0,p=h.expando,j=h.cache,k=h.support.deleteExpando,q=h.event.special;null!=(c=a[g]);g++)if((b||h.acceptData(c))&&(e=c[p],f=e&&j[e])){if(f.events)for(d in f.events)q[d]?h.event.remove(c,d):h.removeEvent(c,d,f.handle);j[e]&&(delete j[e],k?delete c[p]:typeof c.removeAttribute!==U?c.removeAttribute(p):c[p]=null,ya.push(e))}}});var Db,bb,cb,lc=/alpha\([^)]*\)/i,pd=/opacity\s*=\s*([^)]*)/,qd=/^(top|right|bottom|left)$/,rd=/^(none|table(?!-c[ea]).+)/,
Hc=/^margin/,Tc=RegExp("^("+za+")(.*)$","i"),Mb=RegExp("^("+za+")(?!px)[a-z%]+$","i"),sd=RegExp("^([+-])=("+za+")","i"),sc={BODY:"block"},td={position:"absolute",visibility:"hidden",display:"block"},Ic={letterSpacing:0,fontWeight:400},ab=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"];h.fn.extend({css:function(a,c){return h.access(this,function(a,c,d){var e,f={},g=0;if(h.isArray(c)){e=bb(a);for(d=c.length;d>g;g++)f[c[g]]=h.css(a,c[g],!1,e);return f}return d!==b?h.style(a,c,d):h.css(a,
c)},a,c,1<arguments.length)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:B(this))?h(this).show():h(this).hide()})}});h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,
c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,p,j=h.camelCase(c),k=a.style;if(c=h.cssProps[j]||(h.cssProps[j]=x(k,j)),p=h.cssHooks[c]||h.cssHooks[j],d===b)return p&&"get"in p&&(f=p.get(a,!1,e))!==b?f:k[c];if(g=typeof d,"string"===g&&(f=sd.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(h.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||h.cssNumber[j]||(d+="px"),h.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(k[c]="inherit"),p&&"set"in p&&(d=p.set(a,d,
e))===b)))try{k[c]=d}catch(q){}}},css:function(a,c,d,e){var f,g,p,j=h.camelCase(c);return c=h.cssProps[j]||(h.cssProps[j]=x(a.style,j)),p=h.cssHooks[c]||h.cssHooks[j],p&&"get"in p&&(g=p.get(a,!0,d)),g===b&&(g=cb(a,c,e)),"normal"===g&&c in Ic&&(g=Ic[c]),""===d||d?(f=parseFloat(g),!0===d||h.isNumeric(f)?f||0:g):g},swap:function(a,b,c,d){var e,h={};for(e in b)h[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=h[e];return c}});a.getComputedStyle?(bb=function(b){return a.getComputedStyle(b,
null)},cb=function(a,c,d){var e,f,g,p=(d=d||bb(a))?d.getPropertyValue(c)||d[c]:b,j=a.style;return d&&(""!==p||h.contains(a.ownerDocument,a)||(p=h.style(a,c)),Mb.test(p)&&Hc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=p,p=d.width,j.width=e,j.minWidth=f,j.maxWidth=g)),p}):D.documentElement.currentStyle&&(bb=function(a){return a.currentStyle},cb=function(a,c,d){var e,h,f;d=(d=d||bb(a))?d[c]:b;var g=a.style;return null==d&&g&&g[c]&&(d=g[c]),Mb.test(d)&&!qd.test(c)&&(e=
g.left,h=a.runtimeStyle,f=h&&h.left,f&&(h.left=a.currentStyle.left),g.left="fontSize"===c?"1em":d,d=g.pixelLeft+"px",g.left=e,f&&(h.left=f)),""===d?"auto":d});h.each(["height","width"],function(a,c){h.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&rd.test(h.css(a,"display"))?h.swap(a,td,function(){return N(a,c,e)}):N(a,c,e):b},set:function(a,b,d){var e=d&&bb(a);return l(a,b,d?z(a,c,d,h.support.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,e),e):0)}}});h.support.opacity||(h.cssHooks.opacity=
{get:function(a,c){return pd.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(a,c){var b=a.style,d=a.currentStyle,e=h.isNumeric(c)?"alpha(opacity="+100*c+")":"",f=d&&d.filter||b.filter||"";b.zoom=1;(1<=c||""===c)&&""===h.trim(f.replace(lc,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===c||d&&!d.filter)||(b.filter=lc.test(f)?f.replace(lc,e):f+" "+e)}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight=
{get:function(a,c){return c?h.swap(a,{display:"inline-block"},cb,[a,"marginRight"]):b}});!h.support.pixelPosition&&h.fn.position&&h.each(["top","left"],function(a,c){h.cssHooks[c]={get:function(a,d){return d?(d=cb(a,c),Mb.test(d)?h(a).position()[c]+"px":d):b}}})});h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!h.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||h.css(a,"display"))},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});
h.each({margin:"",padding:"",border:"Width"},function(a,c){h.cssHooks[a+c]={expand:function(b){var d=0,e={};for(b="string"==typeof b?b.split(" "):[b];4>d;d++)e[a+ab[d]+c]=b[d]||b[d-2]||b[0];return e}};Hc.test(a)||(h.cssHooks[a+c].set=l)});var ud=/%20/g,Uc=/\[\]$/,Jc=/\r?\n/g,vd=/^(?:submit|button|image|reset|file)$/i,wd=/^(?:input|select|textarea|keygen)/i;h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=h.prop(this,
"elements");return a?h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&wd.test(this.nodeName)&&!vd.test(a)&&(this.checked||!ac.test(a))}).map(function(a,c){var b=h(this).val();return null==b?null:h.isArray(b)?h.map(b,function(a){return{name:c.name,value:a.replace(Jc,"\r\n")}}):{name:c.name,value:b.replace(Jc,"\r\n")}}).get()}});h.param=function(a,c){var d,e=[],f=function(a,c){c=h.isFunction(c)?c():null==c?"":c;e[e.length]=encodeURIComponent(a)+"="+
encodeURIComponent(c)};if(c===b&&(c=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){f(this.name,this.value)});else for(d in a)T(d,a[d],c,f);return e.join("&").replace(ud,"+")};h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){h.fn[c]=function(a,b){return 0<
arguments.length?this.on(c,null,a,b):this.trigger(c)}});h.fn.hover=function(a,c){return this.mouseenter(a).mouseleave(c||a)};var jb,$a,mc=h.now(),nc=/\?/,xd=/#.*$/,Kc=/([?&])_=[^&]*/,yd=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zd=/^(?:GET|HEAD)$/,Ad=/^\/\//,Lc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Mc=h.fn.load,Nc={},bc={},Oc="*/".concat("*");try{$a=na.href}catch(Gd){$a=D.createElement("a"),$a.href="",$a=$a.href}jb=Lc.exec($a.toLowerCase())||[];h.fn.load=function(a,c,d){if("string"!=typeof a&&Mc)return Mc.apply(this,
arguments);var e,f,g,p=this,j=a.indexOf(" ");return 0<=j&&(e=a.slice(j,a.length),a=a.slice(0,j)),h.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),0<p.length&&h.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments;p.html(e?h("<div>").append(h.parseHTML(a)).find(e):a)}).complete(d&&function(a,c){p.each(d,f||[a.responseText,c,a])}),this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){h.fn[c]=function(a){return this.on(c,
a)}});h.each(["get","post"],function(a,c){h[c]=function(a,d,e,f){return h.isFunction(d)&&(f=f||e,e=d,d=b),h.ajax({url:a,type:c,dataType:f,data:d,success:e})}});h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$a,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},
contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,c){return c?ca(ca(a,h.ajaxSettings),c):ca(h.ajaxSettings,a)},ajaxPrefilter:t(Nc),ajaxTransport:t(bc),ajax:function(a,c){function d(a,c,e,f){var u,O,H,Q,t,r=c;if(2!==U){U=2;j&&clearTimeout(j);q=b;p=f||"";x.readyState=0<a?4:0;if(e){Q=l;f=x;var z,X,Ca,s,la=Q.contents,
L=Q.dataTypes,v=Q.responseFields;for(s in v)s in e&&(f[v[s]]=e[s]);for(;"*"===L[0];)L.shift(),X===b&&(X=Q.mimeType||f.getResponseHeader("Content-Type"));if(X)for(s in la)if(la[s]&&la[s].test(X)){L.unshift(s);break}if(L[0]in e)Ca=L[0];else{for(s in e){if(!L[0]||Q.converters[s+" "+L[0]]){Ca=s;break}z||(z=s)}Ca=Ca||z}Q=Ca?(Ca!==L[0]&&L.unshift(Ca),e[Ca]):b}if(200<=a&&300>a||304===a)if(l.ifModified&&(t=x.getResponseHeader("Last-Modified"),t&&(h.lastModified[g]=t),t=x.getResponseHeader("etag"),t&&(h.etag[g]=
t)),204===a)u=!0,r="nocontent";else if(304===a)u=!0,r="notmodified";else{var D;a:{e=l;u=Q;var w,B;H={};t=0;r=e.dataTypes.slice();z=r[0];if(e.dataFilter&&(u=e.dataFilter(u,e.dataType)),r[1])for(w in e.converters)H[w.toLowerCase()]=e.converters[w];for(;O=r[++t];)if("*"!==O){if("*"!==z&&z!==O){if(w=H[z+" "+O]||H["* "+O],!w)for(D in H)if(B=D.split(" "),B[1]===O&&(w=H[z+" "+B[0]]||H["* "+B[0]])){!0===w?w=H[D]:!0!==H[D]&&(O=B[0],r.splice(t--,0,O));break}if(!0!==w)if(w&&e["throws"])u=w(u);else try{u=w(u)}catch(A){D=
{state:"parsererror",error:w?A:"No conversion from "+z+" to "+O};break a}}z=O}D={state:"success",data:u}}u=D;r=u.state;O=u.data;H=u.error;u=!H}else H=r,(a||!r)&&(r="error",0>a&&(a=0));x.status=a;x.statusText=(c||r)+"";u?R.resolveWith(n,[O,r,x]):R.rejectWith(n,[x,r,H]);x.statusCode(Ba);Ba=b;k&&m.trigger(u?"ajaxSuccess":"ajaxError",[x,l,u?O:H]);y.fireWith(n,[x,r]);k&&(m.trigger("ajaxComplete",[x,l]),--h.active||h.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b);c=c||{};var e,f,g,p,j,k,q,u,
l=h.ajaxSetup({},c),n=l.context||l,m=l.context&&(n.nodeType||n.jquery)?h(n):h.event,R=h.Deferred(),y=h.Callbacks("once memory"),Ba=l.statusCode||{},O={},H={},U=0,t="canceled",x={readyState:0,getResponseHeader:function(a){var c;if(2===U){if(!u)for(u={};c=yd.exec(p);)u[c[1].toLowerCase()]=c[2];c=u[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===U?p:null},setRequestHeader:function(a,c){var b=a.toLowerCase();return U||(a=H[b]=H[b]||a,O[a]=c),this},overrideMimeType:function(a){return U||
(l.mimeType=a),this},statusCode:function(a){var c;if(a)if(2>U)for(c in a)Ba[c]=[Ba[c],a[c]];else x.always(a[x.status]);return this},abort:function(a){a=a||t;return q&&q.abort(a),d(0,a),this}};if(R.promise(x).complete=y.add,x.success=x.done,x.error=x.fail,l.url=((a||l.url||$a)+"").replace(xd,"").replace(Ad,jb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(xa)||[""],null==l.crossDomain&&(e=Lc.exec(l.url.toLowerCase()),l.crossDomain=!(!e||e[1]===
jb[1]&&e[2]===jb[2]&&(e[3]||("http:"===e[1]?80:443))==(jb[3]||("http:"===jb[1]?80:443)))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=h.param(l.data,l.traditional)),Y(Nc,l,c,x),2===U)return x;(k=l.global)&&0===h.active++&&h.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!zd.test(l.type);g=l.url;l.hasContent||(l.data&&(g=l.url+=(nc.test(g)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Kc.test(g)?g.replace(Kc,"$1_="+mc++):g+(nc.test(g)?"&":"?")+"_="+mc++));l.ifModified&&
(h.lastModified[g]&&x.setRequestHeader("If-Modified-Since",h.lastModified[g]),h.etag[g]&&x.setRequestHeader("If-None-Match",h.etag[g]));(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType);x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Oc+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)x.setRequestHeader(f,l.headers[f]);if(l.beforeSend&&(!1===l.beforeSend.call(n,x,l)||
2===U))return x.abort();t="abort";for(f in{success:1,error:1,complete:1})x[f](l[f]);if(q=Y(bc,l,c,x)){x.readyState=1;k&&m.trigger("ajaxSend",[x,l]);l.async&&0<l.timeout&&(j=setTimeout(function(){x.abort("timeout")},l.timeout));try{U=1,q.send(O,d)}catch(r){if(!(2>U))throw r;d(-1,r)}}else d(-1,"No Transport");return x},getScript:function(a,c){return h.get(a,b,c,"script")},getJSON:function(a,c,b){return h.get(a,c,b,"json")}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return h.globalEval(a),a}}});h.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});h.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=D.head||h("head")[0]||D.documentElement;return{send:function(b,e){c=D.createElement("script");c.async=!0;a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||
/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))};d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Pc=[],oc=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Pc.pop()||h.expando+"_"+mc++;return this[a]=!0,a}});h.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,p,j=!1!==c.jsonp&&(oc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&
oc.test(c.data)&&"data");return j||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=h.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,j?c[j]=c[j].replace(oc,"$1"+f):!1!==c.jsonp&&(c.url+=(nc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return p||h.error(f+" was not called"),p[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){p=arguments},e.always(function(){a[f]=g;c[f]&&(c.jsonpCallback=d.jsonpCallback,Pc.push(f));p&&h.isFunction(g)&&g(p[0]);p=g=b}),"script"):
b});var Cb,Lb,Bd=0,pc=a.ActiveXObject&&function(){for(var a in Cb)Cb[a](b,!0)};h.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&S()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}c=void 0}return c}:S;Lb=h.ajaxSettings.xhr();h.support.cors=!!Lb&&"withCredentials"in Lb;(Lb=h.support.ajax=!!Lb)&&h.ajaxTransport(function(c){if(!c.crossDomain||h.support.cors){var d;return{send:function(e,f){var g,p,j=c.xhr();if(c.username?j.open(c.type,c.url,c.async,c.username,
c.password):j.open(c.type,c.url,c.async),c.xhrFields)for(p in c.xhrFields)j[p]=c.xhrFields[p];c.mimeType&&j.overrideMimeType&&j.overrideMimeType(c.mimeType);c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(p in e)j.setRequestHeader(p,e[p])}catch(k){}j.send(c.hasContent&&c.data||null);d=function(a,e){var p,k,q,l;try{if(d&&(e||4===j.readyState))if(d=b,g&&(j.onreadystatechange=h.noop,pc&&delete Cb[g]),e)4!==j.readyState&&j.abort();else{l={};p=j.status;k=j.getAllResponseHeaders();
"string"==typeof j.responseText&&(l.text=j.responseText);try{q=j.statusText}catch(u){q=""}p||!c.isLocal||c.crossDomain?1223===p&&(p=204):p=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(p,q,l,k)};c.async?4===j.readyState?setTimeout(d):(g=++Bd,pc&&(Cb||(Cb={},h(a).unload(pc)),Cb[g]=d),j.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var kb,Zb,Cd=/^(?:toggle|show|hide)$/,Dd=RegExp("^(?:([+-])=|)("+za+")([a-z%]*)$","i"),Ed=/queueHooks$/,Nb=[function(a,c,b){var d,e,f,g,p,j,k=this,q=a.style,l={},
u=[],n=a.nodeType&&B(a);b.queue||(p=h._queueHooks(a,"fx"),null==p.unqueued&&(p.unqueued=0,j=p.empty.fire,p.empty.fire=function(){p.unqueued||j()}),p.unqueued++,k.always(function(){k.always(function(){p.unqueued--;h.queue(a,"fx").length||p.empty.fire()})}));1===a.nodeType&&("height"in c||"width"in c)&&(b.overflow=[q.overflow,q.overflowX,q.overflowY],"inline"===h.css(a,"display")&&"none"===h.css(a,"float")&&(h.support.inlineBlockNeedsLayout&&"inline"!==I(a.nodeName)?q.zoom=1:q.display="inline-block"));
b.overflow&&(q.overflow="hidden",h.support.shrinkWrapBlocks||k.always(function(){q.overflow=b.overflow[0];q.overflowX=b.overflow[1];q.overflowY=b.overflow[2]}));for(e in c)if(f=c[e],Cd.exec(f))(delete c[e],d=d||"toggle"===f,f===(n?"hide":"show"))||u.push(e);if(c=u.length){f=h._data(a,"fxshow")||h._data(a,"fxshow",{});"hidden"in f&&(n=f.hidden);d&&(f.hidden=!n);n?h(a).show():k.done(function(){h(a).hide()});k.done(function(){var c;h._removeData(a,"fxshow");for(c in l)h.style(a,c,l[c])});for(e=0;c>e;e++)d=
u[e],g=k.createTween(d,n?f[d]:0),l[d]=f[d]||h.style(a,d),d in f||(f[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}],Eb={"*":[function(a,c){var b,d,e=this.createTween(a,c),f=Dd.exec(c),g=e.cur(),p=+g||0,j=1,k=20;if(f){if(b=+f[2],d=f[3]||(h.cssNumber[a]?"":"px"),"px"!==d&&p){p=h.css(e.elem,a,!0)||b||1;do j=j||".5",p/=j,h.style(e.elem,a,p+d);while(j!==(j=e.cur()/g)&&1!==j&&--k)}e.unit=d;e.start=p;e.end=f[1]?p+(f[1]+1)*b:b}return e}]};h.Animation=h.extend(E,{tweener:function(a,
c){h.isFunction(a)?(c=a,a=["*"]):a=a.split(" ");for(var b,d=0,e=a.length;e>d;d++)b=a[d],Eb[b]=Eb[b]||[],Eb[b].unshift(c)},prefilter:function(a,c){c?Nb.unshift(a):Nb.push(a)}});h.Tween=K;K.prototype={constructor:K,init:function(a,c,b,d,e,f){this.elem=a;this.prop=b;this.easing=e||"swing";this.options=c;this.start=this.now=this.cur();this.end=d;this.unit=f||(h.cssNumber[b]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var c,
b=K.propHooks[this.prop];return this.pos=c=this.options.duration?h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):K.propHooks._default.set(this),this}};K.prototype.init.prototype=K.prototype;K.propHooks={_default:{get:function(a){var c;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(c=h.css(a.elem,a.prop,""),c&&"auto"!==
c?c:0):a.elem[a.prop]},set:function(a){h.fx.step[a.prop]?h.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||h.cssHooks[a.prop])?h.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.each(["toggle","show","hide"],function(a,c){var b=h.fn[c];h.fn[c]=function(a,d,e){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(q(c,!0),
a,d,e)}});h.fn.extend({fadeTo:function(a,c,b,d){return this.filter(B).css("opacity",0).show().end().animate({opacity:c},a,b,d)},animate:function(a,c,b,d){var e=h.isEmptyObject(a),f=h.speed(c,b,d),g=function(){var c=E(this,h.extend({},a),f);g.finish=function(){c.stop(!0)};(e||h._data(this,"finish"))&&c.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var c=a.stop;delete a.stop;c(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var c=!0,b=null!=a&&a+"queueHooks",f=h.timers,g=h._data(this);if(b)g[b]&&g[b].stop&&e(g[b]);else for(b in g)g[b]&&g[b].stop&&Ed.test(b)&&e(g[b]);for(b=f.length;b--;)f[b].elem!==this||null!=a&&f[b].queue!==a||(f[b].anim.stop(d),c=!1,f.splice(b,1));(c||!d)&&h.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var c,b=h._data(this),d=b[a+"queue"];c=b[a+"queueHooks"];var e=h.timers,f=d?d.length:0;b.finish=!0;h.queue(this,
a,[]);c&&c.cur&&c.cur.finish&&c.cur.finish.call(this);for(c=e.length;c--;)e[c].elem===this&&e[c].queue===a&&(e[c].anim.stop(!0),e.splice(c,1));for(c=0;f>c;c++)d[c]&&d[c].finish&&d[c].finish.call(this);delete b.finish})}});h.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){h.fn[a]=function(a,b,d){return this.animate(c,a,b,d)}});h.speed=function(a,c,b){var d=a&&"object"==typeof a?h.extend({},
a):{complete:b||!b&&c||h.isFunction(a)&&a,duration:a,easing:b&&c||c&&!h.isFunction(c)&&c};return d.duration=h.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in h.fx.speeds?h.fx.speeds[d.duration]:h.fx.speeds._default,(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){h.isFunction(d.old)&&d.old.call(this);d.queue&&h.dequeue(this,d.queue)},d};h.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};h.timers=[];h.fx=K.prototype.init;
h.fx.tick=function(){var a,c=h.timers,d=0;for(kb=h.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||h.fx.stop();kb=b};h.fx.timer=function(a){a()&&h.timers.push(a)&&h.fx.start()};h.fx.interval=13;h.fx.start=function(){Zb||(Zb=setInterval(h.fx.tick,h.fx.interval))};h.fx.stop=function(){clearInterval(Zb);Zb=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fx.step={};h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,function(c){return a===c.elem}).length});
h.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(c){h.offset.setOffset(this,a,c)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,h.contains(c,f)?(typeof f.getBoundingClientRect!==U&&(e=f.getBoundingClientRect()),d=H(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e};h.offset={setOffset:function(a,c,b){var d=h.css(a,"position");"static"===d&&(a.style.position=
"relative");var e=h(a),f=e.offset(),g=h.css(a,"top"),p=h.css(a,"left"),j={},k={},q,l;("absolute"===d||"fixed"===d)&&-1<h.inArray("auto",[g,p])?(k=e.position(),q=k.top,l=k.left):(q=parseFloat(g)||0,l=parseFloat(p)||0);h.isFunction(c)&&(c=c.call(a,b,f));null!=c.top&&(j.top=c.top-f.top+q);null!=c.left&&(j.left=c.left-f.left+l);"using"in c?c.using.call(a,j):e.css(j)}};h.fn.extend({position:function(){if(this[0]){var a,c,b={top:0,left:0},d=this[0];return"fixed"===h.css(d,"position")?c=d.getBoundingClientRect():
(a=this.offsetParent(),c=this.offset(),h.nodeName(a[0],"html")||(b=a.offset()),b.top+=h.css(a[0],"borderTopWidth",!0),b.left+=h.css(a[0],"borderLeftWidth",!0)),{top:c.top-b.top-h.css(d,"marginTop",!0),left:c.left-b.left-h.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||D.documentElement;a&&!h.nodeName(a,"html")&&"static"===h.css(a,"position");)a=a.offsetParent;return a||D.documentElement})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(a,c){var d=/Y/.test(c);h.fn[a]=function(e){return h.access(this,function(a,e,f){var g=H(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?h(g).scrollLeft():f,d?f:h(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}});h.each({Height:"height",Width:"width"},function(a,c){h.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){h.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),p=d||(!0===e||!0===f?"margin":"border");return h.access(this,
function(c,d,e){var f;return h.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?h.css(c,d,p):h.style(c,d,e,p)},c,g?e:b,g,null)}})});a.jQuery=a.$=h;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return h})})(window);
$.fn.dimensions=function(){var a={};$(this).each(function(){if(void 0===a.left)a.left=$(this).position().left,a.right=a.left+$(this).outerWidth(),a.top=$(this).position().top,a.bottom=a.top+$(this).outerHeight();else{var b=$(this).position().left,d=b+$(this).outerWidth(),c=$(this).position().top,e=c+$(this).outerHeight();b<a.left&&(a.left=b);d>a.right&&(a.right=d);c<a.top&&(a.top=c);e>a.bottom&&(a.bottom=e)}});a.height=a.bottom-a.top;a.width=a.right-a.left;a.center=a.left+Math.floor(a.width/2);a.middle=
a.top+Math.floor(a.height/2);return a};
(function(a,b){function d(b,d){var e,f,k,v=b.nodeName.toLowerCase();return"area"===v?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(k=a("img[usemap=#"+f+"]")[0],!!k&&c(k)):!1):(/input|select|textarea|button|object/.test(v)?!b.disabled:"a"===v?b.href||d:d)&&c(b)}function c(c){return a.expr.filters.visible(c)&&!a(c).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(c){return function(b,d){return"number"==typeof b?this.each(function(){var c=this;setTimeout(function(){a(c).focus();d&&d.call(c)},b)}):c.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var c;return c=a.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d,
e;for(c=a(this[0]);c.length&&c[0]!==document;){if(d=c.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e))return e;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(c){return function(b){return!!a.data(b,c)}}):
function(c,b,d){return!!a.data(c,d[3])},focusable:function(c){return d(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var b=a.attr(c,"tabindex"),e=isNaN(b);return(e||0<=b)&&d(c,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(c,b,d,g){return a.each(f,function(){b-=parseFloat(a.css(c,"padding"+this))||0;d&&(b-=parseFloat(a.css(c,"border"+this+"Width"))||0);g&&(b-=parseFloat(a.css(c,"margin"+this))||0)}),b}var f="Width"===d?["Left","Right"]:["Top","Bottom"],
k=d.toLowerCase(),v={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?v["inner"+d].call(this):this.each(function(){a(this).css(k,e(this,c)+"px")})};a.fn["outer"+d]=function(c,b){return"number"!=typeof c?v["outer"+d].call(this,c):this.each(function(){a(this).css(k,e(this,c,!0,b)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
if(a("<a>").data("a-b","a").removeData("a-b").data("a-b")){var k=a.fn.removeData;a.fn.removeData=function(c){return arguments.length?k.call(this,a.camelCase(c)):k.call(this)}}a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(c,b,d){var e;c=a.ui[c].prototype;for(e in d)c.plugins[e]=c.plugins[e]||[],c.plugins[e].push([b,d[e]])},call:function(a,c,b){var d=a.plugins[c];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(c=0;d.length>c;c++)a.options[d[c][0]]&&d[c][1].apply(a.element,b)}},hasScroll:function(c,b){if("hidden"===a(c).css("overflow"))return!1;var d=b&&"left"===b?"scrollLeft":"scrollTop";return 0<c[d]?!0:(c[d]=1,c[d]=0,!1)}})})(jQuery);
(function(a,b){var d=0,c=Array.prototype.slice,e=a.cleanData;a.cleanData=function(c){for(var b,d=0;null!=(b=c[d]);d++)try{a(b).triggerHandler("remove")}catch(j){}e(c)};a.widget=function(c,d,e){var j,m,s,w,v={},r=c.split(".")[0];c=c.split(".")[1];j=r+"-"+c;e||(e=d,d=a.Widget);a.expr[":"][j.toLowerCase()]=function(c){return!!a.data(c,j)};a[r]=a[r]||{};m=a[r][c];s=a[r][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new s(a,c)};a.extend(s,m,{version:e.version,
_proto:a.extend({},e),_childConstructors:[]});w=new d;w.options=a.widget.extend({},w.options);a.each(e,function(c,e){var f;if(a.isFunction(e)){var g=function(){return d.prototype[c].apply(this,arguments)},j=function(a){return d.prototype[c].apply(this,a)};f=(v[c]=function(){var a,c=this._super,b=this._superApply;return this._super=g,this._superApply=j,a=e.apply(this,arguments),this._super=c,this._superApply=b,a},b)}else f=(v[c]=e,b);return f});s.prototype=a.widget.extend(w,{widgetEventPrefix:m?w.widgetEventPrefix:
c},v,{constructor:s,namespace:r,widgetName:c,widgetFullName:j});m?(a.each(m._childConstructors,function(c,b){var d=b.prototype;a.widget(d.namespace+"."+d.widgetName,s,b._proto)}),delete m._childConstructors):d._childConstructors.push(s);a.widget.bridge(c,s)};a.widget.extend=function(d){for(var e,g,j=c.call(arguments,1),m=0,s=j.length;s>m;m++)for(e in j[m])g=j[m][e],j[m].hasOwnProperty(e)&&g!==b&&(d[e]=a.isPlainObject(g)?a.isPlainObject(d[e])?a.widget.extend({},d[e],g):a.widget.extend({},g):g);return d};
a.widget.bridge=function(d,e){var g=e.prototype.widgetFullName||d;a.fn[d]=function(j){var m="string"==typeof j,s=c.call(arguments,1),w=this;return j=!m&&s.length?a.widget.extend.apply(null,[j].concat(s)):j,m?this.each(function(){var c,e=a.data(this,g);return e?a.isFunction(e[j])&&"_"!==j.charAt(0)?(c=e[j].apply(e,s),c!==e&&c!==b?(w=c&&c.jquery?w.pushStack(c.get()):c,!1):b):a.error("no such method '"+j+"' for "+d+" widget instance"):a.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+
j+"'")}):this.each(function(){var c=a.data(this,g);c?c.option(j||{})._init():a.data(this,g,new e(j,this))}),w}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,b){b=a(b||this.defaultElement||this)[0];this.element=a(b);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),c);
this.bindings=a();this.hoverable=a();this.focusable=a();b!==this&&(a.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=a(b.style?b.ownerDocument:b.document||b),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,j,m,s=c;
if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(s={},e=c.split("."),c=e.shift(),e.length){j=s[c]=a.widget.extend({},this.options[c]);for(m=0;e.length-1>m;m++)j[e[m]]=j[e[m]]||{},j=j[e[m]];if(c=e.pop(),d===b)return j[c]===b?null:j[c];j[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];s[c]=d}return this._setOptions(s),this},_setOptions:function(a){for(var c in a)this._setOption(c,a[c]);return this},_setOption:function(a,c){return this.options[a]=
c,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var j,m=this;"boolean"!=typeof c&&(e=d,d=c,c=!1);e?(d=j=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,j=this.widget());a.each(e,function(e,
g){function v(){return c||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?m[g]:g).apply(m,arguments):b}"string"!=typeof g&&(v.guid=g.guid=g.guid||v.guid||a.guid++);var r=e.match(/^(\w+)\s*(.*)$/),F=r[1]+m.eventNamespace;(r=r[2])?j.delegate(r,F,v):d.bind(F,v)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(c).undelegate(c)},_delay:function(a,c){var b=this;return setTimeout(function(){return("string"==typeof a?
b[a]:a).apply(b,arguments)},c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){a(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){a(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){a(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){a(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,b,d){var e,m=this.options[c];
if(d=d||{},b=a.Event(b),b.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),b.target=this.element[0],c=b.originalEvent)for(e in c)e in b||(b[e]=c[e]);return this.element.trigger(b,d),!(a.isFunction(m)&&!1===m.apply(this.element[0],[b].concat(d))||b.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(c,b){a.Widget.prototype["_"+c]=function(d,e,m){"string"==typeof e&&(e={effect:e});var s,w=e?!0===e||"number"==typeof e?b:e.effect||b:c;e=e||{};"number"==typeof e&&
(e={duration:e});s=!a.isEmptyObject(e);e.complete=m;e.delay&&d.delay(e.delay);s&&a.effects&&a.effects.effect[w]?d[c](e):w!==c&&d[w]?d[w](e.duration,e.easing,m):d.queue(function(b){a(this)[c]();m&&m.call(d[0]);b()})}})})(jQuery);
(function(a){var b=!1;a(document).mouseup(function(){b=!1});a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var c=this,e=1===d.which,f="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(d)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(d),!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),
!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,b){function d(a,c,b){return[parseFloat(a[0])*(w.test(a[0])?c/100:1),parseFloat(a[1])*(w.test(a[1])?b/100:1)]}a.ui=a.ui||{};var c,e=Math.max,f=Math.abs,k=Math.round,g=/left|center|right/,j=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,w=/%$/,v=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),
d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(c){var b=c.isWindow?"":c.element.css("overflow-x"),d=c.isWindow?"":c.element.css("overflow-y"),b="scroll"===b||"auto"===b&&c.width<c.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&c.height<c.element[0].scrollHeight?a.position.scrollbarWidth():0,height:b?a.position.scrollbarWidth():0}},getWithinInfo:function(c){c=a(c||window);var b=a.isWindow(c[0]);return{element:c,
isWindow:b,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:b?c.width():c.outerWidth(),height:b?c.height():c.outerHeight()}}};a.fn.position=function(c){if(!c||!c.of)return v.apply(this,arguments);c=a.extend({},c);var b,n,l,z,r,w,X=a(c.of),M=a.position.getWithinInfo(c.within),t=a.position.getScrollInfo(M),A=(c.collision||"flip").split(" "),F={},S=X,Z=S[0];return w=9===Z.nodeType?{width:S.width(),height:S.height(),offset:{top:0,left:0}}:a.isWindow(Z)?{width:S.width(),
height:S.height(),offset:{top:S.scrollTop(),left:S.scrollLeft()}}:Z.preventDefault?{width:0,height:0,offset:{top:Z.pageY,left:Z.pageX}}:{width:S.outerWidth(),height:S.outerHeight(),offset:S.offset()},X[0].preventDefault&&(c.at="left top"),n=w.width,l=w.height,z=w.offset,r=a.extend({},z),a.each(["my","at"],function(){var a,b,d=(c[this]||"").split(" ");1===d.length&&(d=g.test(d[0])?d.concat(["center"]):j.test(d[0])?["center"].concat(d):["center","center"]);d[0]=g.test(d[0])?d[0]:"center";d[1]=j.test(d[1])?
d[1]:"center";a=m.exec(d[0]);b=m.exec(d[1]);F[this]=[a?a[0]:0,b?b[0]:0];c[this]=[s.exec(d[0])[0],s.exec(d[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===c.at[0]?r.left+=n:"center"===c.at[0]&&(r.left+=n/2),"bottom"===c.at[1]?r.top+=l:"center"===c.at[1]&&(r.top+=l/2),b=d(F.at,n,l),r.left+=b[0],r.top+=b[1],this.each(function(){var g,j,q=a(this),m=q.outerWidth(),R=q.outerHeight(),y=parseInt(a.css(this,"marginLeft"),10)||0,U=parseInt(a.css(this,"marginTop"),10)||0,D=m+y+(parseInt(a.css(this,"marginRight"),
10)||0)+t.width,w=R+U+(parseInt(a.css(this,"marginBottom"),10)||0)+t.height,s=a.extend({},r),v=d(F.my,q.outerWidth(),q.outerHeight());"right"===c.my[0]?s.left-=m:"center"===c.my[0]&&(s.left-=m/2);"bottom"===c.my[1]?s.top-=R:"center"===c.my[1]&&(s.top-=R/2);s.left+=v[0];s.top+=v[1];a.support.offsetFractions||(s.left=k(s.left),s.top=k(s.top));g={marginLeft:y,marginTop:U};a.each(["left","top"],function(d,e){a.ui.position[A[d]]&&a.ui.position[A[d]][e](s,{targetWidth:n,targetHeight:l,elemWidth:m,elemHeight:R,
collisionPosition:g,collisionWidth:D,collisionHeight:w,offset:[b[0]+v[0],b[1]+v[1]],my:c.my,at:c.at,within:M,elem:q})});c.using&&(j=function(a){var b=z.left-s.left,d=b+n-m,g=z.top-s.top,j=g+l-R,k={target:{element:X,left:z.left,top:z.top,width:n,height:l},element:{element:q,left:s.left,top:s.top,width:m,height:R},horizontal:0>d?"left":0<b?"right":"center",vertical:0>j?"top":0<g?"bottom":"middle"};m>n&&n>f(b+d)&&(k.horizontal="center");R>l&&l>f(g+j)&&(k.vertical="middle");k.important=e(f(b),f(d))>e(f(g),
f(j))?"horizontal":"vertical";c.using.call(this,a,k)});q.offset(a.extend(s,{using:j}))})};a.ui.position={fit:{left:function(a,c){var b,d=c.within,f=d.isWindow?d.scrollLeft:d.offset.left,d=d.width,g=a.left-c.collisionPosition.marginLeft,j=f-g,k=g+c.collisionWidth-d-f;c.collisionWidth>d?0<j&&0>=k?(b=a.left+j+c.collisionWidth-d-f,a.left+=j-b):a.left=0<k&&0>=j?f:j>k?f+d-c.collisionWidth:f:0<j?a.left+=j:0<k?a.left-=k:a.left=e(a.left-g,a.left)},top:function(a,c){var b,d=c.within,d=d.isWindow?d.scrollTop:
d.offset.top,f=c.within.height,g=a.top-c.collisionPosition.marginTop,j=d-g,k=g+c.collisionHeight-f-d;c.collisionHeight>f?0<j&&0>=k?(b=a.top+j+c.collisionHeight-f-d,a.top+=j-b):a.top=0<k&&0>=j?d:j>k?d+f-c.collisionHeight:d:0<j?a.top+=j:0<k?a.top-=k:a.top=e(a.top-g,a.top)}},flip:{left:function(a,c){var b,d,e=c.within,g=e.offset.left+e.scrollLeft,j=e.width,e=e.isWindow?e.scrollLeft:e.offset.left,k=a.left-c.collisionPosition.marginLeft,n=k-e,k=k+c.collisionWidth-j-e,m="left"===c.my[0]?-c.elemWidth:"right"===
c.my[0]?c.elemWidth:0,r="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,s=-2*c.offset[0];0>n?(b=a.left+m+r+s+c.collisionWidth-j-g,(0>b||f(n)>b)&&(a.left+=m+r+s)):0<k&&(d=a.left-c.collisionPosition.marginLeft+m+r+s-e,(0<d||k>f(d))&&(a.left+=m+r+s))},top:function(a,c){var b,d,e=c.within,g=e.offset.top+e.scrollTop,j=e.height,e=e.isWindow?e.scrollTop:e.offset.top,k=a.top-c.collisionPosition.marginTop,n=k-e,k=k+c.collisionHeight-j-e,m="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?
c.elemHeight:0,r="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,s=-2*c.offset[1];0>n?(d=a.top+m+r+s+c.collisionHeight-j-g,a.top+m+r+s>n&&(0>d||f(n)>d)&&(a.top+=m+r+s)):0<k&&(b=a.top-c.collisionPosition.marginTop+m+r+s-e,a.top+m+r+s>k&&(0<b||k>f(b))&&(a.top+=m+r+s))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};
var r,F,A,n,M=document.getElementsByTagName("body")[0];A=document.createElement("div");r=document.createElement(M?"div":"body");F={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};M&&a.extend(F,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in F)r.style[n]=F[n];r.appendChild(A);F=M||document.documentElement;F.insertBefore(r,F.firstChild);A.style.cssText="position: absolute; left: 10.7432222px;";A=a(A).offset().left;a.support.offsetFractions=10<A&&11>A;r.innerHTML=
"";F.removeChild(r)})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var d=this.options;return this.helper||d.disabled||0<a(b.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(b),this.handle?(a(!0===d.iframeFix?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var d=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,
d){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!d){var c=this._uiHash();if(!1===this._trigger("drag",b,c))return this._mouseUp({}),!1;this.position=c.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&
a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var d=this,c=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?a(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",b)&&d._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?
!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var d=this.options;b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[b])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo),b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==
typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,d,c,e=this.options;return e.containment?"window"===e.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===e.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):e.containment.constructor===Array?(this.containment=e.containment,void 0):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),d=a(e.containment),c=d[0],c&&(b="hidden"!==d.css("overflow"),this.containment=[(parseInt(d.css("borderLeftWidth"),
10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),10)||0),(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=d),void 0):(this.containment=null,void 0)},_convertPositionTo:function(b,d){d||(d=this.position);var c="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:d.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*c,left:d.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*c}},_generatePosition:function(b){var d,c,e,f,k=this.options,g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,j=b.pageX,m=b.pageY;return this.offset.scroll||(this.offset.scroll=
{top:g.scrollTop(),left:g.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(c=this.relative_container.offset(),d=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):d=this.containment,b.pageX-this.offset.click.left<d[0]&&(j=d[0]+this.offset.click.left),b.pageY-this.offset.click.top<d[1]&&(m=d[1]+this.offset.click.top),b.pageX-this.offset.click.left>d[2]&&(j=d[2]+this.offset.click.left),b.pageY-this.offset.click.top>
d[3]&&(m=d[3]+this.offset.click.top)),k.grid&&(e=k.grid[1]?this.originalPageY+Math.round((m-this.originalPageY)/k.grid[1])*k.grid[1]:this.originalPageY,m=d?e-this.offset.click.top>=d[1]||e-this.offset.click.top>d[3]?e:e-this.offset.click.top>=d[1]?e-k.grid[1]:e+k.grid[1]:e,f=k.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/k.grid[0])*k.grid[0]:this.originalPageX,j=d?f-this.offset.click.left>=d[0]||f-this.offset.click.left>d[2]?f:f-this.offset.click.left>=d[0]?f-k.grid[0]:f+k.grid[0]:
f)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(b,d,c){return c=c||this._uiHash(),a.ui.plugin.call(this,b,[d,c]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,d,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,d){var c=a(this).data("ui-draggable"),e=c.options,f=a.extend({},d,{item:c.element});c.sortables=
[];a(e.connectToSortable).each(function(){var d=a.data(this,"ui-sortable");d&&!d.options.disabled&&(c.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger("activate",b,f))})},stop:function(b,d){var c=a(this).data("ui-draggable"),e=a.extend({},d,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,d){var c=a(this).data("ui-draggable"),e=this;a.each(c.sortables,function(){var f=!1,k=this;this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(f=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==k&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(k.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",b),c.dropped=
this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
c._trigger("fromSortable",b),c.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),d=a(this).data("ui-draggable").options;b.css("cursor")&&(d._cursor=b.css("cursor"));b.css("cursor",d.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,d){var c=a(d.helper),e=a(this).data("ui-draggable").options;c.css("opacity")&&(e._opacity=c.css("opacity"));c.css("opacity",
e.opacity)},stop:function(b,d){var c=a(this).data("ui-draggable").options;c._opacity&&a(d.helper).css("opacity",c._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var d=a(this).data("ui-draggable"),c=d.options,e=!1;d.scrollParent[0]!==document&&"HTML"!==d.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(d.overflowOffset.top+
d.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-d.overflowOffset.top<c.scrollSensitivity&&(d.scrollParent[0].scrollTop=e=d.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?d.scrollParent[0].scrollLeft=e=d.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-d.overflowOffset.left<c.scrollSensitivity&&(d.scrollParent[0].scrollLeft=
e=d.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(b.pageY-a(document).scrollTop()<c.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(b.pageX-a(document).scrollLeft()<c.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<
c.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))));!1!==e&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),d=b.options;b.snapElements=[];a(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),
top:d.top,left:d.left})})},drag:function(b,d){var c,e,f,k,g,j,m,s,w,v,r=a(this).data("ui-draggable"),F=r.options,A=F.snapTolerance,n=d.offset.left,M=n+r.helperProportions.width,x=d.offset.top,B=x+r.helperProportions.height;for(w=r.snapElements.length-1;0<=w;w--)g=r.snapElements[w].left,j=g+r.snapElements[w].width,m=r.snapElements[w].top,s=m+r.snapElements[w].height,g-A>M||n>j+A||m-A>B||x>s+A||!a.contains(r.snapElements[w].item.ownerDocument,r.snapElements[w].item)?(r.snapElements[w].snapping&&r.options.snap.release&&
r.options.snap.release.call(r.element,b,a.extend(r._uiHash(),{snapItem:r.snapElements[w].item})),r.snapElements[w].snapping=!1):("inner"!==F.snapMode&&(c=A>=Math.abs(m-B),e=A>=Math.abs(s-x),f=A>=Math.abs(g-M),k=A>=Math.abs(j-n),c&&(d.position.top=r._convertPositionTo("relative",{top:m-r.helperProportions.height,left:0}).top-r.margins.top),e&&(d.position.top=r._convertPositionTo("relative",{top:s,left:0}).top-r.margins.top),f&&(d.position.left=r._convertPositionTo("relative",{top:0,left:g-r.helperProportions.width}).left-
r.margins.left),k&&(d.position.left=r._convertPositionTo("relative",{top:0,left:j}).left-r.margins.left)),v=c||e||f||k,"outer"!==F.snapMode&&(c=A>=Math.abs(m-x),e=A>=Math.abs(s-B),f=A>=Math.abs(g-n),k=A>=Math.abs(j-M),c&&(d.position.top=r._convertPositionTo("relative",{top:m,left:0}).top-r.margins.top),e&&(d.position.top=r._convertPositionTo("relative",{top:s-r.helperProportions.height,left:0}).top-r.margins.top),f&&(d.position.left=r._convertPositionTo("relative",{top:0,left:g}).left-r.margins.left),
k&&(d.position.left=r._convertPositionTo("relative",{top:0,left:j-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[w].snapping&&(c||e||f||k||v)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,b,a.extend(r._uiHash(),{snapItem:r.snapElements[w].item})),r.snapElements[w].snapping=c||e||f||k||v)}});a.ui.plugin.add("draggable","stack",{start:function(){var b,d=this.data("ui-draggable").options,d=a.makeArray(a(d.stack)).sort(function(c,b){return(parseInt(a(c).css("zIndex"),10)||
0)-(parseInt(a(b).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,d){var c=a(d.helper),e=a(this).data("ui-draggable").options;c.css("zIndex")&&(e._zIndex=c.css("zIndex"));c.css("zIndex",e.zIndex)},stop:function(b,d){var c=a(this).data("ui-draggable").options;c._zIndex&&a(d.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,d=b.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(d)?d:function(a){return a.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=
a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,d=a.ui.ddmanager.droppables[this.options.scope];d.length>b;b++)d[b]===this&&d.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,d){"accept"===b&&(this.accept=a.isFunction(d)?d:function(a){return a.is(d)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var d=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);d&&this._trigger("activate",b,this.ui(d))},_deactivate:function(b){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",b,this.ui(d))},_over:function(b){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(d)))},_out:function(b){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(d)))},_drop:function(b,d){var c=d||a.ui.ddmanager.current,e=!1;return c&&(c.currentItem||c.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===c.options.scope&&b.accept.call(b.element[0],c.currentItem||c.element)&&a.ui.intersect(c,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(c)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,d,c){if(!d.offset)return!1;var e,f,k=(a.positionAbs||a.position.absolute).left,g=k+a.helperProportions.width,j=(a.positionAbs||a.position.absolute).top,m=j+a.helperProportions.height,s=d.offset.left,w=s+d.proportions.width,v=d.offset.top,r=v+d.proportions.height;switch(c){case "fit":return k>=s&&w>=g&&j>=v&&r>=m;case "intersect":return k+
a.helperProportions.width/2>s&&w>g-a.helperProportions.width/2&&j+a.helperProportions.height/2>v&&r>m-a.helperProportions.height/2;case "pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,f>v&&v+d.proportions.height>f&&e>s&&s+d.proportions.width>e;case "touch":return(j>=v&&r>=j||m>=v&&r>=m||v>j&&m>r)&&(k>=s&&w>=k||g>=s&&w>=g||s>k&&g>w);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(b,d){var c,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],k=d?d.type:null,g=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();c=0;a:for(;f.length>c;c++)if(!(f[c].options.disabled||b&&!f[c].accept.call(f[c].element[0],b.currentItem||b.element))){for(e=0;g.length>e;e++)if(g[e]===f[c].element[0]){f[c].proportions.height=0;continue a}f[c].visible="none"!==f[c].element.css("display");f[c].visible&&("mousedown"===k&&f[c]._activate.call(f[c],
d),f[c].offset=f[c].element.offset(),f[c].proportions={width:f[c].element[0].offsetWidth,height:f[c].element[0].offsetHeight})}},drop:function(b,d){var c=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(c=this._drop.call(this,d)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
d)))}),c},dragStart:function(b,d){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,d)})},drag:function(b,d){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,d);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c,e,f,k=a.ui.intersect(b,this,this.options.tolerance);(k=!k&&this.isover?"isout":k&&!this.isover?"isover":null)&&(this.options.greedy&&
(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(c=a.data(f[0],"ui-droppable"),c.greedyChild="isover"===k)),c&&"isover"===k&&(c.isover=!1,c.isout=!0,c._out.call(c,d)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,d),c&&"isout"===k&&(c.isout=!1,c.isover=!0,c._over.call(c,d)))}})},dragStop:function(b,d){b.element.parentsUntil("body").unbind("scroll.droppable");
b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,d)}}})(jQuery);
(function(a){function b(a){return parseInt(a,10)||0}function d(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var c,b,d,k,g,j=this,m=this.options;if(this.element.addClass("ui-resizable"),
a.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=m.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");c=this.handles.split(",");this.handles={};for(b=0;c.length>b;b++)d=a.trim(c[b]),g="ui-resizable-"+d,k=a("<div class='ui-resizable-handle "+g+"'></div>"),k.css({zIndex:m.zIndex}),"se"===d&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(k)}this._renderAxis=function(c){var b,d,e,f;c=c||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=a(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[b],this.element),f=/sw|ne|nw|se|n|s/.test(b)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),c.css(e,f),this._proportionallyResize()),a(this.handles[b]).length};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){j.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),j.axis=k&&k[1]?k[1]:"se")});m.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){m.disabled||(a(this).removeClass("ui-resizable-autohide"),j._handles.show())}).mouseleave(function(){m.disabled||j.resizing||(a(this).addClass("ui-resizable-autohide"),j._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var c,b=function(c){a(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),c=this.element,this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),
this},_mouseCapture:function(c){var b,d,k=!1;for(b in this.handles)d=a(this.handles[b])[0],(d===c.target||a.contains(d,c.target))&&(k=!0);return!this.options.disabled&&k},_mouseStart:function(c){var d,f,k,g=this.options,j=this.element.position(),m=this.element;return this.resizing=!0,/absolute/.test(m.css("position"))?m.css({position:"absolute",top:m.css("top"),left:m.css("left")}):m.is(".ui-draggable")&&m.css({position:"absolute",top:j.top,left:j.left}),this._renderProxy(),d=b(this.helper.css("left")),
f=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,f+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:f},this.size=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalSize=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalPosition={left:d,top:f},this.sizeDiff={width:m.outerWidth()-m.width(),height:m.outerHeight()-
m.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===k?this.axis+"-resize":k),m.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(c){var b,d=this.helper,k={},g=this.originalMousePosition,j=this.position.top,m=this.position.left,s=this.size.width,w=this.size.height,
v=c.pageX-g.left||0,g=c.pageY-g.top||0,r=this._change[this.axis];return r?(b=r.apply(this,[c,v,g]),this._updateVirtualBoundaries(c.shiftKey),(this._aspectRatio||c.shiftKey)&&(b=this._updateRatio(b,c)),b=this._respectSize(b,c),this._updateCache(b),this._propagate("resize",c),this.position.top!==j&&(k.top=this.position.top+"px"),this.position.left!==m&&(k.left=this.position.left+"px"),this.size.width!==s&&(k.width=this.size.width+"px"),this.size.height!==w&&(k.height=this.size.height+"px"),d.css(k),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(k)||this._trigger("resize",c,this.ui()),!1):!1},_mouseStop:function(c){this.resizing=!1;var b,d,k,g,j,m,s,w=this.options;return this._helper&&(b=this._proportionallyResizeElements,d=b.length&&/textarea/i.test(b[0].nodeName),k=d&&a.ui.hasScroll(b[0],"left")?0:this.sizeDiff.height,g=d?0:this.sizeDiff.width,j={width:this.helper.width()-g,height:this.helper.height()-k},m=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,s=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,w.animate||this.element.css(a.extend(j,{top:s,left:m})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!w.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
f,k,g,j;j=this.options;j={minWidth:d(j.minWidth)?j.minWidth:0,maxWidth:d(j.maxWidth)?j.maxWidth:1/0,minHeight:d(j.minHeight)?j.minHeight:0,maxHeight:d(j.maxHeight)?j.maxHeight:1/0};(this._aspectRatio||a)&&(b=j.minHeight*this.aspectRatio,k=j.minWidth/this.aspectRatio,f=j.maxHeight*this.aspectRatio,g=j.maxWidth/this.aspectRatio,b>j.minWidth&&(j.minWidth=b),k>j.minHeight&&(j.minHeight=k),j.maxWidth>f&&(j.maxWidth=f),j.maxHeight>g&&(j.maxHeight=g));this._vBoundaries=j},_updateCache:function(a){this.offset=
this.helper.offset();d(a.left)&&(this.position.left=a.left);d(a.top)&&(this.position.top=a.top);d(a.height)&&(this.size.height=a.height);d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,f=this.size,k=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===k&&(a.left=b.left+(f.width-a.width),a.top=null),"nw"===k&&(a.top=b.top+(f.height-a.height),a.left=b.left+(f.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,f=this.axis,k=d(a.width)&&b.maxWidth&&b.maxWidth<a.width,g=d(a.height)&&b.maxHeight&&b.maxHeight<a.height,j=d(a.width)&&b.minWidth&&b.minWidth>a.width,m=d(a.height)&&b.minHeight&&b.minHeight>a.height,s=this.originalPosition.left+this.originalSize.width,w=this.position.top+this.size.height,v=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);return j&&(a.width=b.minWidth),m&&(a.height=b.minHeight),k&&(a.width=b.maxWidth),g&&(a.height=b.maxHeight),j&&v&&(a.left=s-b.minWidth),k&&v&&(a.left=s-b.maxWidth),
m&&f&&(a.top=w-b.minHeight),g&&f&&(a.top=w-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,d,k,g,j=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(g=this._proportionallyResizeElements[a],!this.borderDif){this.borderDif=[];d=[g.css("borderTopWidth"),g.css("borderRightWidth"),g.css("borderBottomWidth"),g.css("borderLeftWidth")];
k=[g.css("paddingTop"),g.css("paddingRight"),g.css("paddingBottom"),g.css("paddingLeft")];for(b=0;d.length>b;b++)this.borderDif[b]=(parseInt(d[b],10)||0)+(parseInt(k[b],10)||0)}g.css({height:j.height()-this.borderDif[0]-this.borderDif[2]||0,width:j.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(a,b,d){return{height:this.originalSize.height+
d}},se:function(c,b,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,b,d]))},sw:function(c,b,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,b,d]))},ne:function(c,b,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,b,d]))},nw:function(c,b,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,b,d]))}},_propagate:function(c,b){a.ui.plugin.call(this,c,[b,this.ui()]);
"resize"!==c&&this._trigger(c,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(c){var b=a(this).data("ui-resizable"),d=b.options,k=b._proportionallyResizeElements,g=k.length&&/textarea/i.test(k[0].nodeName),j=g&&a.ui.hasScroll(k[0],"left")?0:b.sizeDiff.height,g=
{width:b.size.width-(g?0:b.sizeDiff.width),height:b.size.height-j},j=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,m=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate(a.extend(g,m&&j?{top:m,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),
10)};k&&k.length&&a(k[0]).css({width:d.width,height:d.height});b._updateCache(d);b._propagate("resize",c)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var c,d,f,k,g,j,m,s=a(this).data("ui-resizable"),w=s.element,v=s.options.containment;(w=v instanceof a?v.get(0):/parent/.test(v)?w.parent().get(0):v)&&(s.containerElement=a(w),/document/.test(v)||v===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(w),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,f){d[a]=b(c.css("padding"+f))}),s.containerOffset=c.offset(),s.containerPosition=c.position(),s.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},f=s.containerOffset,k=s.containerSize.height,g=s.containerSize.width,j=a.ui.hasScroll(w,"left")?w.scrollWidth:g,m=a.ui.hasScroll(w)?w.scrollHeight:k,s.parentData={element:w,left:f.left,top:f.top,width:j,
height:m}))},resize:function(c){var b,d,k,g,j=a(this).data("ui-resizable");b=j.options;d=j.containerOffset;k=j.position;c=j._aspectRatio||c.shiftKey;g={top:0,left:0};var m=j.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(g=d);k.left<(j._helper?d.left:0)&&(j.size.width+=j._helper?j.position.left-d.left:j.position.left-g.left,c&&(j.size.height=j.size.width/j.aspectRatio),j.position.left=b.helper?d.left:0);k.top<(j._helper?d.top:0)&&(j.size.height+=j._helper?j.position.top-d.top:
j.position.top,c&&(j.size.width=j.size.height*j.aspectRatio),j.position.top=j._helper?d.top:0);j.offset.left=j.parentData.left+j.position.left;j.offset.top=j.parentData.top+j.position.top;b=Math.abs(j.offset.left-g.left+j.sizeDiff.width);d=Math.abs((j._helper?j.offset.top-g.top:j.offset.top-d.top)+j.sizeDiff.height);k=j.containerElement.get(0)===j.element.parent().get(0);g=/relative|absolute/.test(j.containerElement.css("position"));k&&g&&(b-=j.parentData.left);b+j.size.width>=j.parentData.width&&
(j.size.width=j.parentData.width-b,c&&(j.size.height=j.size.width/j.aspectRatio));d+j.size.height>=j.parentData.height&&(j.size.height=j.parentData.height-d,c&&(j.size.width=j.size.height*j.aspectRatio))},stop:function(){var c=a(this).data("ui-resizable"),b=c.options,d=c.containerOffset,k=c.containerPosition,g=c.containerElement,j=a(c.helper),m=j.offset(),s=j.outerWidth()-c.sizeDiff.width,j=j.outerHeight()-c.sizeDiff.height;c._helper&&!b.animate&&/relative/.test(g.css("position"))&&a(this).css({left:m.left-
k.left-d.left,width:s,height:j});c._helper&&!b.animate&&/static/.test(g.css("position"))&&a(this).css({left:m.left-k.left-d.left,width:s,height:j})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var c=a(this).data("ui-resizable").options,b=function(c){a(c).each(function(){var c=a(this);c.data("ui-resizable-alsoresize",{width:parseInt(c.width(),10),height:parseInt(c.height(),10),left:parseInt(c.css("left"),10),top:parseInt(c.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?
b(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],b(c.alsoResize)):a.each(c.alsoResize,function(a){b(a)})},resize:function(c,b){var d=a(this).data("ui-resizable"),k=d.options,g=d.originalSize,j=d.originalPosition,m={height:d.size.height-g.height||0,width:d.size.width-g.width||0,top:d.position.top-j.top||0,left:d.position.left-j.left||0},s=function(c,d){a(c).each(function(){var c=a(this),f=a(this).data("ui-resizable-alsoresize"),g={},j=d&&d.length?d:c.parents(b.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(j,function(a,c){var b=(f[c]||0)+(m[c]||0);b&&0<=b&&(g[c]=b||null)});c.css(g)})};"object"!=typeof k.alsoResize||k.alsoResize.nodeType?s(k.alsoResize):a.each(k.alsoResize,function(a,c){s(a,c)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var c=a(this).data("ui-resizable"),b=c.options,d=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:0.25,display:"block",position:"relative",
height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:"");c.ghost.appendTo(c.helper)},resize:function(){var c=a(this).data("ui-resizable");c.ghost&&c.ghost.css({position:"relative",height:c.size.height,width:c.size.width})},stop:function(){var c=a(this).data("ui-resizable");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var c=a(this).data("ui-resizable"),
b=c.options,d=c.size,k=c.originalSize,g=c.originalPosition,j=c.axis,m="number"==typeof b.grid?[b.grid,b.grid]:b.grid,s=m[0]||1,w=m[1]||1,v=Math.round((d.width-k.width)/s)*s,d=Math.round((d.height-k.height)/w)*w,r=k.width+v,k=k.height+d,F=b.maxWidth&&r>b.maxWidth,A=b.maxHeight&&k>b.maxHeight,n=b.minWidth&&b.minWidth>r,M=b.minHeight&&b.minHeight>k;b.grid=m;n&&(r+=s);M&&(k+=w);F&&(r-=s);A&&(k-=w);/^(se|s|e)$/.test(j)?(c.size.width=r,c.size.height=k):/^(ne)$/.test(j)?(c.size.width=r,c.size.height=k,c.position.top=
g.top-d):/^(sw)$/.test(j)?(c.size.width=r,c.size.height=k,c.position.left=g.left-v):(c.size.width=r,c.size.height=k,c.position.top=g.top-d,c.position.left=g.left-v)}})})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=a(d.options.filter,d.element[0]);b.addClass("ui-selectee");b.each(function(){var c=a(this),b=c.offset();a.data(this,"selectable-item",{element:this,$element:c,
left:b.left,top:b.top,right:b.left+c.outerWidth(),bottom:b.top+c.outerHeight(),startselected:!1,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(b){var d=this,c=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",b),a(c.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var c=a.data(this,"selectable-item");c.startselected=!0;b.metaKey||b.ctrlKey||(c.$element.removeClass("ui-selected"),c.selected=!1,
c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element}))}),a(b.target).parents().addBack().each(function(){var c,f=a.data(this,"selectable-item");return f?(c=!b.metaKey&&!b.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(c?"ui-unselecting":"ui-selected").addClass(c?"ui-selecting":"ui-unselecting"),f.unselecting=!c,f.selecting=c,f.selected=c,c?d._trigger("selecting",b,{selecting:f.element}):d._trigger("unselecting",b,{unselecting:f.element}),
!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var d,c=this,e=this.options,f=this.opos[0],k=this.opos[1],g=b.pageX,j=b.pageY;return f>g&&(d=g,g=f,f=d),k>j&&(d=j,j=k,k=d),this.helper.css({left:f,top:k,width:g-f,height:j-k}),this.selectees.each(function(){var d=a.data(this,"selectable-item");d&&d.element!==c.element[0]&&(d.selecting&&((b.metaKey||b.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=
!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),d.unselecting=!0),c._trigger("unselecting",b,{unselecting:d.element}))),d.selected&&(b.metaKey||b.ctrlKey||d.startselected||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))))}),!1}},_mouseStop:function(b){var d=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var c=
a.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=!1;c.startselected=!1;d._trigger("unselected",b,{unselected:c.element})}),a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=!1;c.selected=!0;c.startselected=!0;d._trigger("selected",b,{selected:c.element})}),this._trigger("stop",b),this.helper.remove(),!1}})})(jQuery);
(function(a){function b(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||b(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var e=null,f=!1,k=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,k.widgetName+"-item")===
k?(e=a(this),!1):void 0}),a.data(b.target,k.widgetName+"-item")===k&&(e=a(b.target)),e?!this.options.handle||c||(a(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(f=!0)}),f)?(this.currentItem=e,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,e){var f;c=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&"auto"!==c.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",c.cursor),this.storedStylesheet=a("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(f)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&
(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,e,f,k;c=this.options;var g=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
g=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?g=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(g=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?g=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(g=a(document).scrollLeft(a(document).scrollLeft()+
c.scrollSpeed))),!1!==g&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(e=this.items[c],f=e.item[0],k=this._intersectsWithPointer(e),k&&e.instance===this.currentContainer&&f!==this.currentItem[0]&&
this.placeholder[1===k?"next":"prev"]()[0]!==f&&!a.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],f):!0)){if(this.direction=1===k?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(b,e);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,
c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var e=this,f=this.placeholder.offset(),k=this.options.axis,g={};k&&"x"!==k||(g.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));k&&"y"!==k||(g.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(g,parseInt(this.options.revert,
10)||500,function(){e._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=
b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&e.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!e.length&&b.key&&e.push(b.key+"="),e.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),e=[];return b=b||{},c.each(function(){e.push(a(b.item||this).attr(b.attribute||"id")||"")}),e},_intersectsWith:function(a){var c=this.positionAbs.left,b=c+this.helperProportions.width,f=this.positionAbs.top,
k=f+this.helperProportions.height,g=a.left,j=g+a.width,m=a.top,s=m+a.height,w=this.offset.click.top,v=this.offset.click.left,v="y"===this.options.axis||c+v>g&&j>c+v,w=("x"===this.options.axis||f+w>m&&s>f+w)&&v;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?w:c+this.helperProportions.width/2>g&&j>b-this.helperProportions.width/2&&f+this.helperProportions.height/
2>m&&s>k-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>a.left&&a.left+a.width>this.positionAbs.left+this.offset.click.left;a=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>a.top&&a.top+a.height>this.positionAbs.top+this.offset.click.top)&&c;var c=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return a?this.floating?b&&"right"===b||"down"===c?2:1:c&&("down"===
c?2:1):!1},_intersectsWithSides:function(a){var c=this.positionAbs.top+this.offset.click.top>a.top+a.height/2&&a.top+a.height/2+a.height>this.positionAbs.top+this.offset.click.top;a=this.positionAbs.left+this.offset.click.left>a.left+a.width/2&&a.left+a.width/2+a.width>this.positionAbs.left+this.offset.click.left;var b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&a||"left"===f&&!a:b&&("down"===b&&c||"up"===b&&!c)},_getDragVerticalDirection:function(){var a=
this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,e,f,k=[],g=[],j=this._connectWith();if(j&&b)for(b=j.length-1;0<=
b;b--){e=a(j[b]);for(c=e.length-1;0<=c;c--)(f=a.data(e[c],this.widgetFullName))&&f!==this&&!f.options.disabled&&g.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}g.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(b=g.length-1;0<=b;b--)g[b][0].each(function(){k.push(this)});return a(k)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var e=0;b.length>e;e++)if(b[e]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var c,e,f,k,g,j=this.items,m=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,
this.element),this]];if((g=this._connectWith())&&this.ready)for(c=g.length-1;0<=c;c--){f=a(g[c]);for(e=f.length-1;0<=e;e--)(k=a.data(f[e],this.widgetFullName))&&k!==this&&!k.options.disabled&&(m.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],b,{item:this.currentItem}):a(k.options.items,k.element),k]),this.containers.push(k))}for(c=m.length-1;0<=c;c--){b=m[c][1];f=m[c][0];e=0;for(g=f.length;g>e;e++)k=a(f[e]),k.data(this.widgetName+"-item",b),j.push({item:k,instance:b,width:0,
height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,e,f,k;for(c=this.items.length-1;0<=c;c--)e=this.items[c],e.instance!==this.currentContainer&&this.currentContainer&&e.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item,b||(e.width=f.outerWidth(),e.height=f.outerHeight()),k=f.offset(),e.left=k.left,e.top=k.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(c=this.containers.length-1;0<=c;c--)k=this.containers[c].element.offset(),this.containers[c].containerCache.left=k.left,this.containers[c].containerCache.top=k.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,e=b.options;e.placeholder&&e.placeholder.constructor!==String||(c=e.placeholder,e.placeholder={element:function(){var e=
b.currentItem[0].nodeName.toLowerCase(),k=a("<"+e+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(k)}):"img"===e&&k.attr("src",b.currentItem.attr("src")),c||k.css("visibility","hidden"),k},update:function(a,k){(!c||e.forcePlaceholderSize)&&(k.height()||k.height(b.currentItem.innerHeight()-
parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),k.width()||k.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}});b.placeholder=a(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var c,e,f,k,g,j,m,s,w,v=e=null;for(c=this.containers.length-1;0<=c;c--)if(!a.contains(this.currentItem[0],
this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(!e||!a.contains(this.containers[c].element[0],e.element[0]))e=this.containers[c],v=c}else this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",d,this._uiHash(this)),this.containers[c].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",d,this._uiHash(this)),this.containers[v].containerCache.over=1);else{c=
1E4;f=null;k=(w=e.floating||b(this.currentItem))?"left":"top";g=w?"width":"height";j=this.positionAbs[k]+this.offset.click[k];for(e=this.items.length-1;0<=e;e--)a.contains(this.containers[v].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(!w||this.positionAbs.top+this.offset.click.top>this.items[e].top&&this.items[e].top+this.items[e].height>this.positionAbs.top+this.offset.click.top)&&(m=this.items[e].item.offset()[k],s=!1,Math.abs(m-j)>Math.abs(m+this.items[e][g]-
j)&&(s=!0,m+=this.items[e][g]),c>Math.abs(m-j)&&(c=Math.abs(m-j),f=this.items[e],this.direction=s?"up":"down"));if((f||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[v])f?this._rearrange(d,f,null,!0):this._rearrange(d,null,this.containers[v].element,!0),this._trigger("change",d,this._uiHash()),this.containers[v]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[v],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",
d,this._uiHash(this)),this.containers[v].containerCache.over=1}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in
b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,e,f=this.options;"parent"===f.containment&&(f.containment=this.helper[0].parentNode);("document"===f.containment||"window"===f.containment)&&(this.containment=[0-this.offset.relative.left-
this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===f.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===f.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(f.containment)||(b=a(f.containment)[0],c=a(f.containment).offset(),e="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),
10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(e?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var e="absolute"===b?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():k?0:f.scrollTop())*e,left:c.left+this.offset.relative.left*
e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():k?0:f.scrollLeft())*e}},_generatePosition:function(b){var c,e,f=this.options,k=b.pageX,g=b.pageY,j="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(j[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=
this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(k=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),f.grid&&(c=this.originalPageY+Math.round((g-
this.originalPageY)/f.grid[1])*f.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-f.grid[1]:c+f.grid[1]:c,e=this.originalPageX+Math.round((k-this.originalPageX)/f.grid[0])*f.grid[0],k=this.containment?e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-f.grid[0]:e+f.grid[0]:e)),{top:g-this.offset.click.top-
this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:j.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:j.scrollLeft())}},_rearrange:function(a,b,e,f){e?e[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var k=this.counter=this.counter?++this.counter:
1;this._delay(function(){k===this.counter&&this.refreshPositions(!f)})},_clear:function(a,b){this.reverting=!1;var e,f=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)("auto"===this._storedCSS[e]||"static"===this._storedCSS[e])&&(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
!b&&f.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||f.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(b||(f.push(function(a){this._trigger("remove",a,this._uiHash())}),f.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),
f.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)b||f.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(f.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",
this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;f.length>e;e++)f[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(e=0;f.length>e;e++)f[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})})(jQuery);
var Lasso={id:"Lasso",container:"body",selector:"div",style:{"z-index":100,border:"1px solid #0c79cc",position:"absolute"},scrollTop:0,append:function(){if(0<$("#"+Lasso.id).length)return null;var a=$("<div></div>");a.attr("id",Lasso.id);a.css(Lasso.style);a.css({top:Lasso.mousedown.pageY,left:Lasso.mousedown.pageX});$(Lasso.container).append(a)},disable:function(){$(document).off("mousedown",Lasso.onmousedown);$(document).off("slide",Lasso.slide);$(document).off("slideend",Lasso.release)},enable:function(){$(document).on("mousedown",
Lasso.onmousedown);$(document).on("slide",Lasso.slide);$(document).on("slideend",Lasso.release)},onmousedown:function(a){Lasso.mousedown=a;Lasso.scrollTop=$(Lasso.container).scrollTop();return!0},release:function(){var a=$("#"+Lasso.id);if(0===a.length)return null;var b,d,c,e;b=a.offset().left;d=a.offset().left+a.outerWidth();c=a.offset().top;e=a.offset().top+a.outerHeight();$();$(Lasso.selector).each(function(){var a=$(this);if(a.offset().left<b||a.offset().left+a.outerWidth()>d||a.offset().top<
c||a.offset().top+a.outerHeight()>e)return!0;$(this).addClass("Lasso")});$(".Lasso").each(function(){$(this).find(".Lasso").each(function(){$(this).removeClass("Lasso")})});$(".Lasso").each(function(){$(this).removeClass("Lasso");$(this).trigger("lasso")});a.remove()},slide:function(a,b){Lasso.append();var d=$("#"+Lasso.id),c=$(Lasso.container).scrollTop()-Lasso.scrollTop,c={vertical:Lasso.mousedown.pageY-c,horizontal:Lasso.mousedown.pageX},e;for(e in c){var f=e,k=c[e],g="horizontal"==f?b.pageX:b.pageY,
j="horizontal"==f?"width":"height",f="horizontal"==f?"left":"top",m=g-k;0<=m?d.css(j,m).css(f,k):d.css(f,g).css(j,-m)}}},ValidateEmail=function(a){return/\S+@\S+\.\S+/.test(a)},ParseQueryString=function(){for(var a={},b,d=/\+/g,c=/([^&=]+)=?([^&]*)/g,e=window.location.search.substring(1);b=c.exec(e);)a[decodeURIComponent(b[1].replace(d," "))]=decodeURIComponent(b[2].replace(d," "));return a},Permalink=function(a){return!a?"":a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"_")};
$.scrollbarWidth=function(){if(navigator.userAgent.match(/Mac OS X 10_7/))return 10;var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"> </div>');$("body").append(a);var b=$("div",a).innerWidth();a.css("overflow-y","scroll");var d=$("div",a).innerWidth();a.remove();return b-d};
$.isOnScrollbar=function(a,b){var d=$.scrollbarWidth(),c=$(window).width(),e=$(window).height(),f=$("body").width(),k=$("body").height()>e;return k&&c-a<d||f>c&&e-b<d?!0:!1};var ToProperCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},ParseName=function(a){return!a?"":ToProperCase(a.replace(/\@.*/,"").replace(/[0-9]/g,"").replace(/\./," "))};
$.topDiv=function(a,b,d){var c=null;$(a).each(function(){var a=$(this);if(a.position().left>b||a.position().left+a.outerWidth()<b)return!0;var f=a.position().top;if(f>d||f+a.outerHeight()<d)return!0;if(!c)return c=a;var f=parseFloat(a.css("z-index")),k=parseFloat(c.css("z-index"));if(f>k)return c=a;if(f<k)return!0;if(a.index()>c.index())return c=a});return c};
(function(a,b,d){function c(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=tinycolor(a[e]),g=0.5>f.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",g=g+(tinycolor.equals(b,a[e])?" sp-thumb-active":""),j=v?"background-color:"+f.toRgbString():"filter:"+f.toFilter();d.push('<span title="'+f.toRgbString()+'" data-color="'+f.toRgbString()+'" class="'+g+'"><span class="sp-thumb-inner" style="'+j+';" /></span>')}return"<div class='sp-cf "+c+"'>"+d.join("")+"</div>"}function e(a,c){var d=
a.outerWidth(),e=a.outerHeight(),f=c.outerHeight(),g=a[0].ownerDocument,j=g.documentElement,k=j.clientWidth+b(g).scrollLeft(),g=j.clientHeight+b(g).scrollTop(),j=c.offset();j.top+=f;j.left-=Math.min(j.left,j.left+d>k&&k>d?Math.abs(j.left+d-k):0);j.top-=Math.min(j.top,j.top+e>g&&g>e?Math.abs(e+f-0):0);return j}function f(){}function k(a){a.stopPropagation()}function g(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function j(c,
d,e,f){function g(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function j(a){if(l){if(w&&9>document.documentMode&&!a.button)return k();var b=a.originalEvent.touches,e=b?b[0].pageY:a.pageY,b=Math.max(0,Math.min((b?b[0].pageX:a.pageX)-n.left,H)),e=Math.max(0,Math.min(e-n.top,m));O&&g(a);d.apply(c,[b,e,a])}}function k(){l&&(b(q).unbind(r),b(q.body).removeClass("sp-dragging"),f.apply(c,arguments));l=!1}d=d||function(){};e=e||function(){};f=f||function(){};
var q=c.ownerDocument||document,l=!1,n={},m=0,H=0,O="ontouchstart"in a,r={};r.selectstart=g;r.dragstart=g;r[O?"touchmove":"mousemove"]=j;r[O?"touchend":"mouseup"]=k;b(c).bind(O?"touchstart":"mousedown",function(a){if(!(a.which?3==a.which:2==a.button)&&!l&&!1!==e.apply(c,arguments))l=!0,m=b(c).height(),H=b(c).width(),n=b(c).offset(),b(q).bind(r),b(q.body).addClass("sp-dragging"),O||j(a),g(a)})}var m={beforeShow:f,move:f,change:f,show:f,hide:f,color:!1,flat:!1,showInput:!0,showButtons:!1,clickoutFiresChange:!1,
showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},s=[],w=!!/msie/i.exec(a.navigator.userAgent),v,r=document.createElement("div").style;r.cssText="background-color:rgba(0,0,0,.5)";v=!!~(""+r.backgroundColor).indexOf("rgba")||!!~(""+r.backgroundColor).indexOf("hsla");var F,r="";if(w)for(var A=
1;6>=A;A++)r+="<div class='sp-"+A+"'></div>";F=["<div class='sp-container'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",r,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("");
b.fn.spectrum=function(f,q){if("string"==typeof f){var l=this,n=Array.prototype.slice.call(arguments,1);this.each(function(){var a=s[b(this).data("spectrum.id")];if(a){var c=a[f];if(!c)throw Error("Spectrum: no such method: '"+f+"'");"get"==f?l=a.get():"container"==f?l=a.container:"option"==f?l=a.option.apply(a,n):"destroy"==f?(a.destroy(),b(this).removeData("spectrum.id")):c.apply(a,n)}});return l}return this.spectrum("destroy").each(function(){var q,l=function(){u.toggleClass("sp-flat",E);u.toggleClass("sp-input-disabled",
!I.showInput);u.toggleClass("sp-alpha-enabled",I.showAlpha);u.toggleClass("sp-buttons-disabled",!I.showButtons||E);u.toggleClass("sp-palette-disabled",!I.showPalette);u.toggleClass("sp-palette-only",I.showPaletteOnly);u.toggleClass("sp-initial-disabled",!I.showInitial);u.addClass(I.className);N()},n=function(c){if(Y&&(c=tinycolor(c).toRgbString(),-1===b.inArray(c,Fa)&&Fa.push(c),ca&&a.localStorage))try{a.localStorage[ca]=Fa.join(";")}catch(d){}},y=function(){var a=[],b=Fa,c={},d;if(I.showPalette){for(var e=
0;e<gb.length;e++)for(var h=0;h<gb[e].length;h++)d=tinycolor(gb[e][h]).toRgbString(),c[d]=!0;for(e=0;e<b.length;e++)d=tinycolor(b[e]).toRgbString(),c.hasOwnProperty(d)||(a.push(b[e]),c[d]=!0)}return a.reverse().slice(0,I.maxSelectionSize)},H=function(){var a=x(),d=b.map(gb,function(b,d){return c(b,a,"sp-palette-row sp-palette-row-"+d)});Fa&&d.push(c(y(),a,"sp-palette-row sp-palette-row-selection"));Qb.html(d.join(""))},r=function(){if(I.showInitial){var a=Ta,b=x();Hb.html(c([a,b],b,"sp-palette-row-initial"))}},
t=function(){(0===ea||0===aa||0===ia)&&N();u.addClass(sa)},U=function(){u.removeClass(sa)},O=function(){var a=tinycolor(Ma.val());a.ok?h(a):Ma.addClass("sp-validation-error")},X=function(){Aa?D():z()},z=function(){if(Aa)N();else if(!1!==G.beforeShow(x())){for(var c=0;c<s.length;c++)s[c]&&s[c].hide();Aa=!0;b(ta).bind("click.spectrum",D);b(a).bind("resize.spectrum",S);wa.addClass("sp-active");u.show();I.showPalette&&H();N();M();Ta=x();r();G.show(Ta)}},D=function(c){if((!c||!("click"==c.type&&2==c.button))&&
Aa&&!E)Aa=!1,b(ta).unbind("click.spectrum",D),b(a).unbind("resize.spectrum",S),wa.removeClass("sp-active"),u.hide(),tinycolor.equals(x(),Ta)||(vb&&"cancel"!==c?B(!0):h(Ta,!0)),G.hide(x())},h=function(a,b){if(!tinycolor.equals(a,x())){var c=tinycolor(a),d=c.toHsv();ga=d.h;La=d.s;ma=d.v;J=d.a;M();b||(Sa=Ka||c.format)}},x=function(){return tinycolor.fromRatio({h:ga,s:La,v:ma,a:Math.round(100*J)/100})},A=function(){M();G.move(x())},M=function(){Ma.removeClass("sp-validation-error");T();var a=tinycolor({h:ga,
s:"1.0",v:"1.0"});Ba.css("background-color",a.toHexString());a=Sa;if(1>J&&("hex"===a||"name"===a))a="rgb";var b=x(),c=b.toHexString(),d=b.toRgbString();v||1===b.alpha?wb.css("background-color",d):(wb.css("background-color","transparent"),wb.css("filter",b.toFilter()));if(I.showAlpha){d=b.toRgb();d.a=0;var d=tinycolor(d).toRgbString(),e="linear-gradient(left, "+d+", "+c+")";w?Da.css("filter",tinycolor(d).toFilter({gradientType:1},c)):(Da.css("background","-webkit-"+e),Da.css("background","-moz-"+e),
Da.css("background","-ms-"+e),Da.css("background",e))}if(I.showInput){if(1>J&&("hex"===a||"name"===a))a="rgb";Ma.val(b.toString(a))}I.showPalette&&H();r()},T=function(){var a=La*aa,b=ea-ma*ea,a=Math.max(-P,Math.min(aa-P,a-P)),b=Math.max(-P,Math.min(ea-P,b-P));Ca.css({top:b,left:a});qb.css({left:J*ja-qa/2});ob.css({top:ga*ia-Ga})},B=function(a){var b=x();hb&&ra.val(b.toString(Sa)).change();var c=!tinycolor.equals(b,Ta);Ta=b;n(b);a&&c&&G.change(b)},N=function(){aa=Ba.width();ea=Ba.height();P=Ca.height();
nb.width();ia=nb.height();Ga=ob.height();ja=pb.width();qa=qb.width();E||u.offset(e(u,V));T()};q=function(){D();p=!0;ra.attr("disabled",!0);V.addClass("sp-disabled")};var I,C=b.extend({},m,f);C.callbacks={move:g(C.move,this),change:g(C.change,this),show:g(C.show,this),hide:g(C.hide,this),beforeShow:g(C.beforeShow,this)};I=C;var E=I.flat,Y=I.showSelectionPalette,ca=I.localStorageKey,K=I.theme,G=I.callbacks,S,Z=N,fb;S=function(){var a=this,b=arguments;fb||(fb=setTimeout(function(){fb=null;Z.apply(a,
b)},10))};var Aa=!1,aa=0,ea=0,P=0,ia=0,ja=0,qa=0,Ga=0,ga=0,La=0,ma=0,J=1,C=I.palette.slice(0),gb=b.isArray(C[0])?C:[C],Fa=I.selectionPalette.slice(0),sa="sp-dragging",ta=this.ownerDocument,C=ta.body,ra=b(this),p=!1,u=b(F,ta).addClass(K),Ba=u.find(".sp-color"),Ca=u.find(".sp-dragger"),nb=u.find(".sp-hue"),ob=u.find(".sp-slider"),Da=u.find(".sp-alpha-inner"),pb=u.find(".sp-alpha"),qb=u.find(".sp-alpha-handle"),Ma=u.find(".sp-input"),Qb=u.find(".sp-palette"),Hb=u.find(".sp-initial"),Ib=u.find(".sp-cancel"),
rb=u.find(".sp-choose"),hb=ra.is("input"),ua=hb&&!E,wa=ua?b("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div></div>").addClass(K):b([]),V=ua?wa:ra,wb=wa.find(".sp-preview-inner"),xb=I.color||hb&&ra.val(),Ta=!1,Ka=I.preferredFormat,Sa=Ka,vb=!I.showButtons||I.clickoutFiresChange,K=function(a){a.data&&a.data.ignore?(h(b(this).data("color")),A()):(h(b(this).data("color")),B(!0),A(),D());return!1};w&&u.find("*:not(input)").attr("unselectable","on");l();ua&&ra.hide().after(wa);
E?ra.after(u).hide():b(C).append(u.hide());if(ca&&a.localStorage){try{var yb=a.localStorage[ca].split(",#");1<yb.length&&(delete a.localStorage[ca],b.each(yb,function(a,b){n(b)}))}catch(Ub){}try{Fa=a.localStorage[ca].split(";")}catch(Kb){}}V.bind("click.spectrum touchstart.spectrum",function(a){p||X();a.stopPropagation();b(a.target).is("input")||a.preventDefault()});(ra.is(":disabled")||!0===I.disabled)&&q();u.click(k);Ma.change(O);Ma.bind("paste",function(){setTimeout(O,1)});Ma.keydown(function(a){13==
a.keyCode&&O()});Ib.text(I.cancelText);Ib.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();D("cancel")});rb.text(I.chooseText);rb.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Ma.hasClass("sp-validation-error")||(B(!0),D())});j(pb,function(a,b,c){J=a/ja;c.shiftKey&&(J=Math.round(10*J)/10);A()});j(nb,function(a,b){ga=parseFloat(b/ia);A()},t,U);j(Ba,function(a,b){La=parseFloat(a/aa);ma=parseFloat((ea-b)/ea);A()},t,U);xb?(h(xb),M(),Sa=Ka||tinycolor(xb).format,
n(xb)):M();E&&z();t=w?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Qb.delegate(".sp-thumb-el",t,K);Hb.delegate(".sp-thumb-el:nth-child(1)",t,{ignore:!0},K);var Za={show:z,hide:D,toggle:X,reflow:N,option:function(a,c){if(a===d)return b.extend({},I);if(c===d)return I[a];I[a]=c;l()},enable:function(){p=!1;ra.attr("disabled",!1);V.removeClass("sp-disabled")},disable:q,set:function(a){h(a);B()},get:x,destroy:function(){ra.show();V.unbind("click.spectrum touchstart.spectrum");u.remove();wa.remove();
s[Za.id]=null},container:u};Za.id=s.push(Za)-1;q=Za;b(this).data("spectrum.id",q.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=j;b.fn.spectrum.defaults=m;b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){var a=b("<input type='color' value='!' />")[0];"color"===a.type&&"!"!=a.value||b("input[type=color]").spectrum({preferredFormat:"hex6"})};var n=function(a){var b,c,d,e,f;if("object"==typeof a&&a.hasOwnProperty("_tc_id"))return a;
c=a;var g=0,j=0,k=0;a=1;var m=!1,r=!1;if("string"==typeof c)a:{c=c.replace(z,"").replace(N,"").toLowerCase();var s=!1;if(Z[c])c=Z[c],s=!0;else if("transparent"==c){c={r:0,g:0,b:0,a:0};break a}c=(b=H.rgb.exec(c))?{r:b[1],g:b[2],b:b[3]}:(b=H.rgba.exec(c))?{r:b[1],g:b[2],b:b[3],a:b[4]}:(b=H.hsl.exec(c))?{h:b[1],s:b[2],l:b[3]}:(b=H.hsla.exec(c))?{h:b[1],s:b[2],l:b[3],a:b[4]}:(b=H.hsv.exec(c))?{h:b[1],s:b[2],v:b[3]}:(b=H.hex6.exec(c))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16),format:s?
"name":"hex"}:(b=H.hex3.exec(c))?{r:parseInt(b[1]+""+b[1],16),g:parseInt(b[2]+""+b[2],16),b:parseInt(b[3]+""+b[3],16),format:s?"name":"hex"}:!1}"object"==typeof c&&(c.hasOwnProperty("r")&&c.hasOwnProperty("g")&&c.hasOwnProperty("b")?(g=255*C(c.r,255),j=255*C(c.g,255),k=255*C(c.b,255),m=!0,r="rgb"):c.hasOwnProperty("h")&&c.hasOwnProperty("s")&&c.hasOwnProperty("v")?(r=c.h,j=c.s,k=c.v,r=6*C(r,360),j=C(j,100),k=C(k,100),g=X.floor(r),m=r-g,r=k*(1-j),b=k*(1-m*j),m=k*(1-(1-m)*j),s=g%6,g=255*[k,b,r,r,m,
k][s],j=255*[m,k,k,b,r,r][s],k=255*[r,r,m,k,k,b][s],m=!0,r="hsv"):c.hasOwnProperty("h")&&(c.hasOwnProperty("s")&&c.hasOwnProperty("l"))&&(g=c.h,r=c.s,k=c.l,j=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a},g=C(g,360),r=C(r,100),k=C(k,100),0===r?r=k=b=k:(b=0.5>k?k*(1+r):k+r-k*r,m=2*k-b,r=j(m,b,g+1/3),k=j(m,b,g),b=j(m,b,g-1/3)),g=255*r,j=255*k,k=255*b,m=!0,r="hsl"),c.hasOwnProperty("a")&&(a=c.a));g=t(255,Y(g,0));j=t(255,Y(j,0));k=t(255,Y(k,0));1>g&&
(g=T(g));1>j&&(j=T(j));1>k&&(k=T(k));b=m;c=c&&c.format||r;d=g;e=j;f=k;var O=S(a);return{ok:b,format:c,_tc_id:I++,alpha:O,toHsv:function(){var a=x(d,e,f);return{h:a.h,s:a.s,v:a.v,a:O}},toHsvString:function(){var a=x(d,e,f),b=T(360*a.h),c=T(100*a.s),a=T(100*a.v);return 1==O?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+O+")"},toHsl:function(){var a=M(d,e,f);return{h:a.h,s:a.s,l:a.l,a:O}},toHslString:function(){var a=M(d,e,f),b=T(360*a.h),c=T(100*a.s),a=T(100*a.l);return 1==O?"hsl("+b+
", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+O+")"},toHex:function(){return B(d,e,f)},toHexString:function(a){return"#"+B(d,e,f,a)},toRgb:function(){return{r:T(d),g:T(e),b:T(f),a:O}},toRgbString:function(){return 1==O?"rgb("+T(d)+", "+T(e)+", "+T(f)+")":"rgba("+T(d)+", "+T(e)+", "+T(f)+", "+O+")"},toName:function(){return q[B(d,e,f)]||!1},toFilter:function(a,b){var c=B(d,e,f,!0),h=c,g=Math.round(255*S(O)).toString(16),j=g,k=a&&a.gradientType?"GradientType = 1, ":"";b&&(j=n(b),h=j.toHex(),j=
Math.round(255*S(j.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+k+"startColorstr=#"+l(g)+c+",endColorstr=#"+l(j)+h+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());"hex"===a&&(b=this.toHexString());"hex6"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString(!0)}}},M=function(a,b,c){a=C(a,255);b=C(b,255);c=C(c,255);var d=Y(a,b,c),e=
t(a,b,c),f,g=(d+e)/2;if(d==e)f=e=0;else{var j=d-e,e=0.5<g?j/(2-d-e):j/(d+e);switch(d){case a:f=(b-c)/j+(b<c?6:0);break;case b:f=(c-a)/j+2;break;case c:f=(a-b)/j+4}f/=6}return{h:f,s:e,l:g}},x=function(a,b,c){a=C(a,255);b=C(b,255);c=C(c,255);var d=Y(a,b,c),e=t(a,b,c),f,g=d-e;if(d==e)f=0;else{switch(d){case a:f=(b-c)/g+(b<c?6:0);break;case b:f=(c-a)/g+2;break;case c:f=(a-b)/g+4}f/=6}return{h:f,s:0===d?0:g/d,v:d}},B=function(a,b,c,d){a=[l(T(a).toString(16)),l(T(b).toString(16)),l(T(c).toString(16))];
return!d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")},C=function(a,b){"string"==typeof a&&(-1!=a.indexOf(".")&&1===S(a))&&(a="100%");var c="string"===typeof a&&-1!=a.indexOf("%");a=t(b,Y(0,S(a)));c&&(a*=b/100);return 1E-6>X.abs(a-b)?1:1<=a?a%b/S(b):a},l=function(a){return 1==a.length?"0"+a:""+a},z=/^[\s,#]+/,N=/\s+$/,I=0,X=Math,T=X.round,t=X.min,Y=X.max,ca=X.random,S=this.parseFloat;n.fromRatio=
function(a){if("object"==typeof a)for(var b in a)1===a[b]&&(a[b]="1.0");return n(a)};n.equals=function(a,b){return!a||!b?!1:n(a).toRgbString()==n(b).toRgbString()};n.random=function(){return n.fromRatio({r:ca(),g:ca(),b:ca()})};n.desaturate=function(a,b){var c=n(a).toHsl();c.s-=(b||10)/100;c.s=t(1,Y(0,c.s));return n(c)};n.saturate=function(a,b){var c=n(a).toHsl();c.s+=(b||10)/100;c.s=t(1,Y(0,c.s));return n(c)};n.greyscale=function(a){return n.desaturate(a,100)};n.lighten=function(a,b){var c=n(a).toHsl();
c.l+=(b||10)/100;c.l=t(1,Y(0,c.l));return n(c)};n.darken=function(a,b){var c=n(a).toHsl();c.l-=(b||10)/100;c.l=t(1,Y(0,c.l));return n(c)};n.complement=function(a){a=n(a).toHsl();a.h=(a.h+0.5)%1;return n(a)};n.triad=function(a){var b=n(a).toHsl(),c=360*b.h;return[n(a),n({h:(c+120)%360,s:b.s,l:b.l}),n({h:(c+240)%360,s:b.s,l:b.l})]};n.tetrad=function(a){var b=n(a).toHsl(),c=360*b.h;return[n(a),n({h:(c+90)%360,s:b.s,l:b.l}),n({h:(c+180)%360,s:b.s,l:b.l}),n({h:(c+270)%360,s:b.s,l:b.l})]};n.splitcomplement=
function(a){var b=n(a).toHsl(),c=360*b.h;return[n(a),n({h:(c+72)%360,s:b.s,l:b.l}),n({h:(c+216)%360,s:b.s,l:b.l})]};n.analogous=function(a,b,c){b=b||6;c=c||30;var d=n(a).toHsl();c=360/c;a=[n(a)];d.h*=360;for(d.h=(d.h-(c*b>>1)+720)%360;--b;)d.h=(d.h+c)%360,a.push(n(d));return a};n.monochromatic=function(a,b){b=b||6;for(var c=n(a).toHsv(),d=c.h,e=c.s,c=c.v,f=[],g=1/b;b--;)f.push(n({h:d,s:e,v:c})),c=(c+g)%1;return f};n.readable=function(a,b){var c=n(a).toRgb(),d=n(b).toRgb();return 10404<(d.r-c.r)*(d.r-
c.r)+(d.g-c.g)*(d.g-c.g)+(d.b-c.b)*(d.b-c.b)};var Z=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",
darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",
ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",
lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},r=n,A=Z,E={},K;for(K in A)A.hasOwnProperty(K)&&(E[A[K]]=K);var q=r.hexNames=E,H;H={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};this.tinycolor=n;b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;b._chain&&(b=b._wrapped);c._chain&&(c=c._wrapped);if(b.isEqual&&l.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&l.isFunction(c.isEqual))return c.isEqual(b);var e=j.call(b);if(e!=j.call(c))return!1;switch(e){case "[object String]":return b==""+c;case "[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case "[object Date]":case "[object Boolean]":return+b==+c;case "[object RegExp]":return b.source==
c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=b.length,g=f==c.length)for(;f--&&(g=f in b==f in c&&a(b[f],c[f],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var k in b)if(l.has(b,k)&&(f++,!(g=l.has(c,k)&&a(b[k],c[k],d))))break;if(g){for(k in c)if(l.has(c,k)&&!f--)break;
g=!f}}d.pop();return g}var b=this,d=b._,c={},e=Array.prototype,f=Object.prototype,k=e.slice,g=e.unshift,j=f.toString,m=f.hasOwnProperty,s=e.forEach,w=e.map,v=e.reduce,r=e.reduceRight,F=e.filter,A=e.every,n=e.some,M=e.indexOf,x=e.lastIndexOf,f=Array.isArray,B=Object.keys,C=Function.prototype.bind,l=function(a){return new E(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=l),exports._=l):b._=l;l.VERSION="1.3.3";var z=l.each=l.forEach=function(a,
b,d){if(null!=a)if(s&&a.forEach===s)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f&&!(e in a&&b.call(d,a[e],e,a)===c);e++);else for(e in a)if(l.has(a,e)&&b.call(d,a[e],e,a)===c)break};l.map=l.collect=function(a,b,c){var d=[];if(null==a)return d;if(w&&a.map===w)return a.map(b,c);z(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)});a.length===+a.length&&(d.length=a.length);return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(v&&a.reduce===
v)return d&&(b=l.bind(b,d)),e?a.reduce(b,c):a.reduce(b);z(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(r&&a.reduceRight===r)return d&&(b=l.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=l.toArray(a).reverse();d&&!e&&(b=l.bind(b,d));return e?l.reduce(f,b,c,d):l.reduce(f,b)};l.find=l.detect=function(a,b,c){var d;N(a,function(a,
e,f){if(b.call(c,a,e,f))return d=a,!0});return d};l.filter=l.select=function(a,b,c){var d=[];if(null==a)return d;if(F&&a.filter===F)return a.filter(b,c);z(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)});return d};l.reject=function(a,b,c){var d=[];if(null==a)return d;z(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)});return d};l.every=l.all=function(a,b,d){var e=!0;if(null==a)return e;if(A&&a.every===A)return a.every(b,d);z(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c});return!!e};
var N=l.some=l.any=function(a,b,d){b||(b=l.identity);var e=!1;if(null==a)return e;if(n&&a.some===n)return a.some(b,d);z(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c});return!!e};l.include=l.contains=function(a,b){return null==a?!1:M&&a.indexOf===M?-1!=a.indexOf(b):N(a,function(a){return a===b})};l.invoke=function(a,b){var c=k.call(arguments,2);return l.map(a,function(a){return(l.isFunction(b)?b||a:a[b]).apply(a,c)})};l.pluck=function(a,b){return l.map(a,function(a){return a[b]})};l.max=function(a,
b,c){if(!b&&l.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&l.isEmpty(a))return-Infinity;var d={computed:-Infinity};z(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};l.min=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&l.isEmpty(a))return Infinity;var d={computed:Infinity};z(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})});return d.value};l.shuffle=function(a){var b=
[],c;z(a,function(a,d){c=Math.floor(Math.random()*(d+1));b[d]=b[c];b[c]=a});return b};l.sortBy=function(a,b,c){var d=l.isFunction(b)?b:function(a){return a[b]};return l.pluck(l.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:c<d?-1:c>d?1:0}),"value")};l.groupBy=function(a,b){var c={},d=l.isFunction(b)?b:function(a){return a[b]};z(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)});return c};l.sortedIndex=
function(a,b,c){c||(c=l.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d};l.toArray=function(a){return!a?[]:l.isArray(a)||l.isArguments(a)?k.call(a):a.toArray&&l.isFunction(a.toArray)?a.toArray():l.values(a)};l.size=function(a){return l.isArray(a)?a.length:l.keys(a).length};l.first=l.head=l.take=function(a,b,c){return null!=b&&!c?k.call(a,0,b):a[0]};l.initial=function(a,b,c){return k.call(a,0,a.length-(null==b||c?1:b))};l.last=function(a,b,c){return null!=b&&!c?
k.call(a,Math.max(a.length-b,0)):a[a.length-1]};l.rest=l.tail=function(a,b,c){return k.call(a,null==b||c?1:b)};l.compact=function(a){return l.filter(a,function(a){return!!a})};l.flatten=function(a,b){return l.reduce(a,function(a,c){if(l.isArray(c))return a.concat(b?c:l.flatten(c));a[a.length]=c;return a},[])};l.without=function(a){return l.difference(a,k.call(arguments,1))};l.uniq=l.unique=function(a,b,c){c=c?l.map(a,c):a;var d=[];3>a.length&&(b=!0);l.reduce(c,function(c,e,f){if(b?l.last(c)!==e||
!c.length:!l.include(c,e))c.push(e),d.push(a[f]);return c},[]);return d};l.union=function(){return l.uniq(l.flatten(arguments,!0))};l.intersection=l.intersect=function(a){var b=k.call(arguments,1);return l.filter(l.uniq(a),function(a){return l.every(b,function(b){return 0<=l.indexOf(b,a)})})};l.difference=function(a){var b=l.flatten(k.call(arguments,1),!0);return l.filter(a,function(a){return!l.include(b,a)})};l.zip=function(){for(var a=k.call(arguments),b=l.max(l.pluck(a,"length")),c=Array(b),d=
0;d<b;d++)c[d]=l.pluck(a,""+d);return c};l.indexOf=function(a,b,c){if(null==a)return-1;var d;if(c)return c=l.sortedIndex(a,b),a[c]===b?c:-1;if(M&&a.indexOf===M)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1};l.lastIndexOf=function(a,b){if(null==a)return-1;if(x&&a.lastIndexOf===x)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};l.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-
a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var I=function(){};l.bind=function(a,b){var c,d;if(a.bind===C&&C)return C.apply(a,k.call(arguments,1));if(!l.isFunction(a))throw new TypeError;d=k.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(k.call(arguments)));I.prototype=a.prototype;var e=new I,f=a.apply(e,d.concat(k.call(arguments)));return Object(f)===f?f:e}};l.bindAll=function(a){var b=k.call(arguments,1);0==b.length&&(b=l.functions(a));z(b,function(b){a[b]=
l.bind(a[b],a)});return a};l.memoize=function(a,b){var c={};b||(b=l.identity);return function(){var d=b.apply(this,arguments);return l.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};l.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};l.defer=function(a){return l.delay.apply(l,[a,1].concat(k.call(arguments,1)))};l.throttle=function(a,b){var c,d,e,f,g,j,k=l.debounce(function(){g=f=!1},b);return function(){c=this;d=arguments;e||(e=setTimeout(function(){e=
null;g&&a.apply(c,d);k()},b));f?g=!0:j=a.apply(c,d);k();f=!0;return j}};l.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;c&&!d&&a.apply(e,f);clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b)}};l.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;return c=a.apply(this,arguments)}};l.wrap=function(a,b){return function(){var c=[a].concat(k.call(arguments,0));return b.apply(this,c)}};l.compose=function(){var a=arguments;return function(){for(var b=
arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};l.keys=B||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)l.has(a,c)&&(b[b.length]=c);return b};l.values=function(a){return l.map(a,l.identity)};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&b.push(c);return b.sort()};l.extend=function(a){z(k.call(arguments,1),function(b){for(var c in b)a[c]=
b[c]});return a};l.pick=function(a){var b={};z(l.flatten(k.call(arguments,1)),function(c){c in a&&(b[c]=a[c])});return b};l.defaults=function(a){z(k.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])});return a};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};l.isEqual=function(b,c){return a(b,c,[])};l.isEmpty=function(a){if(null==a)return!0;if(l.isArray(a)||l.isString(a))return 0===a.length;for(var b in a)if(l.has(a,
b))return!1;return!0};l.isElement=function(a){return!!(a&&1==a.nodeType)};l.isArray=f||function(a){return"[object Array]"==j.call(a)};l.isObject=function(a){return a===Object(a)};l.isArguments=function(a){return"[object Arguments]"==j.call(a)};l.isArguments(arguments)||(l.isArguments=function(a){return!(!a||!l.has(a,"callee"))});l.isFunction=function(a){return"[object Function]"==j.call(a)};l.isString=function(a){return"[object String]"==j.call(a)};l.isNumber=function(a){return"[object Number]"==
j.call(a)};l.isFinite=function(a){return l.isNumber(a)&&isFinite(a)};l.isNaN=function(a){return a!==a};l.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==j.call(a)};l.isDate=function(a){return"[object Date]"==j.call(a)};l.isRegExp=function(a){return"[object RegExp]"==j.call(a)};l.isNull=function(a){return null===a};l.isUndefined=function(a){return void 0===a};l.has=function(a,b){return m.call(a,b)};l.noConflict=function(){b._=d;return this};l.identity=function(a){return a};l.times=
function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)};l.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};l.result=function(a,b){if(null==a)return null;var c=a[b];return l.isFunction(c)?c.call(a):c};l.mixin=function(a){z(l.functions(a),function(b){var c=l[b]=a[b];E.prototype[b]=function(){var a=k.call(arguments);g.call(a,this._wrapped);return K(c.apply(l,a),this._chain)}})};var X=0;l.uniqueId=
function(a){var b=X++;return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/.^/,t={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},Y;for(Y in t)t[t[Y]]=Y;var ca=/\\|'|\r|\n|\t|\u2028|\u2029/g,S=/\\(\\|'|r|n|t|u2028|u2029)/g,Z=function(a){return a.replace(S,function(a,b){return t[b]})};l.template=function(a,b,c){c=l.defaults(c||{},l.templateSettings);a="__p+='"+a.replace(ca,function(a){return"\\"+t[a]}).replace(c.escape||
T,function(a,b){return"'+\n_.escape("+Z(b)+")+\n'"}).replace(c.interpolate||T,function(a,b){return"'+\n("+Z(b)+")+\n'"}).replace(c.evaluate||T,function(a,b){return"';\n"+Z(b)+"\n;__p+='"})+"';\n";c.variable||(a="with(obj||{}){\n"+a+"}\n");a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n";var d=new Function(c.variable||"obj","_",a);if(b)return d(b,l);b=function(a){return d.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+a+"}";return b};
l.chain=function(a){return l(a).chain()};var E=function(a){this._wrapped=a};l.prototype=E.prototype;var K=function(a,b){return b?l(a).chain():a};l.mixin(l);z("pop push reverse shift sort splice unshift".split(" "),function(a){var b=e[a];E.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;("shift"==a||"splice"==a)&&0===d&&delete c[0];return K(c,this._chain)}});z(["concat","join","slice"],function(a){var b=e[a];E.prototype[a]=function(){return K(b.apply(this._wrapped,arguments),
this._chain)}});E.prototype.chain=function(){this._chain=!0;return this};E.prototype.value=function(){return this._wrapped}}).call(this);
(function(){function a(a,b){return"!"!==a[0][0]?'<a href="'+f(b.href)+'"'+(b.title?' title="'+f(b.title)+'"':"")+">"+n.lexer(a[1])+"</a>":'<img src="'+f(b.href)+'" alt="'+f(a[1])+'"'+(b.title?' title="'+f(b.title)+'"':"")+">"}function b(){return x=M.pop()}function d(){switch(x.type){case "space":return"";case "hr":return"<hr>\n";case "heading":return"<h"+x.depth+">"+n.lexer(x.text)+"</h"+x.depth+">\n";case "code":return B.highlight&&(x.code=B.highlight(x.text,x.lang),null!=x.code&&x.code!==x.text&&
(x.escaped=!0,x.text=x.code)),x.escaped||(x.text=f(x.text,!0)),"<pre><code"+(x.lang?' class="lang-'+x.lang+'"':"")+">"+x.text+"</code></pre>\n";case "blockquote_start":for(var a="";"blockquote_end"!==b().type;)a+=d();return"<blockquote>\n"+a+"</blockquote>\n";case "list_start":for(var e=x.ordered?"ol":"ul",a="";"list_end"!==b().type;)a+=d();return"<"+e+">\n"+a+"</"+e+">\n";case "list_item_start":for(a="";"list_item_end"!==b().type;)a+="text"===x.type?c():d();return"<li>"+a+"</li>\n";case "loose_item_start":for(a=
"";"list_item_end"!==b().type;)a+=d();return"<li>"+a+"</li>\n";case "html":return B.sanitize?n.lexer(x.text):!x.pre&&!B.pedantic?n.lexer(x.text):x.text;case "paragraph":return"<p>"+n.lexer(x.text)+"</p>\n";case "text":return"<p>"+c()+"</p>\n"}}function c(){for(var a=x.text,c;(c=M[M.length-1])&&"text"===c.type;)a+="\n"+b().text;return n.lexer(a)}function e(a){M=a.reverse();for(a="";b();)a+=d();x=M=null;return a}function f(a,b){return a.replace(!b?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function k(a){for(var b="",c=a.length,d=0,e;d<c;d++)e=a.charCodeAt(d),0.5<Math.random()&&(e="x"+e.toString(16)),b+="&#"+e+";";return b}function g(){return"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b"}function j(a,b){a=a.source;b=b||"";return function I(c,d){if(!c)return RegExp(a,b);a=a.replace(c,d.source||d);return I}}function m(){}function s(a,
b){w(b);return e(v.lexer(a))}function w(a){a||(a=C);B!==a&&(B=a,B.gfm?(v.fences=v.gfm.fences,v.paragraph=v.gfm.paragraph,n.text=n.gfm.text,n.url=n.gfm.url):(v.fences=v.normal.fences,v.paragraph=v.normal.paragraph,n.text=n.normal.text,n.url=n.normal.url),B.pedantic?(n.em=n.pedantic.em,n.strong=n.pedantic.strong):(n.em=n.normal.em,n.strong=n.normal.strong))}var v={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,
blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};v.item=j(v.item,"gm")(/bull/g,v.bullet)();v.list=j(v.list)(/bull/g,v.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();v.html=j(v.html)("comment",
/\x3c!--[^\0]*?--\x3e/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,g())();var r=v,F;F=v.paragraph.source;var A=[];(function z(a){a=v[a]?v[a].source:a;A.push(a.replace(/(^|[^\[])\^/g,"$1"));return z})("hr")("heading")("lheading")("blockquote")("<"+g())("def");F=RegExp(F.replace("body",A.join("|")));r.paragraph=F;v.normal={fences:v.fences,paragraph:v.paragraph};v.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/};v.gfm.paragraph=
j(v.paragraph)("(?!","(?!"+v.gfm.fences.source.replace(/(^|[^\[])\^/g,"$2")+"|")();v.lexer=function(a){var b=[];b.links={};a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");return v.token(a,b,!0)};v.token=function(a,b,c){a=a.replace(/^ +$/gm,"");for(var d,e,f,g,j,k;a;){if(f=v.newline.exec(a))a=a.substring(f[0].length),1<f[0].length&&b.push({type:"space"});if(f=v.code.exec(a))a=a.substring(f[0].length),f=f[0].replace(/^ {4}/gm,""),b.push({type:"code",text:!B.pedantic?f.replace(/\n+$/,""):f});else if(f=
v.fences.exec(a))a=a.substring(f[0].length),b.push({type:"code",lang:f[2],text:f[3]});else if(f=v.heading.exec(a))a=a.substring(f[0].length),b.push({type:"heading",depth:f[1].length,text:f[2]});else if(f=v.lheading.exec(a))a=a.substring(f[0].length),b.push({type:"heading",depth:"="===f[2]?1:2,text:f[1]});else if(f=v.hr.exec(a))a=a.substring(f[0].length),b.push({type:"hr"});else if(f=v.blockquote.exec(a))a=a.substring(f[0].length),b.push({type:"blockquote_start"}),f=f[0].replace(/^ *> ?/gm,""),v.token(f,
b,c),b.push({type:"blockquote_end"});else if(f=v.list.exec(a)){a=a.substring(f[0].length);b.push({type:"list_start",ordered:isFinite(f[2])});f=f[0].match(v.item);d=!1;k=f.length;for(j=0;j<k;j++)g=f[j],e=g.length,g=g.replace(/^ *([*+-]|\d+\.) +/,""),~g.indexOf("\n ")&&(e-=g.length,g=!B.pedantic?g.replace(RegExp("^ {1,"+e+"}","gm"),""):g.replace(/^ {1,4}/gm,"")),e=d||/\n\n(?!\s*$)/.test(g),j!==k-1&&(d="\n"===g[g.length-1],e||(e=d)),b.push({type:e?"loose_item_start":"list_item_start"}),v.token(g,b),
b.push({type:"list_item_end"});b.push({type:"list_end"})}else if(f=v.html.exec(a))a=a.substring(f[0].length),b.push({type:"html",pre:"pre"===f[1],text:f[0]});else if(c&&(f=v.def.exec(a)))a=a.substring(f[0].length),b.links[f[1].toLowerCase()]={href:f[2],title:f[3]};else if(c&&(f=v.paragraph.exec(a)))a=a.substring(f[0].length),b.push({type:"paragraph",text:f[0]});else if(f=v.text.exec(a))a=a.substring(f[0].length),b.push({type:"text",text:f[0]})}return b};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,
autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:m,tag:/^\x3c!--[^\0]*?--\x3e|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_linkInside:/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,_linkHref:/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/};
n.link=j(n.link)("inside",n._linkInside)("href",n._linkHref)();n.reflink=j(n.reflink)("inside",n._linkInside)();n.normal={url:n.url,strong:n.strong,em:n.em,text:n.text};n.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};n.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};n.lexer=function(b){for(var c="",d=M.links,e,g;b;)if(g=n.escape.exec(b))b=b.substring(g[0].length),
c+=g[1];else if(g=n.autolink.exec(b))b=b.substring(g[0].length),"@"===g[2]?(e=":"===g[1][6]?k(g[1].substring(7)):k(g[1]),g=k("mailto:")+e):g=e=f(g[1]),c+='<a href="'+g+'">'+e+"</a>";else if(g=n.url.exec(b))b=b.substring(g[0].length),g=e=f(g[1]),c+='<a href="'+g+'">'+e+"</a>";else if(g=n.tag.exec(b))b=b.substring(g[0].length),c+=B.sanitize?f(g[0]):g[0];else if(g=n.link.exec(b))b=b.substring(g[0].length),c+=a(g,{href:g[2],title:g[3]});else if((g=n.reflink.exec(b))||(g=n.nolink.exec(b)))b=b.substring(g[0].length),
e=(g[2]||g[1]).replace(/\s+/g," "),e=d[e.toLowerCase()],!e||!e.href?(c+=g[0][0],b=g[0].substring(1)+b):c+=a(g,e);else if(g=n.strong.exec(b))b=b.substring(g[0].length),c+="<strong>"+n.lexer(g[2]||g[1])+"</strong>";else if(g=n.em.exec(b))b=b.substring(g[0].length),c+="<em>"+n.lexer(g[2]||g[1])+"</em>";else if(g=n.code.exec(b))b=b.substring(g[0].length),c+="<code>"+f(g[2],!0)+"</code>";else if(g=n.br.exec(b))b=b.substring(g[0].length),c+="<br>";else if(g=n.text.exec(b))b=b.substring(g[0].length),c+=
f(g[0]);return c};var M,x;m.exec=m;var B,C;s.options=s.setOptions=function(a){C=a;w(a);return s};s.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null});s.parser=function(a,b){w(b);return e(a)};s.lexer=function(a,b){w(b);return v.lexer(a)};s.parse=s;"undefined"!==typeof module?module.exports=s:this.marked=s}).call(function(){return this||("undefined"!==typeof window?window:global)}());
function NaturalSort(a,b){var d=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,c=/(^[ ]*|[ ]*$)/g,e=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,k=/^0/,g=(NaturalSort.insensitive&&(""+a).toLowerCase()||""+a).replace(c,"")||"",j=(NaturalSort.insensitive&&(""+b).toLowerCase()||""+b).replace(c,"")||"",c=g.replace(d,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),d=j.replace(d,"\x00$1\x00").replace(/\0$/,
"").replace(/^\0/,"").split("\x00"),g=parseInt(g.match(f))||1!=c.length&&g.match(e)&&Date.parse(g);if(e=parseInt(j.match(f))||g&&j.match(e)&&Date.parse(j)||null){if(g<e)return-1;if(g>e)return 1}g=0;for(j=Math.max(c.length,d.length);g<j;g++){e=!(c[g]||"").match(k)&&parseFloat(c[g])||c[g]||0;f=!(d[g]||"").match(k)&&parseFloat(d[g])||d[g]||0;if(isNaN(e)!==isNaN(f))return isNaN(e)?1:-1;typeof e!==typeof f&&(e+="",f+="");if(e<f)return-1;if(e>f)return 1}return 0}
(function(){var a={},b=window,d=b.document,c;a.disabled=!1;a.set=function(){};a.get=function(){};a.remove=function(){};a.clear=function(){};a.transact=function(b,c,d){var e=a.get(b);null==d&&(d=c,c=null);"undefined"==typeof e&&(e=c||{});d(e);a.set(b,e)};a.getAll=function(){};a.serialize=function(a){return JSON.stringify(a)};a.deserialize=function(a){return"string"!=typeof a?void 0:JSON.parse(a)};var e;try{e="localStorage"in b&&b.localStorage}catch(f){e=!1}if(e)c=b.localStorage,a.set=function(b,d){if(void 0===
d)return a.remove(b);c.setItem(b,a.serialize(d))},a.get=function(b){return a.deserialize(c.getItem(b))},a.remove=function(a){c.removeItem(a)},a.clear=function(){c.clear()},a.getAll=function(){for(var b={},d=0;d<c.length;++d){var e=c.key(d);b[e]=a.get(e)}return b};else{var k;try{k="globalStorage"in b&&b.globalStorage&&b.globalStorage[b.location.hostname]}catch(g){k=!1}if(k)c=b.globalStorage[b.location.hostname],a.set=function(b,d){if(void 0===d)return a.remove(b);c[b]=a.serialize(d)},a.get=function(b){return a.deserialize(c[b]&&
c[b].value)},a.remove=function(a){delete c[a]},a.clear=function(){for(var a in c)delete c[a]},a.getAll=function(){for(var b={},d=0;d<c.length;++d){var e=c.key(d);b[e]=a.get(e)}return b};else if(d.documentElement.addBehavior){var j,m;try{m=new ActiveXObject("htmlfile"),m.open(),m.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>'),m.close(),j=m.w.frames[0].document,c=j.createElement("div")}catch(s){c=d.createElement("div"),j=d.body}var b=function(b){return function(){var d=
Array.prototype.slice.call(arguments,0);d.unshift(c);j.appendChild(c);c.addBehavior("#default#userData");c.load("localStorage");d=b.apply(a,d);j.removeChild(c);return d}},w=/[!"#$%&'()*+,/\\:;<=>?@[\]^`{|}~]/g;a.set=b(function(b,c,d){c=c.replace(w,"___");if(void 0===d)return a.remove(c);b.setAttribute(c,a.serialize(d));b.save("localStorage")});a.get=b(function(b,c){c=c.replace(w,"___");return a.deserialize(b.getAttribute(c))});a.remove=b(function(a,b){b=b.replace(w,"___");a.removeAttribute(b);a.save("localStorage")});
a.clear=b(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,d;d=b[c];c++)a.removeAttribute(d.name);a.save("localStorage")});a.getAll=b(function(b){var c=b.XMLDocument.documentElement.attributes;b.load("localStorage");b={};for(var d=0,e;e=c[d];++d)b[e]=a.get(e);return b})}}try{a.set("__storejs__","__storejs__"),"__storejs__"!=a.get("__storejs__")&&(a.disabled=!0),a.remove("__storejs__")}catch(v){a.disabled=!0}a.enabled=!a.disabled;"undefined"!=typeof module&&
"function"!=typeof module?module.exports=a:"function"===typeof define&&define.amd?define(a):this.store=a})();if("undefined"===typeof Events)var Events={};Events.slide={};Events.slide.timeout=!1;Events.slide.target=!1;Events.slide.started=!1;Events.slide.mouseDelay=70;Events.slide.mousedown=null;Events.slide.mouseThreshold=4;Events.slide.touchstart=null;Events.slide.touchThreshold=20;
Events.slide.onMouseMove=function(a){var b=Events.slide.mousedown;if(!b)return!0;var d=Events.slide.target;if(Events.slide.started)return $(d).trigger("slide",a),!0;if(1!=a.which||(new Date).getTime()-b.timeStamp<Events.slide.mouseDelay)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b<Events.slide.mouseThreshold)return!0;$(d).trigger("slidestart",a);Events.slide.started=!0};Events.slide.onMouseDown=function(a){Events.slide.mousedown=a;Events.slide.target=a.target};
Events.slide.onMouseUp=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.target).trigger("slideend",a));Events.slide.mousedown=!1;return!0};Events.slide.onTouchStart=function(a){Events.slide.touchstart=a;Events.slide.target=a.target};Events.slide.onTouchEnd=function(a){Events.slide.started&&(Events.slide.started=!1,$(Events.slide.touchstart.target).trigger("slideend",a));return!0};
Events.slide.onTouchMove=function(a){var b=Events.slide.touchstart,d=Events.slide.target;if((new Date).getTime()-b.timeStamp<Events.slide.delay)return!0;var c=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(c+b<Events.slide.threshold)return!0;if(Events.slide.started)return $(d).trigger("slide",a),!0;$(d).trigger("slidestart",a);Events.slide.started=!0};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.slide.onTouchStart,!0),document.addEventListener("touchmove",Events.slide.onTouchMove,!0),document.addEventListener("touchend",Events.slide.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.slide.onMouseDown,!0),document.addEventListener("mousemove",Events.slide.onMouseMove,!0),document.addEventListener("mouseup",Events.slide.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.tap={};Events.tap.mouseTime=750;Events.tap.mousedown=null;Events.tap.maxMouseDistance=8;Events.tap.onMouseDown=function(a){Events.tap.mousedown=a};Events.tap.onMouseUp=function(a){var b=Events.tap.mousedown;if(a.timeStamp-b.timeStamp>Events.tap.mouseTime||a.target!==b.target)return!0;var d=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(d+b>Events.tap.maxMouseDistance)return!0;if(Events.tap.onPass)Events.tap.onPass(a);$(a.target).trigger("tap")};Events.tap.touchstart=null;
Events.tap.maxTouchDistance=20;Events.tap.onTouchStart=function(a){Events.tap.touchstart=a};Events.tap.onTouchEnd=function(a){var b=Events.tap.touchstart;if(a.timeStamp-b.timeStamp>Events.tap.maxTime||a.target!==b.target)return!0;var d=Math.abs(a.screenX-b.screenX),b=Math.abs(a.screenY-b.screenY);if(d+b>Events.tap.maxTouchDistance)return!0;$(a.target).trigger("tap")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.tap.onTouchStart,!0),document.addEventListener("touchend",Events.tap.onTouchEnd,!0)):(document.addEventListener("mousedown",Events.tap.onMouseDown,!0),document.addEventListener("mouseup",Events.tap.onMouseUp,!0));$(document).on("keydown","input",function(a){if(13!==a.keyCode)return!0;$(this).trigger("enterkey")});"undefined"===typeof Events&&(Events={});Events.hold={};Events.hold.mousetime=750;
Events.hold.touchtime=1E3;Events.hold.mousedown=null;Events.hold.target=!1;Events.hold.maxMouseDistance=8;Events.hold.timeout=!1;Events.hold.onMouseDown=function(a){if(1!==a.which)return!0;Events.hold.mousedown=a;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireMouse()",Events.hold.mousetime)};Events.hold.onMouseMove=function(a){Events.hold.mousemove=a};Events.hold.onMouseUp=function(){Events.hold.mousedown=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireMouse=function(){var a=Events.hold.mousedown,b=Events.hold.mousemove;if(!Events.hold.mousedown)return!0;var d=Math.abs(b.screenX-a.screenX),a=Math.abs(b.screenY-a.screenY);if(d+a>Events.hold.maxMouseDistance)return!0;$(Events.hold.target).trigger("hold")};Events.hold.touchstart=null;Events.hold.maxTouchDistance=8;
Events.hold.onTouchStart=function(a){Events.hold.touchstart=a;Events.hold.touchmove=a;Events.hold.startX=a.touches[0].pageX;Events.hold.startY=a.touches[0].pageY;Events.hold.target=a.target;Events.hold.timeout=setTimeout("Events.hold.fireTouch()",Events.hold.touchtime)};Events.hold.onTouchMove=function(a){console.log(Events.hold.touchstart.touches[0].pageX);Events.hold.touchmove=a};Events.hold.onTouchEnd=function(){Events.hold.touchstart=!1;clearTimeout(Events.hold.timeout);return!0};
Events.hold.fireTouch=function(){var a=Events.hold.touchmove,b=Math.abs(a.touches[0].pageX-Events.hold.startX),a=Math.abs(a.touches[0].pageY-Events.hold.startY);if(b+a>Events.hold.maxTouchDistance)return!0;$(Events.hold.target).trigger("hold")};
navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Events.hold.onTouchStart,!0),document.addEventListener("touchend",Events.hold.onTouchEnd,!0),document.addEventListener("touchmove",Events.hold.onTouchMove,!0)):(document.addEventListener("mousedown",Events.hold.onMouseDown,!0),document.addEventListener("mousemove",Events.hold.onMouseMove,!0),document.addEventListener("mouseup",Events.hold.onMouseUp,!0));"undefined"===typeof Events&&(Events={});
Events.shortcut={};Events.shortcut.context="";Events.shortcut.isEditingText=function(){return $("input:focus,div:focus,textarea:focus,a:focus,[contenteditable=true]:focus").length||$("div[contenteditable]").get(0)==document.activeElement?!0:!1};Events.shortcut.on=!0;Events.shortcut.shortcuts={};
Events.shortcut.fire=function(a){if(!Events.shortcut.on||Events.shortcut.isEditingText())return!0;var b=Events.shortcut.string_from_keycode(a.keyCode);a.shiftKey&&(b="shift+"+b);a.metaKey&&(b="meta+"+b);a.ctrlKey&&(b="ctrl+"+b);a.altKey&&(b="alt+"+b);if(Events.shortcut.shortcuts[b]){var d=Events.shortcut.shortcuts[b];"function"===typeof d?d():$(Events.shortcut.context+"#"+d).trigger("tap");if(Events.shortcut.onfire)Events.shortcut.onfire(b);a.preventDefault()}};
Events.shortcut.string_from_keycode=function(a){var b=String.fromCharCode(a).toLowerCase(),d={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",
121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",190:".",191:"/",224:"meta"};a in d&&(b=d[a]);return b};$(document).on("ready",function(){$(document).on("keydown",Events.shortcut.fire)});
var parseCookie=function(a){var b={};a.split(/[;,] */).forEach(function(a){var c=a.indexOf("="),e=a.substr(0,c).trim();a=a.substr(++c,a.length).trim();'"'==a[0]&&(a=a.slice(1,-1));if(void 0==b[e])try{b[e]=decodeURIComponent(a)}catch(f){b[e]=a}});return b},MoveCursorToEnd=function(a){if(!a)return null;var b;document.createRange&&(b=document.createRange(),b.selectNodeContents(a),b.collapse(!1),a=window.getSelection(),a.removeAllRanges(),a.addRange(b))},io="undefined"===typeof module?{}:module.exports;
(function(){var a=this,b="object"===typeof module?module.exports:this.io={};b.version="0.9.11";b.protocol=1;b.transports=[];b.j=[];b.sockets={};b.connect=function(c,d){var e=b.util.parseUri(c),f,h;a&&a.location&&(e.protocol=e.protocol||a.location.protocol.slice(0,-1),e.host=e.host||(a.document?a.document.domain:a.location.hostname),e.port=e.port||a.location.port);f=b.util.uniqueUri(e);var g={host:e.host,secure:"https"==e.protocol,port:e.port||("https"==e.protocol?443:80),query:e.query||""};b.util.merge(g,
d);if(g["force new connection"]||!b.sockets[f])h=new b.Socket(g);!g["force new connection"]&&h&&(b.sockets[f]=h);h=h||b.sockets[f];return h.of(1<e.path.length?e.path:"")};var d=this,c=("undefined"!=typeof io?io:module.exports).util={},e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
c.parseUri=function(a){a=e.exec(a||"");for(var b={},c=14;c--;)b[f[c]]=a[c]||"";return b};c.uniqueUri=function(a){var b=a.protocol,c=a.host;a=a.port;"document"in d?(c=c||document.domain,a=a||("https"==b&&"https:"!==document.location.protocol?443:document.location.port)):(c=c||"localhost",!a&&"https"==b&&(a=443));return(b||"http")+"://"+c+":"+(a||80)};c.query=function(a,b){var d=c.chunkQuery(a||""),e=[];c.merge(d,c.chunkQuery(b||""));for(var f in d)d.hasOwnProperty(f)&&e.push(f+"="+d[f]);return e.length?
"?"+e.join("&"):""};c.chunkQuery=function(a){var b={};a=a.split("&");for(var c=0,d=a.length,e;c<d;++c)e=a[c].split("="),e[0]&&(b[e[0]]=e[1]);return b};var k=!1;c.load=function(a){if("document"in d&&"complete"===document.readyState||k)return a();c.on(d,"load",a,!1)};c.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)};c.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!c.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||c.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null};"undefined"!=typeof window&&c.load(function(){k=!0});c.defer=function(a){if(!c.ua.webkit||"undefined"!=typeof importScripts)return a();c.load(function(){setTimeout(a,100)})};c.merge=function(a,b,d,e){e=e||[];d="undefined"==typeof d?2:d;for(var f in b)b.hasOwnProperty(f)&&0>c.indexOf(e,f)&&("object"!==typeof a[f]||!d?(a[f]=b[f],e.push(b[f])):
c.merge(a[f],b[f],d-1,e));return a};c.mixin=function(a,b){c.merge(a.prototype,b.prototype)};c.inherit=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c};c.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.intersect=function(a,b){for(var d=[],e=a.length>b.length?a:b,f=a.length>b.length?b:a,h=0,g=f.length;h<g;h++)~c.indexOf(e,f[h])&&d.push(f[h]);return d};c.indexOf=function(a,b,c){var d=a.length;for(c=0>c?0>c+d?0:c+d:c||0;c<d&&a[c]!==
b;c++);return d<=c?-1:c};c.toArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b};c.ua={};var g=c.ua,j;if(j="undefined"!=typeof XMLHttpRequest)a:{try{var m=new XMLHttpRequest}catch(s){j=!1;break a}j=void 0!=m.withCredentials}g.hasCORS=j;c.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);c.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var w="undefined"!=typeof io?io:module.parent.exports,g=function(){};("undefined"!=
typeof io?io:module.exports).EventEmitter=g;g.prototype.on=function(a,b){this.$events||(this.$events={});this.$events[a]?w.util.isArray(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b;return this};g.prototype.addListener=g.prototype.on;g.prototype.once=function(a,b){function c(){d.removeListener(a,c);b.apply(this,arguments)}var d=this;c.listener=b;this.on(a,c);return this};g.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var c=
this.$events[a];if(w.util.isArray(c)){for(var d=-1,e=0,f=c.length;e<f;e++)if(c[e]===b||c[e].listener&&c[e].listener===b){d=e;break}if(0>d)return this;c.splice(d,1);c.length||delete this.$events[a]}else(c===b||c.listener&&c.listener===b)&&delete this.$events[a]}return this};g.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};g.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||
(this.$events[a]=[]);w.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};g.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var c=Array.prototype.slice.call(arguments,1);if("function"==typeof b)b.apply(this,c);else if(w.util.isArray(b))for(var b=b.slice(),d=0,e=b.length;d<e;d++)b[d].apply(this,c);else return!1;return!0};(function(a,b){function c(a){return 10>a?"0"+a:a}function d(a){g.lastIndex=0;return g.test(a)?'"'+
a.replace(g,function(a){var b=l[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a,b){var f,h,g,p,l=j,u,m=b[a];m instanceof Date&&(m=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":null);"function"===typeof n&&(m=n.call(b,a,m));switch(typeof m){case "string":return d(m);case "number":return isFinite(m)?String(m):"null";
case "boolean":case "null":return String(m);case "object":if(!m)return"null";j+=k;u=[];if("[object Array]"===Object.prototype.toString.apply(m)){p=m.length;for(f=0;f<p;f+=1)u[f]=e(f,m)||"null";g=0===u.length?"[]":j?"[\n"+j+u.join(",\n"+j)+"\n"+l+"]":"["+u.join(",")+"]";j=l;return g}if(n&&"object"===typeof n){p=n.length;for(f=0;f<p;f+=1)"string"===typeof n[f]&&(h=n[f],(g=e(h,m))&&u.push(d(h)+(j?": ":":")+g))}else for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&(g=e(h,m))&&u.push(d(h)+(j?": ":
":")+g);g=0===u.length?"{}":j?"{\n"+j+u.join(",\n"+j)+"\n"+l+"}":"{"+u.join(",")+"}";j=l;return g}}if(b&&b.parse)return a.JSON={parse:b.parse,stringify:b.stringify};var f=a.JSON={},h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,k,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;
f.stringify=function(a,b,c){var d;k=j="";if("number"===typeof c)for(d=0;d<c;d+=1)k+=" ";else"string"===typeof c&&(k=c);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return e("",{"":a})};f.parse=function(a,b){function c(a,d){var e,f,h=a[d];if(h&&"object"===typeof h)for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(f=c(h,e),void 0!==f?h[e]=f:delete h[e]);return b.call(a,d,h)}var d;a=String(a);h.lastIndex=0;h.test(a)&&(a=a.replace(h,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var g="undefined"!=typeof io?io:module.parent.exports,
v=("undefined"!=typeof io?io:module.exports).parser={},r=v.packets="disconnect connect heartbeat message json event ack error noop".split(" "),F=v.reasons=["transport not supported","client not handshaken","unauthorized"],A=v.advice=["reconnect"],n=g.JSON,M=g.util.indexOf;v.encodePacket=function(a){var b=M(r,a.type),c=a.id||"",d=a.endpoint||"",e=a.ack,f=null;switch(a.type){case "error":var h=a.reason?M(F,a.reason):"";a=a.advice?M(A,a.advice):"";if(""!==h||""!==a)f=h+(""!==a?"+"+a:"");break;case "message":""!==
a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=n.stringify(f);break;case "json":f=n.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+n.stringify(a.args):"")}b=[b,c+("data"==e?"+":""),d];null!==f&&void 0!==f&&b.push(f);return b.join(":")};v.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,d=a.length;c<d;c++)b+="\ufffd"+a[c].length+"\ufffd"+a[c];return b};var x=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
v.decodePacket=function(a){var b=a.match(x);if(!b)return{};var c=b[2]||"";a=b[5]||"";var d={type:r[b[1]],endpoint:b[4]||""};c&&(d.id=c,d.ack=b[3]?"data":!0);switch(d.type){case "error":b=a.split("+");d.reason=F[b[0]]||"";d.advice=A[b[1]]||"";break;case "message":d.data=a||"";break;case "event":try{var e=n.parse(a);d.name=e.name;d.args=e.args}catch(f){}d.args=d.args||[];break;case "json":try{d.data=n.parse(a)}catch(h){}break;case "connect":d.qs=a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(d.ackId=
b[1],d.args=[],b[3])try{d.args=b[3]?n.parse(b[3]):[]}catch(g){}}return d};v.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var b=[],c=1,d="";c<a.length;c++)"\ufffd"==a.charAt(c)?(b.push(v.decodePacket(a.substr(c+1).substr(0,d))),c+=Number(d)+1,d=""):d+=a.charAt(c);return b}return[v.decodePacket(a)]};var B="undefined"!=typeof io?io:module.parent.exports,g=function(a,b){this.socket=a;this.sessid=b};("undefined"!=typeof io?io:module.exports).Transport=g;B.util.mixin(g,B.EventEmitter);g.prototype.heartbeats=
function(){return!0};g.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=B.parser.decodePayload(a))&&a.length)for(var b=0,c=a.length;b<c;b++)this.onPacket(a[b]);return this};g.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=
!1);this.socket.onPacket(a);return this};g.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};g.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};g.prototype.onConnect=function(){this.socket.onConnect();return this};g.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=
null)};g.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};g.prototype.packet=function(a){this.send(B.parser.encodePacket(a))};g.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};g.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};g.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};g.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+
"://"+a.host+":"+a.port+"/"+a.resource+"/"+B.protocol+"/"+this.name+"/"+this.sessid};g.prototype.ready=function(a,b){b.call(this)};var C="undefined"!=typeof io?io:module.parent.exports,l=this,g=function(a){this.options={port:80,secure:!1,document:"document"in l?document:!1,resource:"socket.io",transports:C.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,
"auto connect":!0,"flash policy port":10843,manualFlush:!1};C.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||C.util.ua.hasCORS)){var b=this;C.util.on(l,"beforeunload",function(){b.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},z=function(){};("undefined"!=typeof io?io:module.exports).Socket=g;C.util.mixin(g,C.EventEmitter);
g.prototype.of=function(a){this.namespaces[a]||(this.namespaces[a]=new C.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};g.prototype.publish=function(){this.emit.apply(this,arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};g.prototype.handshake=function(a){function b(d){d instanceof Error?(c.connecting=!1,c.onError(d.message)):a.apply(null,d.split(":"))}var c=this,d=this.options,
d=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,C.protocol,C.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!C.util.ua.hasCORS){var e=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=d+"&jsonp="+C.j.length;e.parentNode.insertBefore(f,e);C.j.push(function(a){b(a);f.parentNode.removeChild(f)})}else{var h=C.util.request();h.open("GET",d,!0);this.isXDomain()&&(h.withCredentials=!0);h.onreadystatechange=function(){if(4==h.readyState)if(h.onreadystatechange=
z,200==h.status)b(h.responseText);else if(403==h.status)c.onError(h.responseText);else c.connecting=!1,!c.reconnecting&&c.onError(h.responseText)};h.send(null)}};g.prototype.getTransport=function(a){a=a||this.transports;for(var b=0,c;c=a[b];b++)if(C.Transport[c]&&C.Transport[c].check(this)&&(!this.isXDomain()||C.Transport[c].xdomainCheck(this)))return new C.Transport[c](this,this.sessionid);return null};g.prototype.connect=function(a){if(this.connecting)return this;var b=this;b.connecting=!0;this.handshake(function(c,
d,e,f){function h(a){b.transport&&b.transport.clearTimeouts();b.transport=b.getTransport(a);if(!b.transport)return b.publish("connect_failed");b.transport.ready(b,function(){b.connecting=!0;b.publish("connecting",b.transport.name);b.transport.open();b.options["connect timeout"]&&(b.connectTimeoutTimer=setTimeout(function(){if(!b.connected&&(b.connecting=!1,b.options["try multiple transports"])){for(var a=b.transports;0<a.length&&a.splice(0,1)[0]!=b.transport.name;);a.length?h(a):b.publish("connect_failed")}},
b.options["connect timeout"]))})}b.sessionid=c;b.closeTimeout=1E3*e;b.heartbeatTimeout=1E3*d;b.transports||(b.transports=b.origTransports=f?C.util.intersect(f.split(","),b.options.transports):b.options.transports);b.setHeartbeatTimeout();h(b.transports);b.once("connect",function(){clearTimeout(b.connectTimeoutTimer);a&&"function"==typeof a&&a()})});return this};g.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=
this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};g.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};g.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||this.flushBuffer())};g.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};g.prototype.disconnect=function(){if(this.connected||
this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};g.prototype.disconnectSync=function(){var a=C.util.request(),b=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,C.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",b,!1);a.send(null);this.onDisconnect("booted")};g.prototype.isXDomain=function(){var a=l.location.port||("https:"==l.location.protocol?443:80);return this.options.host!==
l.location.hostname||this.options.port!=a};g.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};g.prototype.onOpen=function(){this.open=!0};g.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};g.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)};g.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),
this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};g.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};g.prototype.reconnect=function(){function a(){if(c.connected){for(var d in c.namespaces)c.namespaces.hasOwnProperty(d)&&""!==
d&&c.namespaces[d].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=e}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,
1E3);c.reconnectionAttempts++>=d?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<f&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var c=this,d=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)};var N="undefined"!=typeof io?io:module.parent.exports,g=function(a,b){this.socket=a;this.name=b||"";this.flags={};this.json=new I(this,"json");this.ackPackets=0;this.acks={}},I=function(a,b){this.namespace=a;
this.name=b};("undefined"!=typeof io?io:module.exports).SocketNamespace=g;N.util.mixin(g,N.EventEmitter);g.prototype.$emit=N.EventEmitter.prototype.emit;g.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};g.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};g.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b);return this.packet(c)};
g.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1));d.args=b;return this.packet(d)};g.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};g.prototype.onPacket=function(a){function b(){c.packet({type:"ack",args:N.util.toArray(arguments),ackId:a.id})}
var c=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var d=["message",a.data];"data"==a.ack?d.push(b):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,d);break;case "event":d=[a.name].concat(a.args);"data"==a.ack&&d.push(b);this.$emit.apply(this,d);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,
a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};I.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};I.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)};var X="undefined"!=typeof io?io:module.parent.exports,T=this,g=function(a){X.Transport.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=g;X.util.inherit(g,X.Transport);g.prototype.name="websocket";g.prototype.open=function(){var a=X.util.query(this.socket.options.query),b=this,c;c||(c=T.MozWebSocket||T.WebSocket);this.websocket=new c(this.prepareUrl()+a);this.websocket.onopen=function(){b.onOpen();b.socket.setBuffer(!1)};this.websocket.onmessage=function(a){b.onData(a.data)};this.websocket.onclose=function(){b.onClose();b.socket.setBuffer(!0)};this.websocket.onerror=
function(a){b.onError(a)};return this};g.prototype.send=X.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};g.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};g.prototype.close=function(){this.websocket.close();return this};g.prototype.onError=function(a){this.socket.onError(a)};g.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};g.check=
function(){return"WebSocket"in T&&!("__addTask"in WebSocket)||"MozWebSocket"in T};g.xdomainCheck=function(){return!0};X.transports.push("websocket");var t="undefined"!=typeof io?io:module.parent.exports,Y=function(){t.Transport.websocket.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).flashsocket=Y;t.util.inherit(Y,t.Transport.websocket);Y.prototype.name="flashsocket";Y.prototype.open=function(){var a=this,b=arguments;WebSocket.__addTask(function(){t.Transport.websocket.prototype.open.apply(a,
b)});return this};Y.prototype.send=function(){var a=this,b=arguments;WebSocket.__addTask(function(){t.Transport.websocket.prototype.send.apply(a,b)});return this};Y.prototype.close=function(){WebSocket.__tasks.length=0;t.Transport.websocket.prototype.close.call(this);return this};Y.prototype.ready=function(a,b){function c(){var e=a.options,f=e["flash policy port"],h=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];
Y.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=h.join("/")),843!==f&&WebSocket.loadFlashPolicyFile("xmlsocket://"+e.host+":"+f),WebSocket.__initialize(),Y.loaded=!0);b.call(d)}var d=this;if(document.body)return c();t.util.load(c)};Y.check=function(){return"undefined"==typeof WebSocket||!("__initialize"in WebSocket)||!ca?!1:10<=ca.getFlashPlayerVersion().major};Y.xdomainCheck=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=
!0);t.transports.push("flashsocket");if("undefined"!=typeof window){var ca,S=function(){if(!Pa){try{var a=L.getElementsByTagName("body")[0].appendChild(L.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}Pa=!0;for(var a=h.length,c=0;c<a;c++)h[c]()}},Z=function(a){Pa?a():h[h.length]=a},g=function(a){if(typeof la.addEventListener!=ba)la.addEventListener("load",a,!1);else if(typeof L.addEventListener!=ba)L.addEventListener("load",a,!1);else if(typeof la.attachEvent!=ba){var b=la;b.attachEvent("onload",
a);Wa[Wa.length]=[b,"onload",a]}else if("function"==typeof la.onload){var c=la.onload;la.onload=function(){c();a()}}else la.onload=a},E=function(){var a=za.length;if(0<a)for(var b=0;b<a;b++){var c=za[b].id,d=za[b].callbackFn,e={success:!1,id:c};if(0<G.pv[0]){var f=na(c);if(f)if(Ua(za[b].swfVersion)&&!(G.wk&&312>G.wk))oa(c,!0),d&&(e.success=!0,e.ref=K(c),d(e));else if(za[b].expressInstall&&q()){e={};e.data=za[b].expressInstall;e.width=f.getAttribute("width")||"0";e.height=f.getAttribute("height")||
"0";f.getAttribute("class")&&(e.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(e.align=f.getAttribute("align"));for(var h={},f=f.getElementsByTagName("param"),g=f.length,j=0;j<g;j++)"movie"!=f[j].getAttribute("name").toLowerCase()&&(h[f[j].getAttribute("name")]=f[j].getAttribute("value"));H(e,h,c,d)}else R(f),d&&d(e)}else if(oa(c,!0),d){if((c=K(c))&&typeof c.SetVariable!=ba)e.success=!0,e.ref=c;d(e)}}},K=function(a){var b=null;if((a=na(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=
ba?b=a:(a=a.getElementsByTagName(pa)[0])&&(b=a);return b},q=function(){return!mb&&Ua("6.0.65")&&(G.win||G.mac)&&!(G.wk&&312>G.wk)},H=function(a,b,c,d){mb=!0;Fb=d||null;Ob={success:!1,id:c};var e=na(c);if(e){"OBJECT"==e.nodeName?(db=y(e),eb=null):(db=e,eb=c);a.id=O;if(typeof a.width==ba||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==ba||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";L.title=L.title.slice(0,47)+" - Flash Player Installation";d=G.ie&&
G.win?["Active"].concat("").join("X"):"PlugIn";d="MMredirectURL="+la.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+L.title;b.flashvars=typeof b.flashvars!=ba?b.flashvars+("&"+d):d;G.ie&&(G.win&&4!=e.readyState)&&(d=L.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}());U(a,b,c)}},R=function(a){if(G.ie&&G.win&&4!=a.readyState){var b=
L.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(y(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(y(a),a)},y=function(a){var b=L.createElement("div");if(G.win&&G.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(pa)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));
return b},U=function(a,b,c){var d,e=na(c);if(G.wk&&312>G.wk)return d;if(e)if(typeof a.id==ba&&(a.id=c),G.ie&&G.win){var f="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?f+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(f+=" "+h+'="'+a[h]+'"'));h="";for(var g in b)b[g]!=Object.prototype[g]&&(h+='<param name="'+g+'" value="'+b[g]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";xa[xa.length]=
a.id;d=na(a.id)}else{g=L.createElement(pa);g.setAttribute("type",fa);for(var j in a)a[j]!=Object.prototype[j]&&("styleclass"==j.toLowerCase()?g.setAttribute("class",a[j]):"classid"!=j.toLowerCase()&&g.setAttribute(j,a[j]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=g,h=f,j=b[f],c=L.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",j),a.appendChild(c));e.parentNode.replaceChild(g,e);d=g}return d},D=function(a){var b=na(a);b&&"OBJECT"==b.nodeName&&(G.ie&&
G.win?(b.style.display="none",function(){if(4==b.readyState){var c=na(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},na=function(a){var b=null;try{b=L.getElementById(a)}catch(c){}return b},Ua=function(a){var b=G.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1},
Va=function(a,b,c,d){if(!G.ie||!G.mac){var e=L.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";d&&(Gb=Ia=null);if(!Ia||Gb!=c)d=L.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),Ia=e.appendChild(d),G.ie&&(G.win&&typeof L.styleSheets!=ba&&0<L.styleSheets.length)&&(Ia=L.styleSheets[L.styleSheets.length-1]),Gb=c;G.ie&&G.win?Ia&&typeof Ia.addRule==pa&&Ia.addRule(a,b):Ia&&typeof L.createTextNode!=ba&&Ia.appendChild(L.createTextNode(a+" {"+b+"}"))}}},
oa=function(a,b){if(Pb){var c=b?"visible":"hidden";Pa&&na(a)?na(a).style.visibility=c:Va("#"+a,"visibility:"+c)}},ya=function(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=ba?encodeURIComponent(a):a},ba="undefined",pa="object",fa="application/x-shockwave-flash",O="SWFObjectExprInst",la=window,L=document;j=navigator;var lb=!1,h=[function(){if(lb){var a=L.getElementsByTagName("body")[0],b=L.createElement(pa);b.setAttribute("type",fa);var c=a.appendChild(b);if(c){var d=0;(function(){if(typeof c.GetVariable!=
ba){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),G.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;E()})()}else E()}else E()}],za=[],xa=[],Wa=[],db,eb,Fb,Ob,Pa=!1,mb=!1,Ia,Gb,Pb=!0,G,m=typeof L.getElementById!=ba&&typeof L.getElementsByTagName!=ba&&typeof L.createElement!=ba,Qa=j.userAgent.toLowerCase(),Ra=j.platform.toLowerCase(),fb=Ra?/win/.test(Ra):/win/.test(Qa),Ra=Ra?/mac/.test(Ra):
/mac/.test(Qa),Qa=/webkit/.test(Qa)?parseFloat(Qa.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,Aa=!+"\v1",aa=[0,0,0],ea=null;if(typeof j.plugins!=ba&&typeof j.plugins["Shockwave Flash"]==pa){if((ea=j.plugins["Shockwave Flash"].description)&&!(typeof j.mimeTypes!=ba&&j.mimeTypes[fa]&&!j.mimeTypes[fa].enabledPlugin))lb=!0,Aa=!1,ea=ea.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),aa[0]=parseInt(ea.replace(/^(.*)\..*$/,"$1"),10),aa[1]=parseInt(ea.replace(/^.*\.(.*)\s.*$/,"$1"),10),aa[2]=/[a-zA-Z]/.test(ea)?parseInt(ea.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0}else if(typeof la[["Active"].concat("Object").join("X")]!=ba)try{var P=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");if(P&&(ea=P.GetVariable("$version")))Aa=!0,ea=ea.split(" ")[1].split(","),aa=[parseInt(ea[0],10),parseInt(ea[1],10),parseInt(ea[2],10)]}catch(ia){}G={w3:m,pv:aa,wk:Qa,ie:Aa,win:fb,mac:Ra};G.w3&&((typeof L.readyState!=ba&&"complete"==L.readyState||typeof L.readyState==ba&&(L.getElementsByTagName("body")[0]||L.body))&&S(),Pa||(typeof L.addEventListener!=
ba&&L.addEventListener("DOMContentLoaded",S,!1),G.ie&&G.win&&(L.attachEvent("onreadystatechange",function(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",arguments.callee),S())}),la==top&&function(){if(!Pa){try{L.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}S()}}()),G.wk&&function(){Pa||(/loaded|complete/.test(L.readyState)?S():setTimeout(arguments.callee,0))}(),g(S)));G.ie&&G.win&&window.attachEvent("onunload",function(){for(var a=Wa.length,b=0;b<
a;b++)Wa[b][0].detachEvent(Wa[b][1],Wa[b][2]);a=xa.length;for(b=0;b<a;b++)D(xa[b]);for(var c in G)G[c]=null;G=null;for(var d in ca)ca[d]=null;ca=null});ca={registerObject:function(a,b,c,d){if(G.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;za[za.length]=e;oa(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(G.w3)return K(a)},embedSWF:function(a,b,c,d,e,f,h,g,j,k){var l={success:!1,id:b};G.w3&&!(G.wk&&312>G.wk)&&a&&b&&c&&d&&e?(oa(b,!1),Z(function(){c+="";
d+="";var n={};if(j&&typeof j===pa)for(var m in j)n[m]=j[m];n.data=a;n.width=c;n.height=d;m={};if(g&&typeof g===pa)for(var O in g)m[O]=g[O];if(h&&typeof h===pa)for(var r in h)m.flashvars=typeof m.flashvars!=ba?m.flashvars+("&"+r+"="+h[r]):r+"="+h[r];if(Ua(e))O=U(n,m,b),n.id==b&&oa(b,!0),l.success=!0,l.ref=O;else{if(f&&q()){n.data=f;H(n,m,b,k);return}oa(b,!0)}k&&k(l)})):k&&k(l)},switchOffAutoHideShow:function(){Pb=!1},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},
hasFlashPlayerVersion:Ua,createSWF:function(a,b,c){if(G.w3)return U(a,b,c)},showExpressInstall:function(a,b,c,d){G.w3&&q()&&H(a,b,c,d)},removeSWF:function(a){G.w3&&D(a)},createCSS:function(a,b,c,d){G.w3&&Va(a,b,c,d)},addDomLoadEvent:Z,addLoadEvent:g,getQueryParamValue:function(a){var b=L.location.search||L.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(null==a)return ya(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return ya(b[c].substring(b[c].indexOf("=")+
1))}return""},expressInstallCallback:function(){if(mb){var a=na(O);a&&db&&(a.parentNode.replaceChild(db,a),eb&&(oa(eb,!0),G.ie&&G.win&&(db.style.display="block")),Fb&&Fb(Ob));mb=!1}}}}if(!("undefined"==typeof window||window.WebSocket)){var ja=window.console;if(!ja||!ja.log||!ja.error)ja={log:function(){},error:function(){}};ca.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&ja.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),
WebSocket=function(a,b,c,d,e){var f=this;f.__id=WebSocket.__nextId++;WebSocket.__instances[f.__id]=f;f.readyState=WebSocket.CONNECTING;f.bufferedAmount=0;f.__events={};b?"string"==typeof b&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,d||0,e||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,
encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING||(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],d=c.length-1;0<=d;--d)if(c[d]===
b){c.splice(d,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);(b=this["on"+a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.__createSimpleEvent(a.type);else if("close"==a.type)a=this.__createSimpleEvent("close");else if("message"==a.type)a=decodeURIComponent(a.message),a=this.__createMessageEvent("message",
a);else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,b,null,null,window,null);return c}return{type:a,
data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var a=document.createElement("div");
a.id="webSocketContainer";a.style.position="absolute";WebSocket.__isFlashLite()?(a.style.left="0px",a.style.top="0px"):(a.style.left="-100px",a.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";a.appendChild(b);document.body.appendChild(a);ca.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||ja.error("[WebSocket] swfobject.embedSWF failed")})}else ja.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(c){ja.error(c)}},
0);return!0},WebSocket.__log=function(a){ja.log(decodeURIComponent(a))},WebSocket.__error=function(a){ja.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):ja.error("Flash Player >= 10.0.0 is required.")}var qa="undefined"!=typeof io?io:module.parent.exports,Ga=this,ga=function(a){a&&(qa.Transport.apply(this,arguments),this.sendBuffer=[])},La=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=ga;qa.util.inherit(ga,qa.Transport);ga.prototype.open=function(){this.socket.setBuffer(!1);
this.onOpen();this.get();this.setCloseTimeout();return this};ga.prototype.payload=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(qa.parser.encodePacket(a[c]));this.send(qa.parser.encodePayload(b))};ga.prototype.send=function(a){this.post(a);return this};ga.prototype.post=function(a){function b(){if(4==this.readyState)if(this.onreadystatechange=La,d.posting=!1,200==this.status)d.socket.setBuffer(!1);else d.onClose()}function c(){this.onload=La;d.socket.setBuffer(!1)}var d=this;this.socket.setBuffer(!0);
this.sendXHR=this.request("POST");Ga.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=c:this.sendXHR.onreadystatechange=b;this.sendXHR.send(a)};ga.prototype.close=function(){this.onClose();return this};ga.prototype.request=function(a){var b=qa.util.request(this.socket.isXDomain()),c=qa.util.query(this.socket.options.query,"t="+ +new Date);b.open(a||"GET",this.prepareUrl()+c,!0);if("POST"==a)try{b.setRequestHeader?b.setRequestHeader("Content-type","text/plain;charset=UTF-8"):
b.contentType="text/plain"}catch(d){}return b};ga.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};ga.check=function(a,b){try{var c=qa.util.request(b),d=Ga.XDomainRequest&&c instanceof XDomainRequest,e=a&&a.options&&a.options.secure?"https:":"http:",f=Ga.location&&e!=Ga.location.protocol;if(c&&(!d||!f))return!0}catch(h){}return!1};ga.xdomainCheck=function(a){return ga.check(a,!0)};var ma="undefined"!=typeof io?io:module.parent.exports,P=function(a){ma.Transport.XHR.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=P;ma.util.inherit(P,ma.Transport.XHR);P.prototype.name="htmlfile";P.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var b=this,
a=ma.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;ma.util.on(window,"unload",function(){b.destroy()})};P.prototype._=function(a,b){this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}};P.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};P.prototype.close=function(){this.destroy();
return ma.Transport.XHR.prototype.close.call(this)};P.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&ma.Transport.XHR.check(a)}catch(b){}return!1};P.xdomainCheck=function(){return!1};ma.transports.push("htmlfile");var J="undefined"!=typeof io?io:module.parent.exports,gb=this,P=function(){J.Transport.XHR.apply(this,arguments)},Fa=function(){};("undefined"!=typeof io?io.Transport:
module.exports)["xhr-polling"]=P;J.util.inherit(P,J.Transport.XHR);J.util.merge(P,J.Transport.XHR);P.prototype.name="xhr-polling";P.prototype.heartbeats=function(){return!1};P.prototype.open=function(){J.Transport.XHR.prototype.open.call(this);return!1};P.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=Fa,200==this.status)d.onData(this.responseText),d.get();else d.onClose()}function b(){this.onerror=this.onload=Fa;d.retryCounter=1;d.onData(this.responseText);
d.get()}function c(){d.retryCounter++;if(!d.retryCounter||3<d.retryCounter)d.onClose();else d.get()}if(this.isOpen){var d=this;this.xhr=this.request();gb.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=c):this.xhr.onreadystatechange=a;this.xhr.send(null)}};P.prototype.onClose=function(){J.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=Fa;try{this.xhr.abort()}catch(a){}this.xhr=null}};P.prototype.ready=
function(a,b){var c=this;J.util.defer(function(){b.call(c)})};J.transports.push("xhr-polling");var sa="undefined"!=typeof io?io:module.parent.exports,ta=this,P=function(a){sa.Transport["xhr-polling"].apply(this,arguments);this.index=sa.j.length;var b=this;sa.j.push(function(a){b._(a)})},ra=ta.document&&"MozAppearance"in ta.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=P;sa.util.inherit(P,sa.Transport["xhr-polling"]);P.prototype.name="jsonp-polling";
P.prototype.post=function(a){function b(){c();d.socket.setBuffer(!1)}function c(){d.iframe&&d.form.removeChild(d.iframe);try{j=document.createElement('<iframe name="'+d.iframeId+'">')}catch(a){j=document.createElement("iframe"),j.name=d.iframeId}j.id=d.iframeId;d.form.appendChild(j);d.iframe=j}var d=this,e=sa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),h=document.createElement("textarea"),g=this.iframeId="socketio_iframe_"+
this.index,j;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display="none";f.target=g;f.method="POST";f.setAttribute("accept-charset","utf-8");h.name="d";f.appendChild(h);document.body.appendChild(f);this.form=f;this.area=h}this.form.action=this.prepareUrl()+e;c();this.area.value=sa.JSON.stringify(a);try{this.form.submit()}catch(k){}this.iframe.attachEvent?j.onreadystatechange=function(){"complete"==d.iframe.readyState&&b()}:this.iframe.onload=b;this.socket.setBuffer(!0)};
P.prototype.get=function(){var a=this,b=document.createElement("script"),c=sa.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.prepareUrl()+c;b.onerror=function(){a.onClose()};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;ra&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},
100)};P.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};P.prototype.ready=function(a,b){var c=this;if(!ra)return b.call(this);sa.util.load(function(){b.call(c)})};P.check=function(){return"document"in ta};P.xdomainCheck=function(){return!0};sa.transports.push("jsonp-polling");"function"===typeof define&&define.amd&&define([],function(){return io})})();
(function(a){function b(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function d(a,b){return function(c){return g(a.call(this,c),b)}}function c(a){return function(b){b=a.call(this,b);return b+this.lang().ordinal(b)}}function e(a,b,c){this._d=a;this._isUTC=!!b;this._a=a._a||null;this._lang=c||!1}function f(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,g=a.hours||a.h||0,j=a.minutes||a.m||0,l=a.seconds||a.s||0;a=a.milliseconds||a.ms||0;this._milliseconds=
a+1E3*l+6E4*j+36E5*g;this._days=f+7*e;this._months=d+12*c;b.milliseconds=a%1E3;l+=k(a/1E3);b.seconds=l%60;j+=k(l/60);b.minutes=j%60;g+=k(j/60);b.hours=g%24;f+=k(g/24);f+=7*e;b.days=f%30;d+=k(f/30);b.months=d%12;c+=k(d/12);b.years=c;this._lang=!1}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function g(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c){var d=b._milliseconds,e=b._days;b=b._months;var f;d&&a._d.setTime(+a+d*c);e&&a.date(a.date()+e*c);b&&(f=a.date(),a.date(1).month(a.month()+
b*c).date(Math.min(f,a.daysInMonth())))}function m(a){return"[object Array]"===Object.prototype.toString.call(a)}function s(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function w(a,b,c,d){var e,f,g=[];for(e=0;7>e;e++)g[e]=a[e]=null==a[e]?2===e?1:0:a[e];return a[7]=g[7]=b,null!=a[8]&&(g[8]=a[8]),a[3]+=c||0,a[4]+=d||0,f=new Date(0),b?(f.setUTCFullYear(a[0],a[1],a[2]),f.setUTCHours(a[3],a[4],a[5],a[6])):(f.setFullYear(a[0],
a[1],a[2]),f.setHours(a[3],a[4],a[5],a[6])),f._a=g,f}function v(a,b){var c,d,e=[];!b&&T&&(b=require("./lang/"+a));for(c=0;c<t.length;c++)b[t[c]]=b[t[c]]||I.en[t[c]];for(c=0;12>c;c++)d=l([2E3,c]),e[c]=RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");return b.monthsParse=b.monthsParse||e,I[a]=b,b}function r(a){return(a="string"==typeof a&&a||a&&a._lang||null)?I[a]||v(a):l}function F(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=
5;d--&&S.test(b);)b=b.replace(S,c);if(!ya[b]){var d=ya,e=b,f=b,g=f.match(ca),j,k;j=0;for(k=g.length;j<k;j++)fa[g[j]]?g[j]=fa[g[j]]:g[j]=g[j].match(/\[.*\]/)?g[j].replace(/^\[|\]$/g,""):g[j].replace(/\\/g,"");d[e]=function(a){var b="";for(j=0;j<k;j++)b+="function"==typeof g[j].call?g[j].call(a,f):g[j];return b}}return ya[b](a)}function A(a){switch(a){case "DDDD":return q;case "YYYY":return H;case "S":case "SS":case "SSS":case "DDD":return K;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return R;
case "Z":case "ZZ":return y;case "T":return U;case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return E;default:return RegExp(a.replace("\\",""))}}function n(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(ca),f,g;for(f=0;f<e.length;f++)if((g=(A(e[f]).exec(a)||[])[0])&&(a=a.slice(a.indexOf(g)+g.length)),fa[e[f]]){var j=c,k=d,l=void 0,n=void 0;switch(e[f]){case "M":case "MM":j[1]=null==g?0:~~g-1;break;case "MMM":case "MMMM":for(l=
0;12>l;l++)if(r().monthsParse[l].test(g)){j[1]=l;n=!0;break}n||(j[8]=!1);break;case "D":case "DD":case "DDD":case "DDDD":null!=g&&(j[2]=~~g);break;case "YY":j[0]=~~g+(70<~~g?1900:2E3);break;case "YYYY":j[0]=~~Math.abs(g);break;case "a":case "A":k.isPm="pm"===(g+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":j[3]=~~g;break;case "m":case "mm":j[4]=~~g;break;case "s":case "ss":j[5]=~~g;break;case "S":case "SS":case "SSS":j[6]=~~(1E3*("0."+g));break;case "Z":case "ZZ":k.isUTC=!0,(l=(g+
"").match(Ua))&&l[1]&&(k.tzh=~~l[1]),l&&l[2]&&(k.tzm=~~l[2]),l&&"+"===l[0]&&(k.tzh=-k.tzh,k.tzm=-k.tzm)}null==g&&(j[8]=!1)}return d.isPm&&12>c[3]&&(c[3]+=12),!1===d.isPm&&12===c[3]&&(c[3]=0),w(c,d.isUTC,d.tzh,d.tzm)}function M(a,b,c,d,e){e=e.relativeTime[a];return"function"==typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function x(a,b){l.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function B(a){l.duration.fn[a]=function(){return this._data[a]}}
function C(a,b){l.duration.fn["as"+a]=function(){return+this/b}}for(var l,z=Math.round,N,I={},X="en",T="undefined"!=typeof module&&module.exports,t="months monthsShort weekdays weekdaysShort weekdaysMin longDateFormat calendar relativeTime ordinal meridiem".split(" "),Y=/^\/?Date\((\-?\d+)/i,ca=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,S=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,Z=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,
E=/\d\d?/,K=/\d{1,3}/,q=/\d{3}/,H=/\d{1,4}/,R=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,y=/Z|[\+\-]\d\d:?\d\d/i,U=/T/i,D=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,na=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Ua=/([\+\-]|\d\d)/gi,Va="Month Date Hours Minutes Seconds Milliseconds".split(" "),oa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},
ya={},ba=["DDD","w","M","D","d"],pa="MDHhmsw".split(""),fa={M:function(){return this.month()+1},MMM:function(a){return b("monthsShort",this.month(),this,a)},MMMM:function(a){return b("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864E5+1.5)},d:function(){return this.day()},dd:function(a){return b("weekdaysMin",this.day(),this,a)},ddd:function(a){return b("weekdaysShort",
this.day(),this,a)},dddd:function(a){return b("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864E5/7+1.5)},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%
12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return g(~~(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},Z:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+g(~~(a/60),2)+":"+g(~~a%60,2)},ZZ:function(){var a=-this.zone();return 0>a&&(a=-a),"+"+g(~~(10*a/6),4)}};ba.length;)N=ba.pop(),fa[N+"o"]=c(fa[N]);for(;pa.length;)N=pa.pop(),fa[N+N]=d(fa[N],2);fa.DDDD=d(fa.DDD,3);l=function(b,
c){if(null===b||""===b)return null;var d;if(l.isMoment(b))d=new e(new Date(+b._d),b._isUTC,b._lang);else{if(c)if(m(c)){var f=b.match(Z)||[],g,j=99,k,r;for(k=0;k<c.length;k++)r=n(b,c[k]),g=F(new e(r),c[k]).match(Z)||[],g=s(f,g),g<j&&(j=g,d=r)}else d=n(b,c);else if(d=Y.exec(b),b===a)d=new Date;else if(d)d=new Date(+d[1]);else if(b instanceof Date)d=b;else if(m(b))d=w(b);else if("string"==typeof b)if(d="YYYY-MM-DDT",D.exec(b)){for(f=0;4>f;f++)if(na[f][1].exec(b)){d+=na[f][0];break}d=y.exec(b)?n(b,d+
" Z"):n(b,d)}else d=new Date(b);else d=new Date(b);d=new e(d)}return d};l.utc=function(a,b){return m(a)?new e(w(a,!0),!0):("string"==typeof a&&!y.exec(a)&&(a+=" +0000",b&&(b+=" Z")),l(a,b).utc())};l.unix=function(a){return l(1E3*a)};l.duration=function(a,b){var c=l.isDuration(a),d="number"==typeof a,e=c?a._data:d?{}:a,g;return d&&(b?e[b]=a:e.milliseconds=a),g=new f(e),c&&(g._lang=a._lang),g};l.humanizeDuration=function(a,b,c){return l.duration(a,!0===b?null:b).humanize(!0===b?!0:c)};l.version="1.7.2";
l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";l.lang=function(a,b){var c;if(!a)return X;(b||!I[a])&&v(a,b);if(I[a]){for(c=0;c<t.length;c++)l[t[c]]=I[a][t[c]];l.monthsParse=I[a].monthsParse;X=a}};l.langData=r;l.isMoment=function(a){return a instanceof e};l.isDuration=function(a){return a instanceof f};l.lang("en",{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",
mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}});l.fn=e.prototype={clone:function(){return l(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),
this.minutes(),this.seconds(),this.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!s(this._a,(this._a[7]?l.utc(this._a):l(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return F(this,a?a:l.defaultFormat)},add:function(a,b){var c=b?l.duration(+b,a):l.duration(a);return j(this,c,1),this},subtract:function(a,b){var c=b?l.duration(+b,a):l.duration(a);
return j(this,c,-1),this},diff:function(a,b,c){a=this._isUTC?l(a).utc():l(a).local();var d=6E4*(this.zone()-a.zone()),d=this._d-a._d-d,e=this.year()-a.year(),f=this.month()-a.month();a=this.date()-a.date();var g;return"months"===b?g=12*e+f+a/30:"years"===b?g=e+(f+a/30)/12:g="seconds"===b?d/1E3:"minutes"===b?d/6E4:"hours"===b?d/36E5:"days"===b?d/864E5:"weeks"===b?d/6048E5:d,c?g:z(g)},from:function(a,b){return l.duration(this.diff(a)).lang(this._lang).humanize(!b)},fromNow:function(a){return this.from(l(),
a)},calendar:function(){var a=this.diff(l().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,a=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"==typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<l([this.year()]).zone()||this.zone()<l([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==
a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case "year":this.month(0);case "month":this.date(1);case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return l.utc([this.year(),this.month()+1,0]).date()},lang:function(b){return b===a?r(this):(this._lang=b,this)}};for(N=0;N<Va.length;N++)x(Va[N].toLowerCase(),Va[N]);x("year","FullYear");l.duration.fn=f.prototype={weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d;d=!a;var e=this.lang(),f=z(Math.abs(b)/1E3),g=z(f/60),j=z(g/60),k=z(j/24),l=z(k/
365),f=45>f&&["s",f]||1===g&&["m"]||45>g&&["mm",g]||1===j&&["h"]||22>j&&["hh",j]||1===k&&["d"]||25>=k&&["dd",k]||45>=k&&["M"]||345>k&&["MM",z(k/30)]||1===l&&["y"]||["yy",l];d=(f[2]=d,f[3]=0<b,f[4]=e,M.apply({},f));b=0>=b?c.past:c.future;return a&&("function"==typeof b?d=b(d):d=b.replace(/%s/i,d)),d},lang:l.fn.lang};for(N in oa)oa.hasOwnProperty(N)&&(C(N,oa[N]),B(N.toLowerCase()));C("Weeks",6048E5);T&&(module.exports=l);"undefined"==typeof ender&&(this.moment=l);"function"==typeof define&&define.amd&&
define("moment",[],function(){return l})}).call(this);
(function(a){var b=8,d=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},c=function(a,b){return a>>>b|a<<32-b},e=function(a,b){var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,
338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64),k,F,A,n,M,x,B,C,l,z,N,I;a[b>>5]|=128<<24-b%
32;a[(b+64>>9<<4)+15]=b;for(l=0;l<a.length;l+=16){k=f[0];F=f[1];A=f[2];n=f[3];M=f[4];x=f[5];B=f[6];C=f[7];for(z=0;64>z;z++)g[z]=16>z?a[z+l]:d(d(d(c(g[z-2],17)^c(g[z-2],19)^g[z-2]>>>10,g[z-7]),c(g[z-15],7)^c(g[z-15],18)^g[z-15]>>>3),g[z-16]),N=d(d(d(d(C,c(M,6)^c(M,11)^c(M,25)),M&x^~M&B),e[z]),g[z]),I=d(c(k,2)^c(k,13)^c(k,22),k&F^k&A^F&A),C=B,B=x,x=M,M=d(n,N),n=A,A=F,F=k,k=d(N,I);f[0]=d(k,f[0]);f[1]=d(F,f[1]);f[2]=d(A,f[2]);f[3]=d(n,f[3]);f[4]=d(M,f[4]);f[5]=d(x,f[5]);f[6]=d(B,f[6]);f[7]=d(C,f[7])}return f},
f=function(a){for(var c=[],d=(1<<b)-1,e=0;e<a.length*b;e+=b)c[e>>5]|=(a.charCodeAt(e/b)&d)<<24-e%32;return c},k=function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b},g=function(b){return b="object"==typeof b?a(b).val():b.toString()};a.extend({sha256:function(a){a=g(a);return k(e(f(a),a.length*b))},sha256hmac:function(a,c){a=g(a);c=g(c);var d,w=a;d=c;var v=f(w);16<v.length&&(v=e(v,w.length*b));
for(var r=Array(16),w=Array(16),F=0;16>F;F++)r[F]=v[F]^909522486,w[F]=v[F]^1549556828;d=e(r.concat(f(d)),512+d.length*b);d=e(w.concat(d),768);return k(d)},sha256config:function(a){b=parseInt(a)||8}});a.fn.sha256=function(b){a.sha256config(b);b=g(a(this).val());b=a.sha256(b);a.sha256config(8);return b}})(jQuery);function Space(a){this.keys=[];this.values={};this.events={};this._load(a);return this}Space.pathBranch=function(a){a=a.split(/ /g);if(2>a.length)return"";a.pop();return a.join(" ")};
Space.pathLeaf=function(a){var b=a.split(/ /g);return 2>b.length?a:b[b.length-1]};Space.strRepeat=function(a,b){for(var d="",c=0;c<b;c++)d+=" ";return d};Space.union=function(){var a=Space.unionSingle(arguments[0],arguments[1]),b;for(b in arguments)if(1!==b&&(a=Space.unionSingle(a,arguments[b]),!a.keys.length))break;return a};
Space.unionSingle=function(a,b){var d=new Space;if(!(b instanceof Space))return d;for(var c in a.keys){var e=a.keys[c],f=a.values[e];f instanceof Space&&(b.values[e]&&b.values[e]instanceof Space)&&d._set(e,Space.unionSingle(f,b.values[e]));f===b.values[e]&&d._set(e,f)}return d};Space.prototype.keys=[];Space.prototype.values={};Space.prototype.append=function(a,b){this._set(a,b);this.trigger("append",a,b);this.trigger("change");return this};
Space.prototype._clear=function(){this.keys=[];this.values={};return this};Space.prototype.clear=function(a){if(this.isEmpty())return this;this._clear();this.trigger("clear");a&&this._load(a);this.trigger("change");return this};Space.prototype.clone=function(){return new Space(this.toString())};Space.prototype.create=function(a,b){this._set(a,b);this.trigger("create",a,b);this.trigger("change");return this};
Space.prototype._delete=function(a){if(!a.toString().match(/ /)){var b=this.keys.indexOf(a);if(-1===b)return 0;this.keys.splice(b,1);delete this.values[a];return 1}b=a.split(/ /);a=b.pop();b=this.get(b.join(" "));return b instanceof Space?b._delete(a):0};Space.prototype["delete"]=function(a){this._delete(a)&&this.trigger("delete",a);this.trigger("change");return this};
Space.prototype.diff=function(a){var b=new Space;a instanceof Space||(a=new Space(a));for(var d in this.keys){var c=this.keys[d],e=a.values[c];"undefined"===typeof e?b._set(c,""):typeof this.values[c]!==typeof e?"object"===typeof e?b._set(c,new Space(e)):this.values[c]!=e&&b._set(c,e):"object"!==typeof this.values[c]?this.values[c]!=e&&b._set(c,e):(e=this.values[c].diff(e),e.keys.length&&b._set(c,e))}for(d in a.keys)c=a.keys[d],e=a.values[c],this.values[c]||("object"!==typeof e?b._set(c,e):e instanceof
Space?b._set(c,new Space(e)):b._set(c,new Space(a)));return b};Space.prototype.diffOrder=function(a){a instanceof Space||(a=new Space(a));var b=new Space,d;for(d in a.keys){var c=a.keys[d],e=a.values[c];e instanceof Space&&this.values[c]instanceof Space&&(e=this.values[c].diffOrder(e),e.isEmpty()||b._set(c,e))}if(a.keys.join(" ")===this.keys.join(" "))return b;b.keys=a.keys;for(d in a.keys)c=a.keys[d],b.values.hasOwnProperty(c)||(b.values[c]=new Space);return b};
Space.prototype.each=function(a){for(var b in this.keys)if(!1===a.call(this,this.keys[b],this.values[this.keys[b]]))break;return this};Space.prototype.isEmpty=function(){return 0===this.keys.length};Space.prototype.every=function(a){for(var b in this.keys){var d=this.values[this.keys[b]];d instanceof Space&&d.every(a);a.call(this,this.keys[b],this.values[this.keys[b]])}return this};
Space.prototype.get=function(a){switch(typeof a){case "string":return this.getByString(a);case "object":return this.getBySpace(a);case "number":return this.getByInt(a)}return null};Space.prototype.getByInt=function(a){0>a&&(a=this.keys.length+a);return this.values[this.keys[a]]};Space.prototype.getByString=function(a){if(!a)return null;if(!a.match(/ /))return this.values[a];a=a.split(/ /g);var b=a.shift();return!(b in this.values)?null:this.values[b].get(a.join(" "))};
Space.prototype.getBySpace=function(a){var b=new Space,d;for(d in a.keys){var c=a.keys[d],e=this.values[c];"undefined"!==typeof e&&(!(a.values[c]instanceof Space)||!a.values[c].keys.length?b._set(c,e):e instanceof Space&&b._set(c,e.getBySpace(a.values[c])))}return b};Space.prototype.length=function(){return this.keys.length};
Space.prototype._load=function(a){if("string"===typeof a)return this.loadFromString(a);if(a instanceof Space){this.keys=a.keys;for(var b in this.keys){var d=this.keys[b];this.values[d]=a.values[d]}return this}for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b=a[d],"object"===typeof b?this._set(d,new Space(b)):this._set(d,b))};
Space.prototype.loadFromString=function(a){a=a.replace(/^[\n ]*/,"");a=a.replace(/\n\r/g,"\n").replace(/\r\n/g,"\n");a=a.replace(/\n[\n ]*$/,"");a=a.replace(/\n\n+/,"\n");a=a.split(/\n(?! )/g);for(var b in a){var d=a[b];(matches=d.match(/^([^ ]+)(\n|$)/))?this._set(matches[1],new Space(d.substr(matches[1].length).replace(/\n /g,"\n"))):(matches=d.match(/^([^ ]+) /))&&this._set(matches[1],d.substr(matches[1].length+1).replace(/^\n /,"").replace(/\n /g,"\n"))}return this};
Space.prototype.next=function(a){a=this.keys.indexOf(a)+1;return this.keys[a]?this.keys[a]:this.keys[0]};Space.prototype.off=function(a,b){if(!this.events[a])return!0;for(var d in this.events[a])this.events[a][d]===b&&this.events[a].splice(d,1)};Space.prototype.on=function(a,b){this.events[a]||(this.events[a]=[]);this.events[a].push(b)};
Space.prototype._patch=function(a){a instanceof Space||(a=new Space(a));for(var b in a.keys){var d=a.keys[b],c=a.values[d];"string"===typeof c?""===c?this._delete(d):this._set(d,c):"number"===typeof c?this._set(d,c):c instanceof Space&&!c.keys.length?this._delete(d):this.values[d]instanceof Space?this.values[d]._patch(c):this._set(d,new Space(c))}return this};Space.prototype.patch=function(a){this._patch(a);this.trigger("patch",a);this.trigger("change");return this};
Space.prototype._patchOrder=function(a){a instanceof Space||(a=new Space(a));var b=this.keys.length,d;for(d in a.keys){var c=a.keys[d];if(!this.values.hasOwnProperty(c))break;b--}0===b&&(this.keys=a.keys);for(d in a.keys)c=a.keys[d],b=a.values[c],b instanceof Space&&(b.keys.length&&this.values[c]instanceof Space)&&this.values[c]._patchOrder(b);return this};Space.prototype.patchOrder=function(a){this._patchOrder(a);this.trigger("patchOrder",a);this.trigger("change");return this};
Space.prototype.prev=function(a){a=this.keys.indexOf(a)-1;return 0<=a?this.keys[a]:this.keys[this.keys.length-1]};Space.prototype._rename=function(a,b){this.values[b]=this.values[a];delete this.values[a];this.keys[this.keys.indexOf(a)]=b;return this};Space.prototype.rename=function(a,b){var d=Space.pathBranch(a),c=Space.pathLeaf(a),e=b,f=this;d&&(f=this.get(d),e=b.substr(d.length+1));f._rename(c,e);a!==b&&this.trigger("rename",a,b);this.trigger("change");return this};
Space.prototype._set=function(a,b,d){if(!a)return null;a=a.toString().split(/ /g);for(var c=this,e;e=a.shift();)void 0===c.values[e]&&("number"===typeof d?c.keys.splice(d,0,e):c.keys.push(e)),a.length?c.values[e]instanceof Space||(c.values[e]=new Space):c.values[e]=b,c=c.values[e];return this};Space.prototype.set=function(a,b,d){this.get(a);this._set(a,b,d);this.trigger("set",a,b,d);this.trigger("change");return this};
Space.prototype.toJavascript=function(){return"new Space('"+this.toString().replace(/\n/g,"\\n").replace(/\'/g,"\\'")+"')"};Space.prototype.toJSON=function(){return JSON.stringify(this.toObject())};Space.prototype.toObject=function(){var a={},b;for(b in this.keys){var d=this.keys[b],c=this.values[d];a[d]=c instanceof Space?c.toObject():c}return a};
Space.prototype.toString=function(a){a=a||0;var b="",d;for(d in this.keys){var c=this.keys[d],e=this.values[c];"undefined"===typeof e?b+="\n":(b+=Space.strRepeat(" ",a)+c,b=e instanceof Space?b+("\n"+e.toString(a+1)):"object"===typeof e?b+("\n"+(new Space(e)).toString(a+1)):""===e.toString()?b+" \n":e.toString().match(/\n/)?b+(" \n"+Space.strRepeat(" ",a+1)+e.toString().replace(/\n/g,"\n"+Space.strRepeat(" ",a+1))+"\n"):b+(" "+e.toString()+"\n"))}return b};Space.prototype.toURL=function(){return encodeURIComponent(this.toString())};
Space.prototype.trigger=function(a){if(!this.events[a])return!0;var b=Array.prototype.slice.call(arguments),d;for(d in this.events[a])this.events[a][d].apply(this,b.slice(1))};"undefined"!=typeof exports&&(module.exports=Space);"undefined"!==typeof exports&&(Space=require("space"));function Element(a,b){this.tag=a;this.attrs=b||{};this.content="";return this}Element.prototype.addClass=function(a){this.attrs["class"]=this.attrs["class"]?this.attrs["class"]+(" "+a):a};
Element.prototype.append=function(a){this.content+=a};Element.prototype.attr=function(a,b){this.attrs[a]=b};Element.prototype.html=function(a){this.content+=a};Element.prototype.toHtml=function(){var a="<"+this.tag,b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(a+=" "+b+'="'+this.attrs[b]+'"');"meta"===this.tag?a+=' content="'+this.content+'">':(a+=">"+this.content,a+="</"+this.tag+">");return a};
function Scrap(a,b){this.path=a;this.id=a.split(/ /g).pop();this.clear();b instanceof Space||(b=new Space(b));this.patch(b);var d=this.get("scraps");d instanceof Space&&d.each(function(b,e){d._set(b,new Scrap(a+" "+b,e))});return this}Scrap.styleToCss=function(a,b){var d=a+" {\n",c;for(c in b)b.hasOwnProperty(c)&&(d+="  "+c+" : "+b[c].toString().replace(/\;$/,"")+";\n");return d+"}\n"};
Scrap.styleToInline=function(a){var b="",d;for(d in a)a.hasOwnProperty(d)&&(b+=d+": "+a[d].toString().replace(/\;$/,"")+"; ");return b};Scrap.prototype=new Space;Scrap.prototype.clone=function(a){return new Scrap(a,this)};Scrap.prototype.selector=function(){return"#"+this.path.replace(/ /g," #")};Scrap.prototype.setChildren=function(a){var b=this.get("scraps");if(!b)return this;var d=this;b.each(function(b,e){d.div.html(e.toHtml(a))});return this};
Scrap.prototype.setContent=function(){this.get("content")&&this.div.html(this.get("content"));var a=this.get("styles");if(a&&a instanceof Space){var b=this.div;a.each(function(a,c){b.html(Scrap.styleToCss(a,c.values))})}return this};Scrap.prototype.setTag=function(){tag=this.values.tag?this.values.tag:"div";this.div=new Element(tag)};Scrap.prototype.setProperties=function(){this.each(function(a){if(a.match(/^(scraps|content|tag|on.*|style)$/))return!0;this.setProperty(a)})};
Scrap.prototype.setProperty=function(a){this.get(a)&&this.div.attr(a,this.get(a))};Scrap.prototype.setHandlers=function(){this.each(function(a,b){if(!a.match(/^on.*$/))return!0;this.div.attr(a,b)})};Scrap.prototype.setStyle=function(){if(!this.values.style)return null;if(!(this.values.style instanceof Space))return this.div.attr("style",this.values.style);this.div.attr("style",Scrap.styleToInline(this.values.style.values))};
Scrap.prototype.toHtml=function(a){this.setTag();this.div.attr("id",this.id);this.setProperties();this.setContent();this.setChildren(a);this.setStyle();this.setHandlers();return a?a.call(this):this.div.toHtml()};function Page(a){this.clear();a&&this.patch(a);this.loadScraps();return this}Page.prototype=new Space;Page.prototype.clone=function(){return new Page(this.values)};Page.prototype.loadScraps=function(){var a=this;this.each(function(b,d){a._set(b,new Scrap(b,d))})};
Page.prototype.toHtml=function(a){var b="<!doctype html>\n<html>";this.each(function(d,c){b+="\n  "+c.toHtml(a)});return b+="\n</html>"};"undefined"!==typeof exports&&(module.exports=Page);
(function(a){function b(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)}function d(a){a=j(a);return/^(?:webOS|i(?:OS|P))/.test(a)?a:b(a)}function c(a,b){for(var c in a)f(a,c)&&b(a[c],c,a)}function e(a){return null==a?b(a):F.call(a).slice(8,-1)}function f(){f=function(a,b){var c=null!=a&&(a.constructor||Object).prototype;return!!c&&b in Object(a)&&!(b in c&&a[b]===c[b])};"Function"==e(B)?f=function(a,b){return null!=a&&B.call(a,b)}:{}.__proto__==Object.prototype&&(f=function(a,b){var c=
!1;null!=a&&(a=Object(a),a.__proto__=[a.__proto__,a.__proto__=null,c=b in a][0]);return c});return f.apply(this,arguments)}function k(a){return String(a).replace(/([ -])(?!$)/g,"$1?")}function g(a,b){var d=null,e=function(c,e){d=b(d,c,e,a)},f=-1,g=a.length;if(g==g>>>0)for(;++f<g;)e(a[f],f,a);else c(a,e);return d}function j(a){return String(a).replace(/^ +| +$/g,"")}function m(b){function f(a){return g(a,function(a,c){var e=c.pattern||k(c);if(!a&&(a=RegExp("\\b"+e+" *\\d+[.\\w_]*","i").exec(b)||RegExp("\\b"+
e+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(b))){if((a=String(c.label||a).split("/"))[1]&&!/[\d.]+/.test(a[0]))a[0]+=" "+a[1];c=c.label||c;a=d(a[0].replace(RegExp(e,"i"),c).replace(RegExp("; *(?:"+c+"[_-])?","i")," ").replace(RegExp("("+c+")(\\w)","i"),"$1 $2"))}return a})}b||(b=I);var t,w=b,B=[],S=null,Z=b==I,E=Z&&l&&"function"==typeof l.version&&l.version(),K=g([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"],function(a,c){return a||
RegExp("\\b"+(c.pattern||k(c))+"\\b","i").exec(b)&&(c.label||c)}),q=g(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera","Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},
{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"],function(a,c){return a||RegExp("\\b"+(c.pattern||k(c))+"\\b","i").exec(b)&&(c.label||c)}),H=f(["BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation Vita","TouchPad","Transformer","Xoom"]),R=g({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,
"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1},Sony:{"PlayStation Vita":1}},function(a,c,d){return a||(c[H]||c[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+(d.pattern||k(d))+"(?:\\b|\\w*\\d)","i").exec(b))&&(d.label||d)}),y=g("Android,CentOS,Debian,Fedora,FreeBSD,Gentoo,Haiku,Kubuntu,Linux Mint,Red Hat,SuSE,Ubuntu,Xubuntu,Cygwin,Symbian OS,hpwOS,webOS ,webOS,Tablet OS,Linux,Mac OS X,Macintosh,Mac,Windows 98;,Windows ".split(","),
function(a,c){var e=c.pattern||k(c);if(!a&&(a=RegExp("\\b"+e+"(?:/[\\d.]+|[ \\w.]*)","i").exec(b))){t={"6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};if(/^Win/i.test(a)&&(t=t[0,/[\d.]+$/.exec(a)]))a="Windows "+t;a=d(String(a).replace(RegExp(e,"i"),c.label||c).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,
"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])}return a});K&&(K=[K]);R&&!H&&(H=f([R]));if(t=/Google TV/.exec(H))H=t[0];/\bSimulator\b/i.test(b)&&(H=(H?H+" ":"")+"Simulator");if(/^iP/.test(H))q||(q="Safari"),y="iOS"+((t=/ OS ([\d_]+)/i.exec(b))?" "+t[1].replace(/_/g,"."):"");else if("Konqueror"==q&&!/buntu/i.test(y))y="Kubuntu";else if(R&&"Google"!=R&&/Chrome|Vita/.test(q+";"+H))q="Android Browser",y=/Android/.test(y)?
y:"Android";else if(!q||(t=!/\bMinefield\b/i.test(b)&&/Firefox|Safari/.exec(q)))if(q&&(!H&&/[\/,]|^[^(]+?\)/.test(b.slice(b.indexOf(t+"/")+8)))&&(q=null),(t=H||R||y)&&(H||R||/Android|Symbian OS|Tablet OS|webOS/.test(y)))q=/[a-z]+(?: Hat)?/i.exec(/Android/.test(y)?y:t)+" Browser";E||(E=["(?:Cloud9|CriOS|CrMo|Opera ?Mini|Raven|Silk(?!/[\\d.]+$))","Version",k(q),"(?:Firefox|Minefield|NetFront)"],E=g(E,function(a,c){return a||(RegExp(c+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(b)||
0)[1]||null}));if("iCab"==K&&3<parseFloat(E))K=["WebKit"];else if(t=/Opera/.test(q)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(b)&&"WebKit"||!K&&/\bMSIE\b/i.test(b)&&(/^Mac/.test(y)?"Tasman":"Trident"))K=[t];if(Z){var U=a,D=null!=U?typeof U.global:"number";if(!/^(?:boolean|number|string|undefined)$/.test(D)&&("object"==D?U.global:1))if(A&&(t=A.lang.System,w=t.getProperty("os.arch"),y=y||t.getProperty("os.name")+" "+t.getProperty("os.version")),"object"==typeof exports&&exports)if(N==s&&"object"==
typeof system&&(t=[system])[0]){y||(y=t[0].os||null);try{t[1]=require("ringo/engine").version,E=t[1].join("."),q="RingoJS"}catch(na){t[0].global==v&&(q="Narwhal")}}else{if("object"==typeof process&&(t=process))q="Node.js",w=t.arch,y=t.platform,E=/[\d.]+/.exec(t.version)[0]}else"Environment"==e(a.environment)&&(q="Rhino");else if("ScriptBridgingProxyObject"==e(t=a.runtime))q="Adobe AIR",y=t.flash.system.Capabilities.os;else if("RuntimeObject"==e(t=a.phantom))q="PhantomJS",E=(t=t.version||null)&&t.major+
"."+t.minor+"."+t.patch;else if("number"==typeof x.documentMode&&(t=/\bTrident\/(\d+)/i.exec(b))){E=[E,x.documentMode];if((t=+t[1]+4)!=E[1])B.push("IE "+E[1]+" mode"),K[1]="",E[1]=t;E="IE"==q?String(E[1].toFixed(1)):E[0]}y=y&&d(y)}if(E&&(t=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(E)||/(?:alpha|beta)(?: ?\d)?/i.exec(b+";"+(Z&&C.appMinorVersion))||/\bMinefield\b/i.test(b)&&"a"))S=/b/i.test(t)?"beta":"alpha",E=E.replace(RegExp(t+"\\+?$"),"")+("beta"==S?M:n)+(/\d+\+?/.exec(t)||"");if("Fennec"==
q)q="Firefox Mobile";else if("Maxthon"==q&&E)E=E.replace(/\.[\d.]+/,".x");else if("Silk"==q)/Mobi/i.test(b)||(y="Android",B.unshift("desktop mode")),/Accelerated *= *true/i.test(b)&&B.unshift("accelerated");else if("IE"==q&&(t=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(b)||0)[1]))q+=" Mobile",y="Windows Phone OS "+t+".x",B.unshift("desktop mode");else if(("IE"==q||q&&!H&&!/Browser|Mobi/.test(q))&&("Windows CE"==y||/Mobi/i.test(b)))q+=" Mobile";else if("IE"==q&&Z&&"object"==typeof external&&!external)B.unshift("platform preview");
else if(/BlackBerry/.test(H)&&(t=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(b)||0)[1]||E))y="Device Software "+t,E=null;else if(this!=c&&(Z&&l||/Opera/.test(q)&&/\b(?:MSIE|Firefox)\b/i.test(b)||"Firefox"==q&&/OS X (?:\d+\.){2,}/.test(y)||"IE"==q&&(y&&!/^Win/.test(y)&&5.5<E||/Windows XP/.test(y)&&8<E||8==E&&!/Trident/.test(b)))&&!r.test(t=m.call(c,b.replace(r,"")+";"))&&t.name)t="ing as "+t.name+((t=t.version)?" "+t:""),r.test(q)?(/IE/.test(t)&&"Mac OS"==y&&(y=null),t="identify"+t):(t="mask"+
t,q=z?d(z.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(t)&&(y=null),Z||(E=null)),K=["Presto"],B.push(t);if(t=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(b)||0)[1]){t=[parseFloat(t.replace(/\.(\d)$/,".0$1")),t];if("Safari"==q&&"+"==t[1].slice(-1))q="WebKit Nightly",S="alpha",E=t[1].slice(0,-1);else if(E==t[1]||E==(/\bSafari\/([\d.]+\+?)/i.exec(b)||0)[1])E=null;t=[t[0],(/\bChrome\/([\d.]+)/i.exec(b)||0)[1]];!Z||/internal|\n/i.test(F.toString())&&!t[1]?(K[1]="like Safari",t=(t=t[0],400>t?1:500>t?2:
526>t?3:533>t?4:534>t?"4+":535>t?5:"5")):(K[1]="like Chrome",t=t[1]||(t=t[0],530>t?1:532>t?2:532.05>t?3:533>t?4:534.03>t?5:534.07>t?6:534.1>t?7:534.13>t?8:534.16>t?9:534.24>t?10:534.3>t?11:535.01>t?12:535.02>t?"13+":535.07>t?15:535.11>t?16:535.19>t?17:536.05>t?18:536.1>t?19:537.01>t?20:"21"));K[1]+=" "+(t+="number"==typeof t?".x":/[.+]/.test(t)?"":"+");if("Safari"==q&&(!E||45<parseInt(E)))E=t}"Opera"==q&&(t=/(?:zbov|zvav)$/.exec(y))?(q+=" ",B.unshift("desktop mode"),"zvav"==t?(q+="Mini",E=null):q+=
"Mobile"):"Safari"==q&&/Chrome/.exec(K[1])&&(B.unshift("desktop mode"),q="Chrome Mobile",E=null,/Mac OS X/.test(y)?(R="Apple",y="iOS 4.3+"):y=null);if(E&&0==E.indexOf(t=/[\d.]+$/.exec(y))&&-1<b.indexOf("/"+t+"-"))y=j(y.replace(t,""));if(K&&!/Avant|Nook/.test(q)&&(/Browser|Lunascape|Maxthon/.test(q)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(q)&&K[1]))(t=K[K.length-1])&&B.push(t);B.length&&(B=["("+B.join("; ")+")"]);R&&(H&&0>H.indexOf(R))&&B.push("on "+R);H&&B.push((/^on /.test(B[B.length-
1])?"":"on ")+H);y&&(t=/ ([\d.+]+)$/.exec(y),y={architecture:32,family:t?y.replace(t[0],""):y,version:t?t[1]:null,toString:function(){var a=this.version;return this.family+(a?" "+a:"")+(64==this.architecture?" 64-bit":"")}});if((t=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(w))&&!/\bi686\b/i.test(w))y&&(y.architecture=64,y.family=y.family.replace(RegExp(" *"+t),"")),q&&(/WOW64/i.test(b)||Z&&/\w(?:86|32)$/.test(C.cpuClass||C.platform))&&B.unshift("32-bit");b||(b=null);return{version:q&&E&&(B.unshift(E),
E),name:q&&(B.unshift(q),q),os:y?(q&&!(y==String(y).split(" ")[0]&&(y==q.split(" ")[0]||H))&&B.push(H?"("+y+")":"on "+y),y):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:B.length?B.join(" "):b,layout:K&&K[0],manufacturer:R,prerelease:S,product:H,ua:b,parse:m,toString:function(){return this.description||""}}}var s=a,w="object"==typeof exports&&exports,v="object"==typeof global&&global&&(global==global.global?a=global:global),r=/Opera/,F={}.toString,A=/Java/.test(e(a.java))&&
a.java,n=A?"a":"\u03b1",M=A?"b":"\u03b2",x=a.document||{},B={}.hasOwnProperty,C=a.navigator||{},l=a.operamini||a.opera,z=r.test(z=e(l))?z:l=null,N=this,I=C.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return m()}):w?c(m(),function(a,b){w[b]=a}):a.platform=m()})(this);
(function(a){var b=a.prototype,d=b.parseFromString;try{if((new a).parseFromString("","text/html"))return}catch(c){}b.parseFromString=function(a,b){if(/^\s*text\/html\s*(?:;|$)/i.test(b)){var c=document.implementation.createHTMLDocument("");-1<a.toLowerCase().indexOf("<!doctype")?c.documentElement.innerHTML=a:c.body.innerHTML=a;return c}return d.apply(this,arguments)}})(DOMParser);
$.inlineStyleToSpace=function(a){a=a.split(";");var b=new Space;a.forEach(function(a){a=a.trim();if(!a)return!0;a=a.split(/\:/);b.set(a[0].trim(),a[1].trim())});return b};
$.fn.toSpace=function(){var a=new Space;$(this);var b=$(this).get(0).tagName.toLowerCase();a.set("tag",b);$($(this).get(0).attributes).each(function(){"style"===this.nodeName?a.set(this.nodeName,$.inlineStyleToSpace(this.nodeValue)):a.set(this.nodeName,this.nodeValue)});if($(this).children().length){var d=new Space;$(this).children().each(function(){for(var a=$(this).attr("id")||$(this).get(0).tagName.toLowerCase(),b=1,f=a;d.values[f];)b++,f=a+b.toString();d.set(f,$(this).toSpace())});a.set("scraps",
d)}else"meta"!==b?a.set("content",$(this).html()):a.set("content",$(this).attr("content"));return a};
$.htmlToScraps=function(a){var b=(new DOMParser).parseFromString(a,"text/html"),d=new Space;$("html",b).children().each(function(){if(!$(this).get(0).tagName)return!0;var a=$(this).attr("id")||$(this).get(0).tagName.toLowerCase();$(this).get(0).tagName.toLowerCase();for(var b=1,f=a;d.get(f);)b++,f=a+b.toString();a=$(this).toSpace();d.set(f,a)});if(a.match(/\<head\>/)&&!a.match(/\<body\>/))return d.delete("body");if(a.match(/\<head\>/)&&a.match(/\<body\>/))return d;if(!a.match(/\<head\>/)&&!a.match(/\<body\>/))return d.delete("head"),
d.get("body scraps");!a.match(/\<head\>/)&&a.match(/\<body\>/)&&d.delete("head");return d};
var cssToObject=function(a,b){function d(a){var b=a.match(/\n/g);b&&(z+=b.length);b=a.lastIndexOf("\n");N=~b?a.length-b:N+a.length}function c(){var a={line:z,column:N};return!b.position?e:function(b){b.position={start:a,end:{line:z,column:N}};j(/^\s*/);return b}}function e(a){j(/^\s*/);return a}function f(b){b=Error(b+" near line "+z+":"+N);b.line=z;b.column=N;b.source=a;throw b;}function k(){return j(/^{\s*/)}function g(){var b,c=[];j(/^\s*/);for(m(c);"}"!=a[0]&&(b=A()||(M()||n()||C("import")||C("charset")||
C("namespace")||B()||x())||l());)c.push(b),m(c);return c}function j(b){if(b=b.exec(a)){var c=b[0];d(c);a=a.slice(c.length);return b}}function m(a){var b;for(a=a||[];b=s();)a.push(b);return a}function s(){var b=c();if(!("/"!=a[0]||"*"!=a[1])){for(var e=2;null!=a[e]&&("*"!=a[e]||"/"!=a[e+1]);)++e;var e=e+2,f=a.slice(2,e-2);N+=2;d(f);a=a.slice(e);N+=2;return b({type:"comment",comment:f})}}function w(){var a=j(/^([^{]+)/);if(a)return a[0].trim().split(/\s*,\s*/)}function v(){var a=c(),b=j(/^(\*?[-\w]+)\s*/);
if(b){b=b[0];if(!j(/^:\s*/))return f("property missing ':'");var d=j(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);if(!d)return f("property missing value");a=a({type:"declaration",property:b,value:d[0].trim()});j(/^[;\s]*/);return a}}function r(){var a=[];if(!k())return f("missing '{'");m(a);for(var b;b=v();)a.push(b),m(a);return!j(/^}/)?f("missing '}'"):a}function F(){for(var a,b=[],d=c();a=j(/^(from|to|\d+%|\.\d+%|\d+\.\d+%)\s*/);)b.push(a[1]),j(/^,\s*/);if(b.length)return d({type:"keyframe",
values:b,declarations:r()})}function A(){var a=c(),b=j(/^@([-\w]+)?keyframes */);if(b){var d=b[1],b=j(/^([-\w]+)\s*/);if(!b)return f("@keyframes missing name");b=b[1];if(!k())return f("@keyframes missing '{'");for(var e,g=m();e=F();)g.push(e),g=g.concat(m());return!j(/^}/)?f("@keyframes missing '}'"):a({type:"keyframes",name:b,vendor:d,keyframes:g})}}function n(){var a=c(),b=j(/^@supports *([^{]+)/);if(b){b=b[1].trim();if(!k())return f("@supports missing '{'");var d=m().concat(g());return!j(/^}/)?
f("@supports missing '}'"):a({type:"supports",supports:b,rules:d})}}function M(){var a=c(),b=j(/^@media *([^{]+)/);if(b){b=b[1].trim();if(!k())return f("@media missing '{'");var d=m().concat(g());return!j(/^}/)?f("@media missing '}'"):a({type:"media",media:b,rules:d})}}function x(){var a=c();if(j(/^@page */)){var b=w()||[];if(!k())return f("@page missing '{'");for(var d=m(),e;e=v();)d.push(e),d=d.concat(m());return!j(/^}/)?f("@page missing '}'"):a({type:"page",selectors:b,declarations:d})}}function B(){var a=
c(),b=j(/^@([-\w]+)?document *([^{]+)/);if(b){var d=(b[1]||"").trim(),b=b[2].trim();if(!k())return f("@document missing '{'");var e=m().concat(g());return!j(/^}/)?f("@document missing '}'"):a({type:"document",document:b,vendor:d,rules:e})}}function C(a){var b=c(),d=j(RegExp("^@"+a+" *([^;\\n]+);"));if(d){var e={type:a};e[a]=d[1].trim();return b(e)}}function l(){var a=c(),b=w();if(b)return m(),a({type:"rule",selectors:b,declarations:r()})}b=b||{};var z=1,N=1;return{type:"stylesheet",stylesheet:{rules:g()}}},
cssToSpace=function(a){var b=new Space;(new Space(cssToObject(a))).get("stylesheet rules").each(function(a,c){if("rule"!==c.get("type"))return!0;var e="";c.get("selectors").each(function(a,b){e+=b});c.get("declarations").each(function(a,c){var d=c.get("property"),j=c.get("value");b.set(e+" "+d,j)})});return b};
(function(){function a(a,b,d,k){var g,j,m,s,w,v,r,F;b=b||{};void 0===b.wrap_line_length&&void 0!==b.max_char&&(b.wrap_line_length=b.max_char);j=parseInt(b.indent_size||4,10);m=b.indent_char||" ";w=b.brace_style||"collapse";s=0===b.wrap_line_length?32786:parseInt(b.wrap_line_length||250,10);v=b.unformatted||"a span bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");F=(r=b.preserve_newlines||!0,parseInt(b.max_preserve_newlines||
32786,10));g=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.newlines=0;this.indent_content=!1;this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?=".split(" "),extra_liners:["head","body","/html"],in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===
b[c])return!0;return!1}};this.traverse_whitespace=function(){var a="",a=this.input.charAt(this.pos);if(this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)r&&("\n"===a&&this.newlines<=F)&&(this.newlines+=1),this.pos++,a=this.input.charAt(this.pos);return!0}return!1};this.get_content=function(){for(var a="",b=[],c=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];this.traverse_whitespace()?
b.length&&(c=!0):(a=this.input.charAt(this.pos),this.pos++,c&&(this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,b),this.print_indentation(b)):(this.line_char_count++,b.push(" ")),c=!1),this.line_char_count++,b.push(a))}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos===this.input.length)return["","TK_EOF"];var b="";a=RegExp("</"+a+"\\s*>","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,
a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+"count"]++:this.tags[a+"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);
delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.get_tag=function(a){var b="",c=[],b="",d=!1,e,f=this.pos,g=this.line_char_count;a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=f,this.line_char_count=g),c.length?c.join(""):["","TK_EOF"];b=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(b,this.Utils.whitespace))d=!0;else{if("'"===b||'"'===
b)b+=this.get_unformatted(b),d=!0;"="===b&&(d=!1);c.length&&("="!==c[c.length-1]&&">"!==b&&d)&&(this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,c),this.print_indentation(c)):(c.push(" "),this.line_char_count++),d=!1);"<"===b&&!e&&(e=this.pos-1);this.line_char_count++;c.push(b);if(c[1]&&"!"===c[1]){c=[this.get_comment(e)];break}}}while(">"!==b);b=c.join("");d=-1!==b.indexOf(" ")?b.indexOf(" "):b.indexOf(">");d=b.substring(1,d).toLowerCase();"/"===b.charAt(b.length-2)||this.Utils.in_array(d,
this.Utils.single_token)?a||(this.tag_type="SINGLE"):"script"===d?a||(this.record_tag(d),this.tag_type="SCRIPT"):"style"===d?a||(this.record_tag(d),this.tag_type="STYLE"):this.is_unformatted(d,v)?(b=this.get_unformatted("</"+d+">",b),c.push(b),0<e&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&c.splice(0,0,this.input.charAt(e-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&c.push(this.input.charAt(e+1)),this.tag_type="SINGLE"):"!"===d.charAt(0)?
a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===d.charAt(0)?(this.retrieve_tag(d.substring(1)),this.tag_type="END"):(this.record_tag(d),"html"!==d.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace(),this.Utils.in_array(d,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output)));a&&(this.pos=f,this.line_char_count=g);return c.join("")};this.get_comment=
function(a){var b="",c=">",d=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length;){b+=input_char;if(b[b.length-1]===c[c.length-1]&&-1!==b.indexOf(c))break;!d&&10>b.length&&(0===b.indexOf("<![if")?(c="<![endif]>",d=!0):0===b.indexOf("<![cdata[")?(c="]]\x3e",d=!0):0===b.indexOf("<![")?(c="]>",d=!0):0===b.indexOf("\x3c!--")&&(c="--\x3e",d=!0));input_char=this.input.charAt(this.pos);this.pos++}return b};this.get_unformatted=function(a,b){if(b&&-1!==b.toLowerCase().indexOf(a))return"";
var c="",d="",e=!0;do{if(this.pos>=this.input.length)break;c=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(c,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n";this.line_char_count=0;continue}}d+=c;this.line_char_count++;e=!0}while(-1===d.toLowerCase().indexOf(a));return d};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==
typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var c=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
return!c||this.Utils.in_array(c,b)?!0:!1};this.printer=function(a,b,c,d,e){this.input=a||"";this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=c;this.brace_style=e;this.indent_level=0;this.wrap_line_length=d;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;b&&b.length&&(a||"\n"!==b[b.length-1])&&b.push("\n")};this.print_indentation=function(a){for(var b=0;b<this.indent_level;b++)a.push(this.indent_string),
this.line_char_count+=this.indent_string.length};this.print_token=function(a){if((a||""!==a)&&this.output.length&&"\n"===this.output[this.output.length-1])this.print_indentation(this.output),a=a.replace(/^\s+/g,"");this.print_token_raw(a)};this.print_token_raw=function(a){a&&""!==a&&(1<a.length&&"\n"===a[a.length-1]?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=
function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}};return this};for(g.printer(a,m,j,s,w);;){a=g.get_token();g.token_text=a[0];g.token_type=a[1];if("TK_EOF"===g.token_type)break;switch(g.token_type){case "TK_TAG_START":g.print_newline(!1,g.output);g.print_token(g.token_text);g.indent_content&&(g.indent(),g.indent_content=!1);g.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":g.print_newline(!1,g.output);g.print_token(g.token_text);
g.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===g.last_token&&""===g.last_text&&(a=g.token_text.match(/\w+/)[0],j=g.output[g.output.length-1].match(/<\s*(\w+)/),(null===j||j[1]!==a)&&g.print_newline(!1,g.output));g.print_token(g.token_text);g.current_mode="CONTENT";break;case "TK_TAG_SINGLE":a=g.token_text.match(/^\s*<([a-z]+)/i);(!a||!g.Utils.in_array(a[1],v))&&g.print_newline(!1,g.output);g.print_token(g.token_text);g.current_mode="CONTENT";break;case "TK_CONTENT":g.print_token(g.token_text);
g.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==g.token_text){g.print_newline(!1,g.output);a=g.token_text;var A;m=1;"TK_SCRIPT"===g.token_type?A="function"===typeof d&&d:"TK_STYLE"===g.token_type&&(A="function"===typeof k&&k);"keep"===b.indent_scripts?m=0:"separate"===b.indent_scripts&&(m=-g.indent_level);j=g.get_full_indent(m);A?a=A(a.replace(/^\s*/,j),b):(s=a.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(g.indent_string).length-1,m=g.get_full_indent(m-s),a=a.replace(/^\s*/,j).replace(/\r\n|\r|\n/g,
"\n"+m).replace(/\s+$/,""));a&&(g.print_token_raw(j+a.replace(/^\s+|\s+$/g,"")),g.print_newline(!1,g.output))}g.current_mode="TAG"}g.last_token=g.token_type;g.last_text=g.token_text}return g.output.join("")}if("function"===typeof define)define(["./beautify.js","./beautify-css.js"],function(b,d){return{html_beautify:function(f,k){return a(f,k,b,d)}}});else if("undefined"!==typeof exports){var b=require("./beautify.js").js_beautify,d=require("./beautify-css.js").css_beautify;exports.html_beautify=function(c,
e){return a(c,e,b,d)}}else"undefined"!==typeof window?window.html_beautify=function(b,d){return a(b,d,window.js_beautify,window.css_beautify)}:"undefined"!==typeof global&&(global.html_beautify=function(b,d){return a(b,d,global.js_beautify,global.css_beautify)})})();function Tool(a){this.keys=[];this.values={};this.events={};this._set("name",a);this._open=!1;Tool.tools.push(a);return this}Tool.tools=[];Tool.openTool=null;Tool.prototype=new Space;
Tool.prototype.close=function(a){if(!this._open)return!1;this.trigger("close");this._open=!1;Tool.openTool=null;$(".Tool").hide();a&&window[a].open()};Tool.prototype.isOpen=function(){return this._open};
Tool.prototype.open=function(){if(this._open)return!1;if(Tool.openTool)return Tool.openTool.close(this.get("name"));this.trigger("open");$(".Tool#"+this.get("name")).show();Tool.openTool=this;this._open=!0;this.trigger("ready");mixpanel.track("I opened the "+this.get("name")+" tool");Screen.set("tool",this.get("name"))};Tool.prototype.restart=function(){this.close();this.open()};Tool.prototype.toggle=function(){this._open?this.close():this.open()};
var Project=new Space,ProjectReceiving=!1,ProjectAppend=function(a,b){if(ProjectReceiving||nudgepad.isTesting)return!0;var d=new Space;d.set("key",a);d.set("value",b.toString());Socket.emit("project.append",d.toString(),function(a){console.log("%s responded to Socket.emit project.append: %s",document.location.host,a)})},ProjectCreate=function(a,b){if(ProjectReceiving)return!0;var d=new Space;d.set("key",a);d.set("value",b.toString());if(nudgepad.isTesting)return null;Socket.emit("project.create",
d.toString(),function(a){console.log("%s responded to Socket.emit project.create: %s",document.location.host,a)})},ProjectDelete=function(a){if(ProjectReceiving)return!0;if(nudgepad.isTesting)return null;Socket.emit("project.delete",a,function(a){console.log("%s responded to Socket.emit project.delete: %s",document.location.host,a)})},ProjectRename=function(a,b){if(ProjectReceiving)return!0;if(nudgepad.isTesting)return null;var d=new Space;d.set("oldName",a);d.set("newName",b);Socket.emit("project.rename",
d.toString(),function(a){console.log("%s responded to Socket.emit project.rename: %s",document.location.host,a)})},ProjectSet=function(a,b){if(ProjectReceiving)return!0;var d=new Space;d.set("key",a);d.set("value",b.toString());if(nudgepad.isTesting)return null;Socket.emit("project.set",d.toString(),function(a){console.log("%s responded to Socket.emit project.set: %s",document.location.host,a)})};Project.on("append",ProjectAppend);Project.on("create",ProjectCreate);Project.on("delete",ProjectDelete);
Project.on("rename",ProjectRename);Project.on("set",ProjectSet);window.console||(window.console={log:function(){}});var nudgepad={isTesting:!1};window.name="nudgepad";var Query=ParseQueryString(),Cookie=parseCookie(document.cookie);
nudgepad.main=function(){$.get("/nudgepad.project",function(a){Project._patch(new Space(a));Project._patch("timelines",new Space);window.addEventListener("popstate",function(){Launcher.openToolFromQueryString()});nudgepad.warnBeforeReload=!0;window.onbeforeunload=nudgepad.beforeUnload;Launcher.openToolFromQueryString();$("#LoadingScreen").hide();Explorer.downloadTimelines();nudgepad.askToRegister();nudgepad.benchmarkCreationTime();mixpanel.track("I opened NudgePad")})};
nudgepad.askToRegister=function(){Cookie.email==="owner@"+document.location.host&&RegisterForm.open()};nudgepad.beforeUnload=function(){if(nudgepad.warnBeforeReload)return nudgepad.reloadMessage()};nudgepad.benchmarkCreationTime=function(){if(!Query.newProject&&store.get("opens"))return!0;store.set("opens",1);var a=(new Date).getTime()-Query.timestamp;mixpanel.track("I created a new project",{time:a});console.log("It took %sms to create this project",a)};nudgepad.reloadMessageOneTime="";
nudgepad.reloadMessage=function(){var a;return(a=nudgepad.reloadMessageOneTime)?(nudgepad.reloadMessageOneTime="",a):"Are you sure you want to leave Nudgepad?"};nudgepad.restartCheck=function(){$.get("/nudgepad.started",{},function(a){if(!Project.get("started"))return!0;a!==Project.get("started")&&(nudgepad.reloadMessageOneTime="Your project restarted. Please refresh the page.",location.reload())})};
window.onerror=function(a){mixpanel.track("I got a javascript error");$(".nudgepad#JavascriptError").prepend("<div>Javascript Error: "+a+"</div>").show();return!1};var Blinker={"default":"NudgePad"};Blinker.blinking=Blinker.default;Blinker.interval=null;Blinker.change=function(a){Blinker.blinking=a};Blinker.blink=function(){if(document.hasFocus())return Blinker.stop();document.title=document.title==Blinker.default?Blinker.blinking:Blinker.default};
Blinker.start=function(){clearInterval(Blinker.interval);Blinker.blinking=Blinker.default;Blinker.interval=setInterval(Blinker.blink,2E3)};Blinker.stop=function(){clearInterval(Blinker.interval);document.title=Blinker.blinking=Blinker.default};$(window).on("blur",Blinker.start);$(window).on("focus",Blinker.stop);
var EmailSender=function(){var a=new Space("to \nsubject \nmessage \n");TextPrompt.open("Send an email",a.toString(),function(a){a=new Space(a);$.post("/nudgepad.email",a.keys,function(a){Flasher.success(a)})})},Explorer={create:function(a,b,d){var c={};c.path=a;c.content=b||"";$.post("/nudgepad.explorer.create",c,function(a){d(a)})},downloadTimelines:function(){$.get("/nudgepad.project.timelines",{},function(a){a=new Space(a);Project.get("timelines")&&Project.get("timelines").patch(a)})},edit:function(a){var b=
{};b.path=a;$.post("/nudgepad.explorer.get",b,function(b){TextPrompt.open("Editing "+a,b,function(b){var d={};d.path=a;d.content=b+"";$.post("/nudgepad.explorer.save",d,function(b){b?console.log(b):Flasher.success(a+" saved")})})})},get:function(a,b){var d={};d.path=a;$.post("/nudgepad.explorer.get",d,function(a){b&&b(a)})},getFolder:function(a,b){var d={};d.path=a;$.post("/nudgepad.explorer.getFolder",d,function(a){b&&b(a)})},mkdir:function(a,b){var d={};d.path=a;$.post("/nudgepad.explorer.mkdir",
d,function(){b&&b()})},quickEdit:function(){Explorer.edit(prompt("Enter path to file you want to edit","project.css"))},remove:function(a,b){var d={};d.path=a;$.post("/nudgepad.explorer.remove",d,function(){b()})},rename:function(a,b,d){var c={};c.oldPath=a;c.newPath=b;if(!b)return Flasher.error("No name provided");$.post("/nudgepad.explorer.rename",c,function(){d()})},rmdir:function(a,b){var d={};d.path=a;$.post("/nudgepad.explorer.rmdir",d,function(){b&&b()})},set:function(a,b,d){var c={};c.path=
a;c.content=b;$.post("/nudgepad.explorer.save",c,function(){d&&d()})}},Flasher={timeout:!1,error:function(a){$("#FlasherError").html(a);Popup.open("#FlasherError");return!1},success:function(a,b){clearTimeout(Flasher.timeout);$("#Flasher").html(a);Popup.open("#Flasher");$("#Flasher").css("left",($(window).width()-$("#Flasher").width())/2);b&&(Flasher.timeout=setTimeout("$('#Flasher').hide()",b))}};Flasher.activity=Flasher.success;
var ImagePreview=function(a){$("#ImagePreviewContainer").html(a);$(".ImagePreview").show().css("display","-webkit-flex");$(".ImagePreview").on("click",function(a){$(".ImagePreview").hide();$(this).off(a)})},Launcher={locked:null,open:function(a,b){if(Launcher.locked)return window[Launcher.locked].open();if(window[a])window[a].open();else return!1;if(b||nudgepad.isTesting)return null;history.pushState(a,"Nudgepad - "+a,"/nudgepad?tool="+a)},openToolFromQueryString:function(){var a=ParseQueryString().tool||
"Home";Launcher.open(a,!0)}},Popup={hide:function(a){if(1!==a.which)return!0;$(".nudgepadPopup").hide();$("body").off("mouseup touchend",Popup.hide);Popup.isOpen=!1;return!0},isOpen:!1,open:function(a){$(a).addClass("nudgepadPopup").show();Popup.isOpen||($("body").on("mouseup touchend",Popup.hide),Popup.isOpen=!0);return!0}},RegisterForm={open:function(){$("#RegisterFormDomain").text(document.location.host).attr("href","http://"+document.location.host);var a=Math.round(($(window).width()-725)/2);
0<a&&$("#RegisterFormModal").children().each(function(){$(this).css("left",parseFloat($(this).css("left"))+a+"px");$(this).on("click",function(a){a.stopPropagation()})});$("#RegisterFormModal").show();$("#RegisterFormModal").on("click",function(){$(this).remove()});$("#RegisterFormButton").on("click",function(){var a=$("#RegisterFormEmail").val();if(!ValidateEmail(a))return Flasher.error("Invalid Email");mixpanel.track("I added my email");$.post("/nudgepad.updateEmail",{email:a,sendWelcomeEmail:"true"},
function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad"})});$("#RegisterFormEmail").focus()}},randomColor=function(){var a="red green violet yellow blue orange indigo".split(" "),b=a.length-1,b=Math.floor(Math.random()*(b-0+1))+0;return a[b]},Screen=new Space;Screen.set("id","screen"+(new Date).getTime());Screen.set("device",platform.name+(platform.product?"/"+platform.product:""));Screen.set("email",Cookie.email);Screen.set("name",ParseName(Cookie.email));Screen.set("color",randomColor());
Screen.set("tool","Home");Screen.on("set",function(a,b){if(nudgepad.isTesting)return null;var d=new Space;d.set("key",Screen.get("id")+" "+a);d.set("value",b);Socket.emit("screens.set",d.toString(),function(a){console.log("%s responded to screens.set: %s",document.location.host,a)})});var Screens=new Space,Socket;
$(document).on("ready",function(){Socket=io.connect("/",{query:$.param(Screen.toObject())});Socket.on("project.append",function(a){a=new Space(a);var b=a.get("key");console.log("project.append received on %s",b);ProjectReceiving=!0;Project.append(b,new Space(a.get("value")));Project.trigger("incoming-append",b,new Space(a.get("value")));ProjectReceiving=!1;Flasher.activity("File "+Space.pathBranch(b)+" appended",1E3)});Socket.on("project.create",function(a){a=new Space(a);var b=a.get("key");console.log("project.create received on %s",
b);ProjectReceiving=!0;Project.create(b,new Space(a.get("value")));ProjectReceiving=!1;Flasher.activity("New file "+b+" received",1E3)});Socket.on("project.delete",function(a){console.log("project.delete received on %s",a);ProjectReceiving=!0;Project.delete(a);ProjectReceiving=!1;Flasher.activity("File "+a+" deleted",1E3)});Socket.on("project.set",function(a){a=new Space(a);var b=a.get("key");console.log("project.set received on %s",b);ProjectReceiving=!0;Project.set(b,new Space(a.get("value")));
ProjectReceiving=!1;Flasher.activity("File "+b+" updated",1E3)});Socket.on("project.rename",function(a){a=new Space(a);var b=a.get("oldName");a=a.get("newName");console.log("project.rename received on %s",b);ProjectReceiving=!0;Project.rename(b,a);ProjectReceiving=!1;Flasher.activity("File "+b+" renamed to "+a,1E3)});Socket.on("screens.create",function(a){a=new Space(a);Screens.set(a.get("id"),a);Flasher.activity(a.get("name")+" opened a new screen",1E3)});Socket.on("screens.delete",function(a){var b=
Screens.get(a);if(!b)return!0;Flasher.activity(b.get("name")+" closed a screen",1E3);Screens.delete(a)});Socket.on("screens.get",function(a){Screens._patch(a)});Socket.on("screens.set",function(a){a=new Space(a);var b=a.get("key");a=a.get("value");Screens.set(b,a)});Socket.on("ack",function(){$("#ConnectionStatus").hide()});Socket.on("connect",function(){console.log("connected to server: %s",document.location.host);$("#ConnectionStatus").html("Connected!").fadeOut();nudgepad.restartCheck()});Socket.on("connect_failed",
function(a){console.log("Connect failed");console.log(a);$("#ConnectionStatus").html("Connection to server failed...").show()});Socket.on("disconnect",function(){$("#ConnectionStatus").html("Disconnected from server. Attempting to reconnect...").show()});Socket.on("error",function(a){console.log("Socket error: %s",a);$("#ConnectionStatus").html("Connecting to server...").show()});Socket.on("file",function(a){Project.trigger("file",a)});Socket.on("uploadComplete",function(a){Project.trigger("uploadComplete",
a)})});
var TextPrompt={callback:function(){},load:function(){var a=$("#TextPromptTextarea"),b=$("#TextPromptSaveButton"),d=$("#TextPromptCancelButton"),c=$("#TextPromptDimmer");c.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});a.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});c.on("click",TextPrompt.close);d.on("click",TextPrompt.close);b.on("click",function(){if(!1===TextPrompt.callback(a.val()))return!0;TextPrompt.close()})},close:function(){$(".TextPrompt").hide();
if(!TextPrompt.onclose)return null;TextPrompt.onclose();TextPrompt.onclose=null},open:function(a,b,d){TextPrompt.callback=d;$(".TextPrompt").show();$("#TextPromptTextarea").val(b).focus()}};$(document).on("ready",TextPrompt.load);var AppMaker=new Tool("AppMaker");AppMaker.set("color","rgba(71, 41, 54, 1)");AppMaker.set("description","Make your project a FirefoxOS app.");AppMaker.set("beta","true");
AppMaker.on("open",function(){AppMaker.install();$("#AppMakerManifestUrlLink").html("http://"+document.location.host+"/manifest.webapp");$("#AppMakerStage").droppable({drop:function(a,b){var d=$("#"+$(b.draggable).attr("value")).clone();$(this).append(d);d.show()}});$("#AppMakerStage").selectable();$(".DraggableThumb").draggable({helper:"clone"});Events.shortcut.shortcuts=AppMaker.shortcuts;$(".AppMakerContainer").on("click",function(){$(".ui-selected").removeClass("ui-selected")})});
AppMaker.on("close",function(){Events.shortcut.shortcuts={}});
AppMaker.install=function(){$.ajax({url:"/nudgepad/tools/appmaker/manifest.webapp",type:"get",dataType:"text"}).done(function(a){Explorer.create("manifest.webapp",a.toString(),function(a){console.log(a);a?console.log(a):Flasher.success("Manifest Created")})});$.ajax({url:"/nudgepad/tools/appmaker/install.html",type:"get",dataType:"text"}).done(function(a){Explorer.create("install.html",a.toString(),function(a){console.log(a);a?console.log(a):Flasher.success("Install File Created")})})};
AppMaker.selectText=function(a){if(document.selection){var b=document.body.createTextRange();b.moveToElementText(document.getElementById(a));b.select()}else window.getSelection&&(b=document.createRange(),b.selectNode(document.getElementById(a)),window.getSelection().addRange(b))};AppMaker.shortcuts={};AppMaker.shortcuts.backspace=function(){$(".ui-selected").remove()};AppMaker.shortcuts["delete"]=function(){$(".ui-selected").remove()};var Blog=new Tool("Blog");Blog.set("color","rgba(224, 54, 52, 1)");
Blog.set("description","Add a blog to your project.");Blog.set("beta","true");Blog.activePost=null;Blog.createPost=function(){$("#BlogContent,#BlogTitle").val("");$("#BlogAdvanced").val("timestamp "+(new Date).getTime()+"\ntemplate blog");$("#BlogPermalink").attr("value","");$("#BlogTitle").focus();Blog.activePost=null};
Blog.deletePost=function(){Blog.activePost=null;var a=Blog.permalink($("#BlogPermalink").attr("value"));if(!a)return Flasher.error("No post to delete");if(!Project.get("posts "+a))return Flasher.error("Post does not exist");Project.delete("posts "+a)};
Blog.editPost=function(a){Blog.activePost=a;var b=Project.get("posts "+a);$("#BlogContent").val(b.get("content"));$("#BlogTitle").val(b.get("title"));b=new Space(b.toString());b.delete("title");b.delete("content");$("#BlogAdvanced").val(b.toString());$("#BlogPermalink").text("http://"+document.location.host+"/"+a).attr("value",a);$("#BlogPosts div").css("color","#777");$("#BlogPosts div").each(function(){$(this).attr("value")==Blog.activePost&&$(this).css("color","#333")});$("#BlogContent").focus()};
Blog.getList=function(){Explorer.getFolder("posts",function(a){a=new Space(a);var b=new Space;b.set("list",new Space);a.each(function(a,c){c=new Space(c.toString());var e=Blog.permalink(c.get("title")),f=new Space;f.set("tag","a");f.set("href",e+".html");f.set("content",c.get("title"));b.set("list scraps "+e,f)});console.log(b.toString())})};Blog.install=function(){Project.get("posts")||Explorer.mkdir("private posts")};
Blog.permalink=function(a){return!a?"":a.toLowerCase().replace(/[^a-z0-9- _\.]/gi,"").replace(/ /g,"-")};
Blog.pressPost=function(a,b){var d=new Space(a),c=(new Page(b)).toHtml(function(){this.div.content=this.div.content.replace("Blog Post Content",d.get("content"));"markdown"===this.get("content_format")&&(this.div.content=marked(this.div.content));return this.div.toHtml()}),c=c.replace(/Blog Post Title/g,d.get("title")),e=parseFloat(d.get("timestamp")),e=moment(e).format("MMMM Do YYYY, h:mm:ss a"),c=c.replace(/Blog Post Date/g,e);return c=html_beautify(c)};
Blog.publishAll=function(){Explorer.getFolder("posts",function(a){(new Space(a)).each(function(a,d){d=new Space(d.toString());var c=Blog.permalink(d.get("title")),e=d.get("template");(e=Project.get("pages "+e))||(e=new Space($("#BlogTheme").text()));e=Blog.pressPost(d.toString(),e.toString());Explorer.set(c+".html",e,function(){Flasher.success("published "+c)})})})};
Blog.refresh=function(){$("#BlogPosts").html("");if(!Project.get("posts"))return!0;_.each(Project.get("posts").keys,function(a){var b=Project.get("posts").get(a);a=$("<div >"+b.get("title")+"</div>").css({color:"#777","margin-bottom":"9px","font-size":"13px"}).on("click",function(){Blog.editPost($(this).attr("value"))}).attr("value",a).attr("title",a);$("#BlogPosts").append(a)});Blog.activePost?Blog.editPost(Blog.activePost):Blog.createPost()};
Blog.savePost=function(){var a=Blog.permalink($("#BlogPermalink").attr("value"));if(!a)return Flasher.error("Title cannot be blank");mixpanel.track("I saved a blog post");var b=Project.get("posts "+a);b||(b=new Space);b.set("content",$("#BlogContent").val());b.set("title",$("#BlogTitle").val());b.patch($("#BlogAdvanced").val());Project.get("posts "+a)?Project.set("posts "+a,b):Project.create("posts "+a,b);Blog.activePost&&Blog.activePost!==a&&Project.delete("posts "+Blog.activePost);Blog.activePost=
a;var d=Blog.permalink(a),c=b.get("template");(c=Project.get("pages "+c))||(c=new Space($("#BlogTheme").text()));b=Blog.pressPost(b.toString(),c.toString());Explorer.set(d+".html",b,function(){window.open(a+".html","published")})};Blog.updatePermalink=function(){var a=Blog.permalink($("#BlogTitle").val());$("#BlogPermalink").text("http://"+document.location.host+"/"+a).attr("value",a)};Blog.on("close",function(){Project.off("change",Blog.refresh)});
Blog.on("open",function(){Blog.install();Project.on("change",Blog.refresh);Blog.refresh()});var Boston=new Tool("Boston");Boston.set("color","rgba(26, 134, 214, 1)");Boston.set("description","Design pages for your project.");Boston.page=new Page;Boston.edge=new Space;Boston.stage={};Boston.stage.activePage="index";Boston.menu={};Boston.stage.selection={};Boston.blurThis=function(){$(this).blur()};Boston.stopProp=function(a){a.stopPropagation()};
Boston.stopPropagation=function(a){1<a.originalEvent.touches.length&&a.stopPropagation()};Boston.preventDefault=function(a){1==a.originalEvent.touches.length&&a.preventDefault()};Boston.returnFalse=function(){return!1};Boston.autokey=function(a,b){b=b||"";if(!a.get(b))return b;for(var d=2;a.get(b+d.toString());)d++;return b+d.toString()};
Boston.on("firstOpen",function(){$("#BostonImageTab").on("click",function(){$("#BostonComponentsRibbon").hide();$("#BostonImagesRibbon").toggle()});$("#BostonComponentsTab").on("click",function(){$("#BostonImagesRibbon").hide();$("#BostonComponentsRibbon").toggle()});$("#BostonBarMenuButton").on("mousedown",function(a){if(0<$("#BostonMenu:visible").length)return Popup.hide(a),!0;Popup.open("#BostonMenu");mixpanel.track("I opened the designer menu")});$("#BostonBarMenuButton").on("mouseup",function(a){a.stopPropagation();
return!1});$("#BostonBar").on("slide slidestart",function(a){a.stopPropagation()})});Boston.codePanel={};Boston.codePanel.livePreview=!1;Boston.codePanel.livePreviewTimeout=!1;Boston.codePanel.livePreviewStart=function(){clearTimeout(Boston.codePanel.livePreviewTimeout);Boston.codePanel.livePreviewTimeout=setTimeout("Boston.codePanel.livePreview()",500)};
Boston.codePanel.livePreview=function(){var a=new Space($("#BostonCodePanel").val());Boston.stage.selection.exists()&&Boston.stage.selection.clear();Boston.page=new Page(a);Boston.stage.render()};Boston.codePanel.close=function(){$("#BostonCodePanel").hide();$("#BostonStage").css("padding-left",Boston.codePanel.currentPadding);Boston.off("selection",Boston.codePanel.load);Boston.off("stage",Boston.codePanel.load)};Boston.codePanel.isOpen=function(){return 0<$("#BostonCodePanel:visible").length};
Boston.codePanel.load=function(){$("#BostonCodePanel").val(Boston.page.toString())};
Boston.codePanel.open=function(){var a=$("#BostonCodePanel");a.show();Boston.codePanel.currentPadding=$("#BostonStage").css("padding-left");$("#BostonStage").css("padding-left","40%");Boston.codePanel.load();a.on("keyup",Boston.codePanel.livePreviewStart);a.on("blur",Boston.stage.commit);a.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});Boston.on("selection",Boston.codePanel.load);Boston.on("stage",Boston.codePanel.load)};
Boston.codePanel.toggle=function(){Boston.codePanel.isOpen()?Boston.codePanel.close():Boston.codePanel.open()};Boston.dragComponent=function(){var a=$(this).attr("path");Boston.stage.dragAndDrop(Boston.components.get(a));mixpanel.track("I dragged a component")};
Boston.loadComponents=function(){Boston.components=new Space;var a=$("#BostonComponentsList");a.html("");$(".ComponentSet").each(function(){var b=$(this).attr("path"),d=new Space($(this).text()),c=$((new Scrap(b,d.get("thumb"))).toHtml());c.attr("path",b);c.addClass("Component");c.removeClass("scrap");d.delete("thumb");Boston.components.set(b,d);a.append(c)})};Boston.tapComponent=function(){var a=$(this).attr("path");Boston.stage.insert(Boston.components.get(a),!1,0,0,!0);mixpanel.track("I tapped a component")};
Boston.on("ready",Boston.loadComponents);Boston.on("firstOpen",function(){$("#BostonComponentsList").on("tap",".Component",Boston.tapComponent);$("#BostonComponentsList").on("slidestart",".Component",Boston.dragComponent);$("#BostonComponentsRibbon").on("mousedown slide slidestart",Boston.stopProp)});Boston.contentEditor={};
Boston.contentEditor.onblur=function(){$(this).scrap().set("content",$(this).html());$(this).off("tap mousedown slide slidestart hold slideend",Boston.contentEditor.killEvent);$(this).removeAttr("contenteditable");Boston.stage.commit();Boston.broadcastSelection()};
Boston.contentEditor.focus=function(a,b){Boston.stage.selection.clear();var d=$(a),c=d.scrap();if(!c.isContentEditable()){var e="content",f=c.get("tag");f&&f.match(/^(textarea|input|password)$/)&&(e="placeholder");TextPrompt.open("Editing content for this block",c.get(e),function(a){c.set(e,a);Boston.stage.commit();d.remove();c.render().element().selectMe()});return null}Boston.broadcastSelection(c.selector());d.attr("contenteditable","true");d.on("tap slide slidestart hold slideend",Boston.contentEditor.killEvent);
d.on("blur",Boston.contentEditor.onblur);d.focus();MoveCursorToEnd(d[0]);b&&document.execCommand("selectAll",!1,null)};Boston.contentEditor.killEvent=function(){Boston.Mouse.down.stopPropagation();return!1};Boston.EditHandle={};
Boston.EditHandle.create=function(a){var b=a.element(),d=$('<div class="BostonEditHandle"></div>');d.attr("value",a.getPath());d.addClass("handle editHandle "+a.id+"Handle");var c=$('<div class="BostonEditStyleHandle"></div>');c.on("tap",function(){Boston.styleEditor.edit(a);d.remove();return!1});d.append(c);Boston.advanced&&(c=$('<div class="">%</div>'),c.on("tap",function(){a.get("style width")&&a.get("style width").match("%")?a.toPixels():a.toPercentage();Boston.stage.commit();b.deselect();return!1}),
d.append(c),c=$('<div class="">Pos</div>'),c.on("tap",function(){"absolute"===a.get("style position")?a.toRelative():a.toAbsolute();Boston.stage.commit();b.deselect();return!1}),d.append(c));b.parent().append(d);d.on("update",Boston.EditHandle.update);d.trigger("update")};Boston.EditHandle.update=function(){var a=$(this).owner();$(this).css({left:a.position().left+2+"px",top:a.position().top+a.outerHeight(!0)+4+"px"})};
function Grid(a){this.points={};this.radius=7;this.snapToObjects=!0;this.snapToGrid=!1;this.snapToContainer=!0;this.horizontalSpacing=this.verticalSpacing=20;this.on=this.snaplines=!0;this.visible=!1;if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}Grid.prototype.addDynamicPoints=function(){var a=this;if(200<$("#BostonStageBody #body").children(".scrap:not(.selection)").length)return!0;$("#BostonStageBody #body").children(".scrap:not(.selection)").each(function(){var b=$(this).scrap();b&&a.addPoints(b.selector())})};
Grid.prototype.addFixedPoints=function(){var a=$("#BostonStageBody").position().left,b=$("#BostonStageBody").position().left+$("#BostonStageBody").outerWidth();for(this.horizontalSpacing=parseFloat(this.horizontalSpacing);a<=b;a+=this.horizontalSpacing)this.addPoint(a,0,"#BostonStageBody");a=$("#BostonStageBody").position().top;b=$("#BostonStageBody").position().top+$("#BostonStageBody").outerHeight();for(this.verticalSpacing=parseFloat(this.verticalSpacing);a<=b;a+=this.verticalSpacing)this.addPoint(0,
a,"#BostonStageBody")};Grid.prototype.addPoint=function(a,b,d){var c={};c.x=a;c.y=b;c.selector=d;this.points[a+"."+b]=c};Grid.prototype.addPoints=function(a){var b=$(a);if(!b.length)return console.log("not found %s",a);this.addPoint(b.position().left,b.position().top,a);var d=Math.round(b.position().top+Math.round(b.outerHeight()/2)),c=Math.round(b.position().left+Math.round(b.outerWidth()/2));this.addPoint(c,d,a);this.addPoint(b.position().left+b.outerWidth(),b.position().top+b.outerHeight(),a)};
Grid.prototype.create=function(){this.points={};if(!this.on)return this.erase();this.snapToObjects&&this.addDynamicPoints();this.snapToGrid&&this.addFixedPoints();this.snapToContainer&&(this.addPoint($("#BostonStageBody").outerWidth(),0,"#BostonStageBody"),this.addPoint(Math.round($("#BostonStageBody").outerWidth()/2),0,"#BostonStageBody"),this.addPoint(0,0,"#BostonStageBody"),this.addPoint(0,$("#BostonStageBody").height(),"#BostonStageBody"),this.addPoint(0,Math.round($(window).height()/2),"#BostonStageBody"));
this.visible?this.draw():this.erase()};
Grid.prototype.draw=function(){var a=$("#BostonStageBody").width(),b=$("#BostonStageBody").height();this.context&&this.erase();$("#BostonStageBody").append('<canvas style="position: absolute; top: 0; left: 0; z-index: 0;" id="grid_canvas" width="'+a+'" height="'+b+'"></canvas>');this.context=document.getElementById("grid_canvas").getContext("2d");this.context.strokeStyle="#eee";var d,c;d={};c={};for(var e in this.points)if(this.points.hasOwnProperty(e)){var f=this.points[e];"#BostonStageBody"===f.selector&&
(this.context.lineWidth=0.5,f.x in d||(this.context.beginPath(),this.context.moveTo(f.x+0.5,0),this.context.lineTo(f.x+0.5,b),this.context.closePath(),this.context.stroke(),d[f.x]=!0),f.y in c||(this.context.beginPath(),this.context.moveTo(0,f.y+0.5),this.context.lineTo(a,f.y+0.5),this.context.closePath(),this.context.stroke(),c[f.y]=!0))}};
Grid.prototype.drawSnapline=function(a,b){if(!this.snaplines)return!1;this.drawSnaplineCanvas();this.snaplineContext.beginPath();this.snaplineContext.lineWidth=1;this.snaplineContext.moveTo(a.x+0.5,a.y+0.5);this.snaplineContext.lineTo(b.x+0.5,b.y+0.5);this.snaplineContext.stroke();this.snaplineContext.moveTo(a.x,a.y);this.snaplineContext.beginPath();this.snaplineContext.arc(a.x,a.y,2,0,2*Math.PI,!0);this.snaplineContext.closePath();this.snaplineContext.fill();this.snaplineContext.moveTo(b.x,b.y);
this.snaplineContext.beginPath();this.snaplineContext.arc(b.x,b.y,2,0,2*Math.PI,!0);this.snaplineContext.closePath();this.snaplineContext.fill();"#BostonStageBody"!==b.selector&&$(b.selector).addClass("GridSnapOrigin")};
Grid.prototype.drawSnaplineCanvas=function(){if(this.snaplineContext)return!0;this.width=$("#BostonStageBody").width();this.height=$("#BostonStageBody").height();var a='<canvas style="position: absolute; top: 0; left: 0; z-index: 100;" id="snaplineCanvas" width="'+this.width+'" height="'+this.height+'"></canvas>';$("#BostonStageBody").append(a);this.snaplineContext=document.getElementById("snaplineCanvas").getContext("2d");this.snaplineContext.lineWidth=1;this.snaplineContext.strokeStyle="blue";$("#snaplineCanvas").on("mousedown",
function(){$(this).remove()})};Grid.prototype.erase=function(){delete this.context;delete this.snaplineContext;$("#grid_canvas,#snaplineCanvas").remove();$(".GridSnapOrigin").removeClass("GridSnapOrigin")};Grid.prototype.eraseSnaplines=function(){if(!this.snaplines)return!1;$(".GridSnapOrigin").removeClass("GridSnapOrigin");if(!this.snaplineContext)return!1;this.snaplineContext.clearRect(0,0,this.width,this.height)};
Grid.prototype.getDelta=function(a){this.eraseSnaplines();var b={},d=[],c=[],e;for(e in a){var f=a[e],k;for(k in this.points)if(this.points.hasOwnProperty(k)){var g=this.points[k],j=g.x-f.x,m=g.y-f.y;b.x||(b.x=j,b.y=m);Math.abs(j)<=Math.abs(b.x)&&(b.x=j,d=[f,g]);Math.abs(m)<=Math.abs(b.y)&&(b.y=m,c=[f,g])}}a=Math.abs(b.x)<this.radius;e=Math.abs(b.y)<this.radius;a||(b.x=0);e||(b.y=0);a&&(d[0]={x:d[0].x+b.x,y:d[0].y+b.y},this.drawSnapline(d[0],d[1]));e&&(c[0]={x:c[0].x+b.x,y:c[0].y+b.y},this.drawSnapline(c[0],
c[1]));return b};Grid.prototype.removeSnaplines=function(){delete this.snaplineContext;$("#snaplineCanvas").remove();$(".GridSnapOrigin").removeClass("GridSnapOrigin")};Boston.images={};Boston.images.getFilename=function(a){a=Boston.images.parseBackgroundUrl(a).split(/\//);return a[a.length-1]};
Boston.images.insertImageScrap=function(a,b){a.match(/^url\(/)&&(a=Boston.images.parseBackgroundUrl(a));if(!b&&0<$(".selection").length)return Boston.stage.selection.css("background-image url("+a+")"),Boston.stage.selection.css("background-repeat no-repeat"),Boston.stage.selection.css("background-position center"),!1;$("<img/>").attr("src",a).load(function(){var d=new Space("style\n background-image url("+a+")\n background-repeat no-repeat\n background-color transparent\n background-position center\n background-size contain\n width "+
this.width+"px\n height "+this.height+"px"),d=(new Space).set("scrap",d);return Boston.stage.insert(d,b)})};Boston.images.isImage=function(a){return a.match(/\.(png|jpg|jpeg|gif)$/i)};Boston.images.parseBackgroundUrl=function(a){return a.split(/(\(|\))/).slice(2)[0]};
Boston.images.updateList=function(){$("#BostonImagesList").html("");$.get("/nudgepad.explorer.public",{},function(a){(new Space(a)).each(function(a){Boston.images.isImage(a)&&$("#BostonImagesList").append('<div class="Image">&nbsp;<img src="/'+a+'">&nbsp;</div>')})})};Boston.on("open",function(){Project.on("file",Boston.images.updateList)});Boston.on("close",function(){Project.off("file",Boston.images.updateList)});
Boston.on("firstOpen",function(){$("#BostonImagesList").on("tap",".Image img",function(){var a=$("#BostonStage").height()/2-130;Boston.stage.insert("images\n style\n  position absolute\n  top "+a+"\n  left 100\n tag img\n src "+$(this).attr("src"))});$("#BostonImagesList").on("slidestart",".Image img",function(){Boston.stage.dragAndDrop("images\n style\n  position absolute\n  top 0px\n  left 0px\n tag img\n src "+$(this).attr("src"));mixpanel.track("I dropped an image component")});$("#BostonImagesRibbon").on("mousedown slide slidestart",
function(a){a.stopPropagation()})});Boston.on("firstOpen",Boston.images.updateList);Boston.importFiles=function(){$.get("/nudgepad.explorer.list",{},function(a){(new Space(a)).each(function(a){if(!a.match(/\.html$/))return!0;var d=a.replace(".html","");if(Project.get("pages "+d))return!0;Explorer.get(a,function(a){a=$.htmlToScraps(a);Boston.menu.create(d,a.toString())})})})};
Boston.importUrl=function(a){$.post("/nudgepad.proxy",{url:a},function(b){b=$.htmlToScraps(b);b=Boston.relativeToAbsolute(b.toString(),a);Boston.menu.create(null,b.toString());Flasher.success("Imported "+a)})};Boston.importUrlPrompt=function(){var a=prompt("Enter a url to import","http://");if(!a)return!1;a.match(/^https?\:\/\//)||(a="http://"+a);Boston.importUrl(a)};
$.fn.insertAt=function(a,b){var d=this.children().size();0>a&&(a=Math.max(0,d+1+a));this.append(b);a<d&&this.children().eq(a).before(this.children().last());return this};$.fn.deselect=function(a){var b=$(this).attr("id");$(this).removeClass("selection");$("."+b+"Handle").remove();a||Boston.trigger("selection");return $(this)};
$.fn.duplicate=function(){var a=$(this).scrap(),b=$(this).attr("id"),d=Boston.page,c=$(this).parentPath();c&&(d=Boston.page.get(c),c=c.replace(/ scraps/g,"")+" ");var e=Boston.autokey(d,b),a=new Scrap(c+e,a.toString()),b=d.keys.indexOf(b)+1;d.set(e,a,b);$(this).deselect(!0);d=a.render(null,b).element();"absolute"===d.css("position")&&a.move(10,10);d.selectMe(!0)};$.fn.owner=function(){return Boston.page.get($(this).attr("value")).element()};
$.fn.parentPath=function(){var a=$(this).attr("path");return!a.match(/ /)?"":a.replace(/ [^ ]+$/,"")};$.fn.scrap=function(){return Boston.page.get($(this).attr("path"))};
$.fn.selectMe=function(a){var b=$(this).scrap();if(b.get("locked"))return!1;if($(this).hasClass("selection"))return this;$(this).addClass("selection");Boston.MoveHandle.create(b);a||Boston.trigger("selection");Boston.EditHandle.create(b);a=b.get("style");if(!a)return this;if(a=a.get("background-image")&&"contain"===a.get("background-size"))return Boston.StretchHandle.create(b,"middle","left",a),Boston.StretchHandle.create(b,"middle","right",a),this;Boston.StretchHandle.create(b,"top","left");Boston.StretchHandle.create(b,
"top","center");Boston.StretchHandle.create(b,"top","right");Boston.StretchHandle.create(b,"middle","left");Boston.StretchHandle.create(b,"middle","right");Boston.StretchHandle.create(b,"bottom","left");Boston.StretchHandle.create(b,"bottom","center");Boston.StretchHandle.create(b,"bottom","right");return $(this)};
$.fn.togglePosition=function(){var a=$(this).scrap(),b="absolute";"absolute"===$(this).css("position")?(b="relative",a.set("style left",""),a.set("style top","")):(a.set("style left","0px"),a.set("style top","0px"));a.set("style position",b);$(this).attr("style","");$(this).css(a.get("style").values)};
$.fn.toggleSize=function(){var a=$(this).scrap(),b=$(this).width()+"px";if(!a.get("style width")||!a.get("style width").match(/\%/))b=Math.round(100*$(this).width()/$(this).parent().width())+"%";a.set("style width",b);var d=$(this).height()+"px";if(!a.get("style height")||!a.get("style height").match(/\%/))d=Math.round(100*$(this).height()/$(this).parent().height())+"%";a.set("style height",d);$(this).css({width:b,height:d})};Boston.menu.autopublish=!0;
Boston.menu.blank=function(){var a=prompt("Name your page",Boston.menu.nextName());if(!a)return null;Boston.menu.create(a,$("#BostonBlankPage").text())};Boston.menu.clearTimelinePrompt=function(){if(!confirm("Are you sure you want to erase the history of this page?"))return!1;var a=Boston.stage.activePage;Boston.stage.close();Project.delete("timelines "+a);Boston.stage.open(a)};
Boston.menu.create=function(a,b){a=a?Permalink(a):Boston.menu.nextName();if(Project.get("pages "+a))return Flasher.error("A page named "+a+" already exists.");var d=new Space(b),c=new Space;if(b){var e=new Space;e.set("author",Cookie.email);e.set("values",new Space(b));c.set((new Date).getTime(),e)}Project.create("pages "+a,d);Project.create("timelines "+a,c);Boston.stage.open(a);mixpanel.track("I created a new webpage");Boston.menu.publish(a);return a};
Boston.menu.delete=function(a){a=a||Boston.stage.activePage;Boston.stage.activePage===a&&Boston.stage.back();Project.delete("pages "+a);Project.delete("timelines "+a);Flasher.success("Deleted "+a,1E3);mixpanel.track("I deleted a page");return""};
Boston.menu.duplicate=function(a,b,d){a=a||Boston.stage.activePage;b=Boston.menu.nextName(b||a);if(!d&&(b=prompt("Name your new page",b),!b))return!1;if(!Project.get("pages").get(a))return Flasher.error("Page "+a+" not found");mixpanel.track("I duplicated a page");return a!==Boston.stage.activePage?Boston.menu.create(b,Project.get("pages").get(a)):Boston.menu.create(b,Boston.page.toString())};
Boston.menu.nextName=function(a){a=a||"untitled";if(!(a in Project.values.pages.values))return a;for(var b=1;1E3>b;b++)if(!(a+b in Project.values.pages.values))return a+b};Boston.menu.prettyPrint=!0;Boston.menu.publish=function(a){var b=Project.get("pages "+a).toString(),b=(new Page(b)).toHtml(function(){return"true"===this.get("draft")?"":this.div.toHtml()});Boston.menu.prettyPrint&&(b=html_beautify(b));Explorer.set(a+".html",b)};
Boston.menu.rename=function(a){mixpanel.track("I renamed a page");a=Permalink(a);var b=Boston.stage.activePage;if(!a.length)return Flasher.error("Name cannot be blank");if(Project.get("pages "+a))return Flasher.error("A page named "+a+" already exists.");Project.rename("pages "+b,"pages "+a);Project.rename("timelines "+b,"timelines "+a);Boston.stage.open(a);mixpanel.track("I renamed a page");return""};
Boston.menu.renamePrompt=function(){var a=prompt("Enter a new name",Boston.stage.activePage);a&&Boston.menu.rename(a)};Boston.menu.spotlight=function(){var a=prompt("Enter the name of the page to open...","");a&&Boston.stage.open(a)};Boston.Mouse={};Boston.Mouse.isDown=!1;Boston.Mouse.yChange=0;Boston.Mouse.xChange=0;Boston.Mouse.pathDistance=0;
Boston.Mouse.onmousedown=function(a){Boston.Mouse.isDown=!0;Boston.Mouse.down=a;Boston.Mouse.target=a.srcElement||a.originalTarget||a.target;Boston.Mouse.lastX=a.pageX;Boston.Mouse.lastY=a.pageY;Boston.Mouse.pathDistance=0;return!0};
Boston.Mouse.onmousemove=function(a){Boston.Mouse.move=a;if(!Boston.Mouse.isDown)return!0;Boston.Mouse.pathDistance+=Math.abs(a.pageX-Boston.Mouse.lastX)+Math.abs(a.pageY-Boston.Mouse.lastY);Boston.Mouse.lastX=a.pageX;Boston.Mouse.lastY=a.pageY;Boston.Mouse.xChange=a.pageX-Boston.Mouse.down.pageX;Boston.Mouse.yChange=a.pageY-Boston.Mouse.down.pageY;Boston.Mouse.distance=Math.pow(Math.pow(Boston.Mouse.xChange,2)+Math.pow(Boston.Mouse.yChange,2),0.5);return!0};
Boston.Mouse.onmouseup=function(a){Boston.Mouse.isDown=!1;Boston.Mouse.xChange=a.pageX-Boston.Mouse.down.pageX;Boston.Mouse.yChange=a.pageY-Boston.Mouse.down.pageY;Boston.Mouse.distance=Math.pow(Math.pow(Boston.Mouse.xChange,2)+Math.pow(Boston.Mouse.yChange,2),0.5);return!0};
Boston.Mouse.onTouchEnd=function(a){Boston.Mouse.isDown=!1;Boston.Mouse.xChange=a.pageX-Boston.Mouse.down.pageX;Boston.Mouse.yChange=a.pageY-Boston.Mouse.down.pageY;Boston.Mouse.distance=Math.pow(Math.pow(Boston.Mouse.xChange,2)+Math.pow(Boston.Mouse.yChange,2),0.5);return!0};
Boston.Mouse.onTouchStart=function(a){Boston.Mouse.isDown=!0;Boston.Mouse.down=a;Boston.Mouse.target=a.srcElement||a.originalTarget||a.target;Boston.Mouse.lastX=a.pageX;Boston.Mouse.lastY=a.pageY;Boston.Mouse.pathDistance=0;return!0};
Boston.Mouse.onTouchMove=function(a){Boston.Mouse.move=a;if(!Boston.Mouse.isDown)return!0;Boston.Mouse.pathDistance+=Math.abs(a.pageX-Boston.Mouse.lastX)+Math.abs(a.pageY-Boston.Mouse.lastY);Boston.Mouse.lastX=a.pageX;Boston.Mouse.lastY=a.pageY;Boston.Mouse.xChange=a.pageX-Boston.Mouse.down.pageX;Boston.Mouse.yChange=a.pageY-Boston.Mouse.down.pageY;Boston.Mouse.distance=Math.pow(Math.pow(Boston.Mouse.xChange,2)+Math.pow(Boston.Mouse.yChange,2),0.5);return!0};Boston.MoveHandle=function(){};
Boston.MoveHandle.create=function(a){var b=a.element(),d=$("<div></div>");d.attr("value",a.getPath());d.addClass("handle "+a.id+"Handle moveHandle");d.attr("id","moveHandle"+a.id);d.attr("title",a.id);var c=b.css("position");if("fixed"===c||"absolute"===c)d.on("mousedown",Boston.MoveHandle.mousedown),d.on("slide",Boston.MoveHandle.slide),d.on("slidestart",Boston.MoveHandle.slidestart),d.on("slideend",Boston.MoveHandle.slideend),d.css("cursor","move");d.css({position:"fixed"===c?"fixed":"absolute",
"z-index":"50"});b.parent().append(d);d.on("tap",Boston.MoveHandle.tap);d.on("update",Boston.MoveHandle.update);d.on("dblclick",function(c){c.metaKey?(b.togglePosition(),Boston.stage.commit(),b.deselect().selectMe()):a.edit(!0)});d.trigger("update")};Boston.MoveHandle.dimensions={};
Boston.MoveHandle.mousedown=function(){Boston.MoveHandle.dimensions=$(this).owner().dimensions();Boston.grid.create();Boston.MoveHandle.last_x_change=0;Boston.MoveHandle.last_y_change=0;Boston.MoveHandle.scrollTop=Boston.stage.scrollTop();return!0};
Boston.MoveHandle.selectTopScrap=function(){var a=$("#BostonStageBody").offset().left,b=$("#BostonStageBody").offset().top,a=$.topDiv(".scrap:visible",Boston.Mouse.down.pageX-a,Boston.Mouse.down.pageY-b+Boston.stage.scrollTop());if(!a||a.hasClass("selection")||a.scrap().get("locked"))return!0;Boston.stage.selection.clear();a.selectMe();return!0};
Boston.MoveHandle.slide=function(a,b){var d=$(this).owner();d.scrap();var c=Boston.MoveHandle.dimensions,e=Boston.stage.scrollTop()-Boston.MoveHandle.scrollTop,f={y:0,x:0};b.shiftKey||(f=Boston.grid.getDelta([{x:c.left+Boston.Mouse.xChange,y:c.top+Boston.Mouse.yChange+e},{x:c.right+Boston.Mouse.xChange,y:c.bottom+Boston.Mouse.yChange+e},{x:c.center+Boston.Mouse.xChange,y:c.middle+Boston.Mouse.yChange+e}]));var k=Boston.Mouse.yChange+e+f.y,g=Boston.Mouse.xChange+f.x;$(".selection").each(function(){$(this).scrap().move(g-
Boston.MoveHandle.last_x_change,k-Boston.MoveHandle.last_y_change)});c="X "+parseFloat(d.css("left"))+"<br>Y "+parseFloat(d.css("top"));$("#BostonDimensions").css({left:10+d.offset().left+d.outerWidth(),top:-10+d.offset().top+Math.round(d.outerHeight(!0)/2)}).html(c);Boston.MoveHandle.last_x_change=g;Boston.MoveHandle.last_y_change=k;return!1};Boston.MoveHandle.slideend=function(){$(".handle").trigger("update").show();Boston.grid.removeSnaplines();$("#BostonDimensions").hide();Boston.stage.commit()};
Boston.MoveHandle.slidestart=function(){$(".handle").not(this).hide();var a=$(this).owner(),b="X "+parseFloat(a.css("left"))+"<br>Y "+parseFloat(a.css("top"));$("#BostonDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight(!0)/2)}).html(b).show();return!1};Boston.MoveHandle.tap=function(){Boston.Mouse.down&&Boston.Mouse.down.shiftKey&&$(this).owner().deselect();return!1};
Boston.MoveHandle.update=function(){var a=$(this).owner();if(!a.position())debugger;var b=Math.min(10,a.outerHeight(!0)-20),d=Math.min(10,a.outerWidth()-20),a={left:a.position().left+d+"px",top:a.position().top+b+"px",height:a.outerHeight(!0)-2*b+"px",width:a.outerWidth()-2*d+"px"};$(this).css(a)};
Boston.oncopy=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!Boston.stage.selection.exists())return!0;a.clipboardData&&(a.preventDefault(),a.clipboardData.setData("text/xcustom",Boston.stage.selection.toSpace().toString()),a.clipboardData.setData("text/plain",Boston.stage.selection.toSpace().toString()));window.clipboardData&&(a.returnValue=!1,window.clipboardData.setData("Text",Boston.stage.selection.toSpace().toString()));mixpanel.track("I copied something")};
Boston.oncut=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length||!Boston.stage.selection.exists())return!0;if(a.clipboardData){a.preventDefault();a.clipboardData.setData("text/xcustom",Boston.stage.selection.toSpace().toString());var b=a.clipboardData.setData("text/plain",Boston.stage.selection.toSpace().toString());console.log("setData: "+b)}window.clipboardData&&(a.returnValue=!1,b=window.clipboardData.setData("Text",Boston.stage.selection.toSpace().toString()),console.log("setData: "+
b));Boston.stage.selection.delete();Boston.stage.commit();mixpanel.track("I cut something")};Boston.ondrop=function(a){mixpanel.track("I dropped a file onto the page");var b=new FileReader;b.onload=function(a){a=new Space("tag img\nsrc "+a.target.result+"\nstyle\n width auto\n height auto");a=(new Space).set("scrap1",a);Boston.stage.insert(a)};b.readAsDataURL(a.dataTransfer.files[0]);a.preventDefault()};
Boston.onkeydown=function(a){if(0!=$("input:focus, div:focus, textarea:focus, a:focus").length||(a.ctrlKey||a.metaKey||a.shiftKey)||(48>a.keyCode&&32!=a.keyCode||90<a.keyCode)||!$(".selection").length||$(".selection").is("input")||$(".selection").is("textarea"))return!0;$(".selection").scrap().edit()};
Boston.onpaste=function(a){if($("input:focus, div:focus, textarea:focus, a:focus").length)return!0;var b=void 0;a.clipboardData&&a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"));a="scraps";b.match(/^\s*\</)&&(a="html");"scraps"===a?Boston.pasteScraps(b):"html"===a?Boston.pasteScraps($.htmlToScraps(b)):"css"===a&&Boston.pasteCss(b);mixpanel.track("I pasted something")};
Boston.pasteScraps=function(a){Boston.stage.insert(a);Boston.stage.selection.save();Boston.stage.open(Boston.stage.activePage);Boston.stage.selection.restore()};Boston.onresize=function(){$(".handle").trigger("update")};Page.prototype.render=function(){this.each(function(a,b){b.render()});return this};Boston.pen={on:!1};
Boston.pen.insertTextBlock=function(a){if(!a.metaKey)return!0;var b=$("#BostonStageBody").offset().left;a=$("#BostonStageBody").offset().top;b=Boston.Mouse.down.pageX-b;a=Boston.Mouse.down.pageY-a;a=(new Space).set("text",new Space("tag h2\nstyle\n position absolute\n left "+b+"px\n top "+a+"px\n"));a=Boston.stage.insert(a)[0];$(a).scrap().edit()};
Boston.pen.draw=function(){if(!Boston.pen.on&&!Boston.Mouse.down.metaKey||!Boston.Mouse.isDown||$.isOnScrollbar(Boston.Mouse.down.clientX,Boston.Mouse.down.clientY))return!0;var a=$("#BostonStageBody").offset().left,b=$("#BostonStageBody").offset().top,a=Boston.Mouse.down.pageX-a,b=Boston.Mouse.down.pageY-b,b=(new Space).set("container",new Space("style\n position absolute\n left "+a+"px\n top "+b+"px\n width 1px\n height 1px\n")),b=Boston.stage.insert(b)[0],b=$(b).scrap().id;console.log(b);Events.slide.target=
$("#stretchHandleBottomRight"+b);$("#stretchHandleBottomRight"+b).triggerHandler("mousedown");$("#stretchHandleBottomRight"+b).triggerHandler("slidestart");mixpanel.track("I used the pen tool")};
Boston.relativeToAbsolute=function(a,b){b=b.replace(/\/$/,"")+"/";var d=new Space(a);d.each(function(a,d){d.get("href")&&!d.get("href").match(/^https?\:/i)&&d.set("href",b+d.get("href"));d.get("src")&&!d.get("src").match(/^https?\:/i)&&d.set("src",b+d.get("src"));d.get("scraps")&&d.set("scraps",Boston.relativeToAbsolute(d.get("scraps"),b))});return d};Scrap.prototype.onedit="";
Scrap.prototype.edit=function(a){var b=this.get("onedit");b&&window[b]?window[b].open():Boston.contentEditor.focus(this.selector(),a);return this};Scrap.prototype.element=function(){return $(this.selector())};Scrap.prototype.getPath=function(){return this.path.replace(/ /g," scraps ")};
Scrap.devFilter=function(){if("script"===this.div.tag)return"";this.div.addClass("scrap");this.div.attr("path",this.getPath());_.each(this.div.attrs,function(a,b,d){b.match(/^on/)&&delete d[b]});this.div.attr("selector",this.selector());return this.div.toHtml()};Scrap.bodyFilter=function(){this.div.tag="div";this.div.content="";this.setChildren(Scrap.devFilter);return this.div.toHtml()};
Scrap.prototype.isContentEditable=function(){var a=this.get("tag");return a&&a.match(/^(textarea|input|password|label|button|ul|ol)$/)?!1:!0};
Scrap.prototype.move=function(a,b){var d={},c=this.get("style");c||(this.set("style",new Space),c=this.get("style"));if(a){var e=c.get("left");"undefined"!==typeof e&&(d.left=a+parseFloat(e)+"px",c.set("left",d.left));e=c.get("right");"undefined"!==typeof e&&(d.right=-a+parseFloat(e)+"px",c.set("right",d.right));"undefined"!==typeof c.get("margin-left")&&(c.set("margin-left",a+parseFloat(c.get("margin-left"))+"px"),d["margin-left"]=c.get("margin-left"))}b&&("undefined"!==typeof c.get("top")&&(c.set("top",
b+parseFloat(c.get("top"))+"px"),d.top=c.get("top")),"undefined"!==typeof c.get("bottom")&&(c.set("bottom",-b+parseFloat(c.get("bottom"))+"px"),d.bottom=c.get("bottom")),"undefined"!==typeof c.get("margin-top")&&(c.set("margin-top",b+parseFloat(c.get("margin-top"))+"px"),d["margin-top"]=c.get("margin-top")));this.element().css(d);return this};
Scrap.prototype.moveDown=function(){this.get("style")||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",0):this.set("style z-index",parseFloat(this.get("style z-index"))-1);$(this.selector()).css("z-index",this.get("style z-index"))};
Scrap.prototype.moveUp=function(){this.get("style")||this.set("style",new Space);void 0===this.get("style z-index")?this.set("style z-index",1):this.set("style z-index",parseFloat(this.get("style z-index"))+1);$(this.selector()).css("z-index",this.get("style z-index"))};Scrap.prototype.parentSelector=function(){return this.selector().replace(/\>[^\>]+$/,"")};
Scrap.prototype.render=function(a){var b=this.get("tag");if(b&&b.match(/title|script|meta/))return this;if("head"===b)return this.get("scraps")&&this.get("scraps").each(function(a,b){b.render()}),this;if(b&&b.match(/style|link/)){this.setTag();this.setProperties();this.setContent();$("#BostonStageHead").append(this.div.toHtml());if("style"===b&&this.get("content")){var d=cssToSpace(this.get("content"));"background background-color background-image background-repeat background-size background-attachment background-position".split(" ").forEach(function(a){var b=
d.get("body "+a);if(!b)return!0;$("#BostonStageBody").css(a,b)})}return this}if(b&&"body"===b)return a=this.toHtml(Scrap.bodyFilter),$("#BostonStageBody").append(a),this;a?$(this.parentSelector()).insertAt(a,this.toHtml(Scrap.devFilter)):$(this.parentSelector()).append(this.toHtml(Scrap.devFilter));return this};Scrap.prototype.selector=function(){var a=this.path.replace(/[^a-z0-9\-\.\_ ]/gi,"").replace(/ /g,">#");return!a?"":"#BostonStageBody>#"+a};
Scrap.prototype.toAbsolute=function(){this.set("style position","absolute");this.element().css("position","absolute")};Scrap.prototype.toPercentage=function(){var a=this.element(),b=a.parent().height()||$(window).height(),b=Math.round(100*a.height()/b)+"%";this.set("style height",b);a.css("height",b);b=a.parent().width()||$(window).width();b=Math.round(100*a.width()/b)+"%";this.set("style width",b);a.css("width",b)};
Scrap.prototype.toPixels=function(){var a=this.element();this.set("style height",a.height()+"px");a.css("height",a.height()+"px");this.set("style width",a.width()+"px");a.css("width",a.width()+"px")};Scrap.prototype.toRelative=function(){this.delete("style position");this.element().css("position","")};Scrap.prototype.unlock=function(){if(!this.get("locked"))return!0;this.delete("locked");$(this.selector()).removeClass("lockedScrap");return!0};Scrap.disableLinks=function(a){a.preventDefault();return!1};
Scrap.selectOnTap=function(){$(this).is(":focus")||$(":focus").blur();if(Boston.Mouse.down&&Boston.Mouse.down.altKey&&!$(this).hasClass("selection")&&$(".selection").length)return Boston.stage.selection.nest($(this).attr("path")),!1;(!Boston.Mouse.down||!Boston.Mouse.down.shiftKey)&&Boston.stage.selection.clear();$(this).selectMe();return!1};Scrap.unlock=function(){var a=$(this).scrap();a.get("locked")&&(a.unlock(),Boston.stage.commit());$(this).selectMe();return!1};
$.fn.scrollMinimal=function(a){var b=this.position().top,d=this.outerHeight(!0),c=$("#BostonStage").scrollTop(),e=$("#BostonStage").height();b<c?a?$("#BostonStage").animate({scrollTop:b},"slow","swing"):$("#BostonStage").scrollTop(b):b+d>c+e&&(a?$("#BostonStage").animate({scrollTop:b-e+d},"slow","swing"):$("#BostonStage").scrollTop(b-e+d))};Boston.stage.selection.saved=[];
Boston.stage.selection.alignLeft=function(){var a;$(".selection").each(function(){if(!a||$(this).position().left<a)a=$(this).position().left});Boston.stage.selection.css("left "+a+"px")};Boston.stage.selection.alignRight=function(){var a;$(".selection").each(function(){if(!a||$(this).position().left>a)a=$(this).position().left});Boston.stage.selection.css("left "+a+"px")};
Boston.stage.selection.alignTop=function(){var a;$(".selection").each(function(){if(!a||$(this).position().top<a)a=$(this).position().top});Boston.stage.selection.css("top "+a+"px")};Boston.stage.selection.alignBottom=function(){var a;$(".selection").each(function(){if(!a||$(this).position().top>a)a=$(this).position().top});Boston.stage.selection.css("top "+a+"px")};
Boston.stage.selection.boxShadow=function(a){$(".selection").each(function(){var b=$(this).scrap();1>a?(b.set("style box-shadow","none"),$(this).css("box-shadow","none")):(b.set("style box-shadow","0px 1px "+a+"px #888"),$(this).css("box-shadow","0px 1px "+a+"px #888"))})};Boston.stage.selection.capture=function(){Boston.stage.selection.captured=Boston.stage.selection.toSpace()};
Boston.stage.selection.clear=function(){if(!$(".selection").length)return!0;$(".selection").each(function(){$(this).deselect(!0)});Boston.trigger("selection")};Boston.stage.selection.css=function(a){Boston.stage.selection.cssPreview(a);Boston.stage.commit();$(".handle").trigger("update")};
Boston.stage.selection.cssPreview=function(a){if(!a)return!1;a=new Space(a);$(".selection").each(function(){var b=$(this).scrap().get("style");b||($(this).scrap().set("style",new Space),b=$(this).scrap().get("style"));b.patch(a);$(this).css(a.values)})};Boston.stage.selection.cssPrompt=function(){var a=prompt("Enter a CSS command like font-family Arial","");a&&Boston.stage.selection.css(a)};
Boston.stage.selection.delete=function(){$(".selection").each(function(){var a=$(this).scrap();$(this).deselect(!0).remove();a&&Boston.page.delete(a.getPath())})};
Boston.stage.selection.distributeVertical=function(){var a=_.sortBy($(".selection"),function(a){return $(a).position().top}),b=0,d=0;_.each(a,function(a,c,k){if(0===c)return!0;c=k[c-1];$(a).attr("id");b+=$(a).position().top-($(c).position().top+$(c).outerHeight());d++});var c=Math.floor(b/d);0>c&&(c=0);_.each(a,function(a,b,d){if(0===b)return!0;b=d[b-1];d=$(a).scrap();d.set("style top",$(b).position().top+$(b).outerHeight()+c+"px");$(a).css("top",d.get("style top"))});$(".handle").trigger("update");
Boston.stage.commit()};
Boston.stage.selection.distributeHorizontal=function(){var a=_.sortBy($(".selection"),function(a){return $(a).position().left}),b=0,d=0;_.each(a,function(a,c,k){if(0===c)return!0;c=k[c-1];$(a).attr("id");b+=$(a).position().left-($(c).position().left+$(c).outerWidth());d++});var c=Math.floor(b/d);0>c&&(c=0);_.each(a,function(a,b,d){if(0===b)return!0;b=d[b-1];d=$(a).scrap();d.set("style left",$(b).position().left+$(b).outerWidth()+c+"px");$(a).css("left",d.get("style left"))});$(".handle").trigger("update");
Boston.stage.commit();Flasher.success("Distributed",1E3)};Boston.stage.selection.duplicate=function(){$(".selection").each(function(){$(this).duplicate()});Boston.stage.commit()};
Boston.stage.selection.editLoop=function(){var a=prompt("What property do you want to edit?");if(!a)return!1;$(".selection");$(".selection").each(function(){var b=$(this).scrap();$(this).addClass("BostonHighlightedScrap");$(this).scrollMinimal();var d=b.get(a),c=prompt("Set "+a+" of "+id+" to",d);if(!c)return!0;if(c==d)return $(this).removeClass("BostonHighlightedScrap"),!0;$(this).removeClass("BostonHighlightedScrap");b.set(a,c);b.render()});Boston.stage.commit()};
Boston.stage.selection.editProperty=function(){var a=$(".selection").scrap(),b=prompt("What property do you want to edit?","");if(!b)return!1;var d=a.get(b);TextPrompt.open("Enter new value...",d.toString(),function(c){a.set(b,c);Boston.stage.commit();Boston.stage.open(Boston.stage.activePage)})};Boston.stage.selection.editSource=function(){Boston.stage.selection.capture();Boston.stage.selection.save();TextPrompt.open("Enter code...",Boston.stage.selection.captured.toString(),Boston.stage.selection.modify)};
Boston.stage.selection.exists=function(){return $(".selection").length};Boston.stage.selection.modify=function(a){a=new Space(a);Boston.page.patch(Boston.stage.selection.captured.diff(a));Boston.stage.commit();Boston.stage.open(Boston.stage.activePage);Boston.stage.selection.restore()};
Boston.stage.selection.move=function(a,b){if(!$(".selection").length)return!1;$(".selection").each(function(){$(this).scrap().move(a,b)});var d=$($(".selection")[0]),c="X "+parseFloat(d.css("left"))+"<br>Y "+parseFloat(d.css("top"));$("#BostonDimensions").css({left:10+d.offset().left+d.outerWidth(),top:-10+d.offset().top+Math.round(d.outerHeight()/2)}).html(c);Popup.open("#BostonDimensions");$(".handle").trigger("update");Boston.stage.commit()};
Boston.stage.selection.nest=function(a){var b=Boston.page.get(a);if(!b)return!1;b.get("scraps")||b.set("scraps",new Space);b=b.get("scraps");a=Boston.stage.selection.toSpace();Boston.stage.selection.delete();a.each(function(a){b.get(a)&&this.rename(a,Boston.autokey(b,a))});b.patch(a);Boston.stage.commit();Boston.stage.open(Boston.stage.activePage)};
Boston.stage.selection.patch=function(a){"string"===typeof a&&(a=new Space(a));$(".selection").each(function(){var b=$(this).scrap();$(this).deselect();b.patch(a);$(this).replaceWith(b.toHtml(Scrap.devFilter));b.element().selectMe()});Boston.stage.commit()};Boston.stage.selection.patchPrompt=function(){var a=prompt("Enter a patch like content hi","");a&&Boston.stage.selection.patch(a)};
Boston.stage.selection.renameScraps=function(){var a=$(".selection").length;$(".selection").each(function(b){var d=$(this).scrap();$(this).addClass("BostonHighlightedScrap");$(this).scrollMinimal();b=prompt("Renaming block "+(b+1)+"/"+a+". Enter a new ID",d.id);if(b==d.id)return $(this).removeClass("BostonHighlightedScrap"),!0;if(!b)return!0;var c=new Scrap(b,d.toString());Boston.page.set(b,c);$(this).deselect().remove();Boston.page.delete(d.getPath());c.render();c.element().selectMe()});Boston.stage.commit()};
Boston.stage.selection.restore=function(){for(var a in Boston.stage.selection.saved){var b=Boston.stage.selection.saved[a];$(b).length&&$(b).selectMe(!0)}Boston.trigger("selection")};Boston.stage.selection.save=function(){Boston.stage.selection.saved=[];$(".selection").each(function(){Boston.stage.selection.saved.push($(this).scrap().selector())})};
Boston.stage.selection.toSpace=function(){var a=new Space;$(".selection").each(function(){var b=$(this).scrap();a.set(b.getPath(),new Space(b.toString()))});return a};Boston.broadcastSelection=function(a){var b=a||"",d="";$(".selection").each(function(){$(this).scrap()&&(b+=d+$(this).scrap().selector(),d=",")});b+="{box-shadow: 0 0 4px "+Screen.get("color")+";cursor: not-allowed;}";Screen.set("selection",b)};
Boston.updateSelections=function(){$("#BostonRemoteSelections").html("");Screens.each(function(a,b){if("Boston"!==b.get("tool")||b.get("id")===Screen.get("id")||b.get("page")!==Boston.stage.activePage)return!0;var d=b.get("selection");d&&$("#BostonRemoteSelections").append(d)})};Boston.stage.version=0;Boston.stage.percentElapsed=100;Boston.stage.currentView=store.get("BostonView")||"mobile";Boston.stage.back=function(){Boston.stage.open(Project.get("pages").prev(Boston.stage.activePage))};
Boston.stage.close=function(){$("#BostonStageBody").attr("style","");$("#BostonStageHead").html("");$("#BostonRemoteSelections").html("");$(".scrap,#body").remove()};
Boston.stage.commit=function(){var a=(new Date).getTime(),b=Boston.edge.diff(Boston.page),d=Boston.edge.diffOrder(Boston.page);if(b.isEmpty()&&d.isEmpty())return console.log("no change"),!1;var c=new Space;c.set("author",Cookie.email);b.isEmpty()||c.set("values",new Space(b.toString()));d.isEmpty()||c.set("order",new Space(d.toString()));Boston.stage.timeline.set(a,c);Boston.edge=new Space(Boston.page.toString());Boston.stage.version=Boston.stage.timeline.keys.length;Boston.trigger("selection");Boston.trigger("commit");
Boston.trigger("step");Project.set("pages "+Boston.stage.activePage,new Space(Boston.page.toString()));Project.append("timelines "+Boston.stage.activePage+" "+a,c);Boston.menu.autopublish&&Boston.menu.publish(Boston.stage.activePage);return b};
Boston.stage.dragAndDrop=function(a){"string"===typeof a&&(a=new Space(a));var b=0,d=0,d=a.get("head style html height")||100,b=a.get("head style html height")||140,b=parseFloat(b),d=parseFloat(d),b=Math.round(b/2),d=Math.round(d/2),c=$("#BostonStageBody").offset().left,e=$("#BostonStage").scrollTop();Boston.stage.insert(a,!0,Boston.Mouse.move.pageX-c-b,Boston.Mouse.move.pageY-d+e)};
Boston.stage.editSource=function(){TextPrompt.open("Enter code...",Boston.page.toString(),function(a){Boston.page=new Space(a);Boston.stage.commit();Boston.stage.open(Boston.stage.activePage)})};Boston.stage.erase=function(){Boston.stage.selectAll();Boston.stage.selection.delete();Boston.stage.commit()};Boston.stage.expand=function(){var a=700;$(".scrap").each(function(){var b=$(this).position().top+$(this).outerHeight();b>a&&(a=b)});$("#BostonStageBody").css({height:a+"px"})};
Boston.stage.forward=function(){Boston.stage.open(Project.get("pages").next(Boston.stage.activePage))};
Boston.stage.goto=function(a){Boston.stage.selection.save();Boston.stage.selection.clear();if(0>a||a>Boston.stage.timeline.keys.length)return!1;Boston.stage.version>a&&(Boston.page=new Page,Boston.stage.version=0);for(var b=Boston.stage.version;b<a;b++){var d=Boston.stage.timeline.keys[b],c=Boston.stage.timeline.values[d].values.values,d=Boston.stage.timeline.values[d].values.order;c&&Boston.page.patch(c.toString());d&&Boston.page.patchOrder(d.toString());Boston.stage.version++}Boston.trigger("step");
Boston.stage.render();Boston.stage.selection.restore();Boston.trigger("stage")};Boston.stage.height=function(){return $(window).height()-$("#BostonBar").outerHeight()};Boston.stage.insertBody=function(){Boston.page.get("body")||(Boston.page.set("body",new Scrap("body","tag body\nscraps\n")),Boston.page.get("body").render());Boston.page.get("body scraps")||Boston.page.set("body scraps",new Space)};
Boston.stage.insert=function(a,b,d,c,e){a||(a="scrap\n content Hello world\n style\n  position absolute\n  top 10px\n  left 10px");a=new Space(a.toString());Boston.stage.selection.clear();Boston.stage.insertBody();var f=Boston.page.get("body scraps");a.each(function(a){f.get(a)&&this.rename(a,Boston.autokey(f,a))});f.patch(a);var k=[];a.each(function(a,b){f.values[a]=new Scrap("body "+a,b);var c=f.values[a].render().element();c.length&&(c.selectMe(),k.push(f.values[a].selector()))});e&&(e=$(".selection").dimensions(),
d=Math.round($("#BostonStageBody").width()/2-e.width/2),c=Math.round(Boston.stage.scrollTop()+$(window).height()/2-e.height/2));(d||c)&&$(".selection").each(function(){$(this).scrap().move(d,c)});$(".handle").trigger("update");if(b){var g=$(".selection").attr("id");Events.slide.target=$("#moveHandle"+g);$("#moveHandle"+g).triggerHandler("mousedown");$("#moveHandle"+g).triggerHandler("slidestart");$(".selection").each(function(){var a=$(this),b=a.clone(),c=a.css("opacity"),d=$(this).scrap();a.css("opacity",
"0.01");b.attr("id","nudgepad_move_ghost").removeClass("scrap selection");b.on("mousedown",function(){a.remove()});b.css("font-family",$("#BostonStageBody").css("font-family"));d.values.style&&b.css(d.values.style.values);b.css({"z-index":"600",position:"fixed",top:a.offset().top,left:a.offset().left});$("#moveHandle"+g).on("slide",function(){b.css({top:a.offset().top,left:a.offset().left})});$("#moveHandle"+g).on("slideend",function(){a.css("opacity",c);b.remove()});$("body").append(b)})}else Boston.stage.commit();
return k};Boston.stage.isBehind=function(){return Boston.stage.version<Boston.stage.timeline.keys.length};
Boston.stage.open=function(a){var b=Project.get("pages "+a);if(!b)return Flasher.error("Page "+a+" not found");Boston.stage.selection.clear();Boston.stage.openTimeline(a);Boston.stage.activePage=a;store.set("activePage",Boston.stage.activePage);Screen.set("page",Boston.stage.activePage);Boston.edge=b;Boston.page=new Page(b.toString());Boston.stage.version=Boston.stage.timeline.length();Boston.stage.render();Boston.trigger("step");Boston.trigger("page");return""};
Boston.stage.redo=function(){Boston.stage.goto(Boston.stage.version+1)};Boston.stage.render=function(){Boston.stage.close();Boston.page.loadScraps();Boston.page.render();Boston.grid.create();Boston.updateSelections()};Boston.stage.reset=function(){$("#BostonStage").height($(window).height()-40)};Boston.stage.ribbonClose=function(){$("#BostonStage").height($(window).height()-40)};Boston.stage.ribbonOpen=function(){$("#BostonStage").height($(window).height()-122)};Boston.stage.scrollTop=function(){return $("#BostonStage").scrollTop()};
Boston.stage.selectAll=function(){$(".scrap").each(function(){$(this).selectMe(!0)});Boston.trigger("selection")};
Boston.stage.openTimeline=function(a){if(Project.get("timelines "+a))return Boston.stage.timeline=Project.get("timelines "+a),!0;var b=$.ajax({type:"POST",url:"/nudgepad.explorer.get",data:{path:"private timelines "+a},async:!1});b.done(function(b){Project._set("timelines "+a,new Space(b))});b.fail(function(){var b=Project.get("pages "+a),c=new Space;if(b&&!b.isEmpty()){var e=new Space;e.set("author",Cookie.email);e.set("values",new Space(b.toString()))}Project.create("timelines "+a,c);Flasher.success("Timeline created")});
Boston.stage.timeline=Project.get("timelines "+a)};
Boston.stage.views=new Space({full:function(){$("#BostonStage").css({width:"100%",padding:0});$("#BostonStageBody").css({"min-height":"1000px"})},tablet:function(){var a=Math.round(($(window).width()-1024)/2)+"px";$("#BostonStage").css({width:"1024px",padding:"20px "+a+" 1000px "+a});$("#BostonStageBody").css({"min-height":"768px"})},mobile:function(){var a=Math.round(($(window).width()-320)/2)+"px";$("#BostonStage").css({padding:"20px "+a+" 20px "+a,width:"320px"});$("#BostonStageBody").css({"min-height":"356px"})}});
Boston.stage.toggleDevice=function(){Boston.stage.currentView=Boston.stage.views.next(Boston.stage.currentView);Boston.stage.views.get(Boston.stage.currentView)();$("#BostonStageBody").width();Flasher.success(Boston.stage.currentView+" view");store.set("BostonView",Boston.stage.currentView)};Boston.stage.undo=function(){Boston.stage.goto(Boston.stage.version-1)};
Boston.stage.updateTimeline=function(){Boston.stage.percentElapsed=Boston.stage.timeline.keys.length?Math.round(100*Boston.stage.version/Boston.stage.timeline.keys.length):100;$("#BostonTimeline").attr("max",Boston.stage.timeline.keys.length).val(Boston.stage.version);$("#BostonTimelinePosition").text(Boston.stage.version+"/"+Boston.stage.timeline.keys.length)};Boston.stage.clearOnTap=function(){Boston.stage.selection.clear();return!0};
Boston.stage.onresize=function(){Boston.stage.views.get(Boston.stage.currentView)();$("#BostonStageBody").width();$(".BostonRibbon:visible").length?$("#BostonStage").height($(window).height()-122):$("#BostonStage").height($(window).height()-40)};Boston.StretchHandle=function(){};var toProperCase=function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})};
Boston.StretchHandle.create=function(a,b,d,c){var e=a.element(),f="fixed"==e.css("position")?"fixed":"absolute",k=("top"==b?"n":"bottom"==b?"s":"")+("left"==d?"w":"right"==d?"e":""),g=$("<div></div>");g.attr("value",a.getPath());g.addClass("handle stretchHandle stretchHandle"+a.id+" "+a.id+"Handle");g.attr("id","stretchHandle"+toProperCase(b)+toProperCase(d)+a.id);g.css({cursor:k+"-resize",position:f,width:"5px",height:"5px",border:"1px solid rgba(0, 0, 0, .5)","background-color":"rgba(255, 255, 255, 0.5)",
"z-index":"50"});g.data("row",b);g.data("column",d);c&&g.data("fixed",!0);e.parent().append(g);g.on("mousedown",Boston.StretchHandle.mousedown);g.on("slide",Boston.StretchHandle.slide);g.on("slidestart",Boston.StretchHandle.slidestart);g.on("slideend",Boston.StretchHandle.slideend);g.on("tap",Boston.StretchHandle.tap);g.on("update",Boston.StretchHandle.update);g.on("dblclick",Boston.StretchHandle.dblclick);g.trigger("update")};Boston.StretchHandle.dimensions={};
Boston.StretchHandle.mousedown=function(){Boston.StretchHandle.dimensions=$(this).owner().dimensions();var a=$(this).owner().scrap();Boston.StretchHandle.originalWidth=parseFloat(a.get("style width"));Boston.StretchHandle.isWidthPercentage=a.get("style width").toString().match(/\%/);Boston.StretchHandle.originalHeight=parseFloat(a.get("style height"));Boston.StretchHandle.isHeightPercentage=a.get("style height").toString().match(/\%/);Boston.grid.create()};
Boston.StretchHandle.slide=function(){var a=$(this).owner(),b=$(this).data().row,d=$(this).data().column,c=$(this).data().fixed,e,f;e="left"===d?Boston.StretchHandle.dimensions.right:"right"===d?Boston.StretchHandle.dimensions.left:Boston.StretchHandle.dimensions.center;f="top"===b?Boston.StretchHandle.dimensions.bottom:"bottom"===b?Boston.StretchHandle.dimensions.top:Boston.StretchHandle.dimensions.middle;var k=Boston.Mouse.move.pageX-$(this).parent().offset().left,g=Boston.Mouse.move.pageY-$(this).parent().offset().top,
j=Boston.StretchHandle.getLength(e,f,k,g,"center"!=d,"middle"!=b),k=a.scrap(),g=k.get("style width")||a.css("width"),m=k.get("style height")||a.css("height");"center"!==d&&(k.set("style left",(0<=j.x?e:j.x+e)+"px"),g=a.outerWidth()-a.width(),g=Math.abs(j.x)-g,g=Boston.StretchHandle.isWidthPercentage?Math.round(100*g/a.parent().width())+"%":g+"px",k.set("style width",g));c?(b=parseFloat(k.get("style width"))/Boston.StretchHandle.originalWidth,k.set("style height",Math.round(Boston.StretchHandle.originalHeight*
b)+"px")):"middle"!=b&&(0<=j.y?k.set("style top",f+"px"):k.set("style top",j.y+f+"px"),b=a.outerHeight(!0)-a.height(),m=Math.abs(j.y)-b,b=a.parent().height()||$(window).height(),m=Boston.StretchHandle.isHeightPercentage?Math.round(100*m/b)+"%":m+"px",k.set("style height",m));a.css(k.values.style.values);$("#BostonDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight(!0)/2)}).html("W "+g+"<br> H "+m);$(".stretchHandle"+k.id).trigger("update");return!1};
Boston.StretchHandle.slidestart=function(){var a=$(this).owner(),b=a.scrap();$("."+b.id+"Handle").not(".stretchHandle"+b.id).hide();b="W "+parseFloat(a.css("width"))+"<br> H "+parseFloat(a.css("height"));$("#BostonDimensions").css({left:10+a.offset().left+a.outerWidth(),top:-10+a.offset().top+Math.round(a.outerHeight(!0)/2)}).html(b).show();return!1};
Boston.StretchHandle.dblclick=function(){var a=$(this).owner(),b=$(this).data().row,d=$(this).data().column,c=a.scrap();"right"===d&&c.set("style width","100%");"left"===d&&c.set("style left","0");"top"===b&&c.set("style top","0");"bottom"===b&&c.set("style height","100%");a.css(c.values.style.values);$("."+c.id+"Handle").trigger("update").show();Boston.stage.commit()};
Boston.StretchHandle.slideend=function(){var a=$(this).owner().scrap();$("."+a.id+"Handle").trigger("update").show();Boston.grid.removeSnaplines();$("#BostonDimensions").hide();Boston.stage.commit()};Boston.StretchHandle.getLength=function(a,b,d,c,e,f){a={x:d-a,y:c-b};d=Boston.grid.getDelta([{x:d,y:c}]);e&&(a.x+=d.x);f&&(a.y+=d.y);return a};Boston.StretchHandle.tap=function(){return!1};
Boston.StretchHandle.update=function(){var a=$(this).owner(),b,d,c=$(this).data().row,e=$(this).data().column;switch(c){case "top":d=a.position().top-4;break;case "middle":d=a.position().top+Math.round(a.outerHeight(!0)/2)-4;break;case "bottom":d=a.position().top+a.outerHeight(!0)-4}switch(e){case "left":b=a.position().left-4;break;case "center":b=a.position().left+Math.round(a.outerWidth()/2)-4;break;case "right":b=a.position().left+a.outerWidth()-4}$(this).css({left:b,top:d})};
Boston.styleEditor={};Boston.styleEditor.livePreviewScrap=!1;Boston.styleEditor.livePreviewTimeout=!1;Boston.styleEditor.livePreviewStart=function(){clearTimeout(Boston.styleEditor.livePreviewTimeout);Boston.styleEditor.livePreviewTimeout=setTimeout("Boston.styleEditor.livePreview()",500)};Boston.styleEditor.livePreview=function(){var a=$("#BostonStyleEditorCssEditor"),b=Boston.styleEditor.livePreviewScrap;b.set("style",new Space(a.val()));b.element().attr("style","").css(b.get("style").values)};
Boston.styleEditor.edit=function(a){$(".handle").remove();var b=$('<div id="BostonStyleEditorModal"/>');b.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});b.on("click",function(){F.trigger("click")});$("body").append(b);var d=a.element(),c=$('<div id="BostonStyleEditor"></div>');c.css({left:d.offset().left+2+"px",top:d.offset().top+d.outerHeight()+4+"px"});d=$('<div id="BostonStyleEditorTopBar"></div>');c.append(d);var e=$('<div class="editorOption selectedEditorOption">Block</div>');
e.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");r.hide();s.hide();f.show();return!1});d.append(e);e=$('<div class="editorOption">Text</div>');e.on("tap",function(){$("div").removeClass("selectedEditorOption");$(this).addClass("selectedEditorOption");f.hide();r.hide();a.get("style")&&r.val(a.get("style"));s.show();return!1});d.append(e);e=$('<div class="editorOption">Code</div>');e.on("tap",function(){$("div").removeClass("selectedEditorOption");
$(this).addClass("selectedEditorOption");f.hide();s.hide();a.get("style")&&r.val(a.get("style"));r.show();return!1});d.append(e);var f=$('<div id="blockContainer"></div>');c.append(f);var k=$(".selection").css("background-color"),d=$('<div class="colorBackground"><input type="text" class="colorPicker"></div>');f.append(d);d=$('<div class="editorButton"><img src="/nudgepad/public/images/dup_lt.png"></div>');d.on("click",function(){Boston.stage.selection.duplicate()});f.append(d);d=$('<div class="editorButton"><img src="/nudgepad/public/images/lock_lt.png"></div>');
d.on("tap",function(){Boston.stage.selection.patch("locked true");F.trigger("click");return!1});f.append(d);var g=$('<select id="nudgepadLinkSelect"></select>'),d=$("<option>No link</option>");d.on("click",function(){Boston.stage.selection.patch("href ")});g.append(d);_.each(Project.values.pages.values,function(a,b){var c=$('<option value="'+b+'">'+ToProperCase(b)+"</option>");c.on("click",function(){Boston.stage.selection.patch("tag a\nhref "+$(this).attr("value"))});g.append(c)});d=$("<option>New Page</option>");
d.on("click",function(){var a=prompt("Enter the name of your new page",Boston.menu.nextName(Boston.stage.activePage));if(a){a=Permalink(a);Boston.stage.selection.patch("tag a\nhref "+a);F.trigger("click");var b=Boston.stage.activePage;Boston.menu.duplicate(null,a,!0);Boston.stage.open(b)}});g.append(d);d=$("<option>External Link</option>");d.on("click",function(){var a=prompt("Enter the url to link to","http://");a&&Boston.stage.selection.patch("tag a\nhref "+a)});g.append(d);g.css({display:"none",
position:"absolute","z-index":"100000"});g.attr("size",g.find("option").length);g.on("click",function(){g.hide();return!1});f.append(g);d=$('<div class="editorButton"><img src="/nudgepad/public/images/link_lt.png"></div>');d.on("tap",function(){g.css({left:$(this).position().left,top:$(this).position().top});g.show();return!1});f.append(d);d=$('<div class="editorButton"><img src="/nudgepad/public/images/up_lt.png" title="Increase z-index"></div>');d.on("tap",function(){$(".selection").each(function(){$(this).scrap().moveUp()});
r.val(a.get("style"));return!1});f.append(d);d=$('<div class="editorButton"><img src="/nudgepad/public/images/down_lt.png" title="Decrease z-index"></div>');d.on("tap",function(){$(".selection").each(function(){$(this).scrap().moveDown()});r.val(a.get("style"));return!1});f.append(d);var j=$('<div class="clear"></div>');f.append(j);d=$('<div class="columnLeft"></div>');f.append(d);e=$('<div class="editorHeader">Curve</div>');d.append(e);e=$('<div id="roundessOne" class="toolButton toolButtonOne">0</div>');
e.on("click",function(){Boston.stage.selection.cssPreview("border-radius 0px 0px 0px 0px");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div id="roundessTwo" class="toolButton toolButtonTwo">4</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border-radius 4px 4px 4px 4px");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonTwo">10</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border-radius 10px 10px 10px 10px");
Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonThree">50</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border-radius 50px 50px 50px 50px");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);j=$('<div class="clear"></div>');d.append(j);e=$('<div class="editorHeader">Border</div>');d.append(e);var m=$(".selection").css("border-color"),e=$('<div class="colorBorder"><input type="text" class="colorBorderPicker toolButton toolButtonOne"></div>');
d.append(e);e=$('<div class="toolButton toolButtonTwo">0</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border none");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonTwo">1</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border 1px solid "+m);Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonThree">5</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("border 5px solid "+
m);Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);d=$('<div class="columnRight"></div>');f.append(d);e=$('<div class="editorHeader">Opacity</div>');d.append(e);e=$('<div class="toolButton toolButtonOne">1</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("opacity 1");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div id="opacityOne" class="toolButton toolButtonTwo">.8</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("opacity .8");
Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonTwo">.5</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("opacity .5");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="toolButton toolButtonThree">.2</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("opacity .2");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div class="clear"></div>');
d.append(e);e=$('<div class="editorHeader">Shadow</div>');d.append(e);e=$('<div class="toolButton toolButtonOne">0</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("box-shadow none");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div id="shadowOne" class="toolButton toolButtonTwo">Out</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("box-shadow 0px 1px 3px rgba(0,0,0,.6)");Boston.stage.commit();$(".handle").trigger("update");return!1});
d.append(e);e=$('<div id="shadowTwo" class="toolButton toolButtonTwo">In</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("box-shadow inset 0px 1px 3px rgba(0,0,0,.6)");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);e=$('<div id="ShadowThree" class="toolButton toolButtonThree">All</div>');e.on("tap",function(){Boston.stage.selection.cssPreview("box-shadow 0px 0px 0px 4px rgba(0,0,0,.2)");Boston.stage.commit();$(".handle").trigger("update");return!1});d.append(e);
j=$('<div class="clear"></div>');f.append(j);var s=$('<div id="BostonStyleEditorTextEditor"></div>');c.append(s);var w=$(".selection").css("font-family"),d=$('<select id="fontFamily" class="toolButton" name="fontFamilyDropdown"><option>Arial</option><option>Arvo</option><option>Courier</option><option>Helvetica</option><option>Open Sans</option><option>Times</option><option>Titillium Web</option></select>');d.on("change",function(){w=$("#fontFamily").val();Boston.stage.selection.cssPreview("font-family "+
w);Boston.stage.commit();$(".handle").trigger("update");return!1});s.append(d);d=$(".selection").css("color");e=$('<div class="colorFont"><input type="text" class="colorFontPicker toolButton toolButtonOne"></div>');s.append(e);var v=$(".selection").css("font-size"),e=$('<select id="fontSize" name="fontDropdown"><option>11</option><option>12</option><option>13</option><option>14</option><option>16</option><option>18</option><option>24</option><option>32</option><option>40</option><option>48</option><option>56</option><option>64</option><option>72</option></select>');
e.on("change",function(){v=$("#fontSize").val();Boston.stage.selection.cssPreview("font-size "+v+"px");Boston.stage.commit();$(".handle").trigger("update");return!1});s.append(e);e=$('<div id="resize" class="toolButton" title="Auto Resize"><img src="/nudgepad/public/images/contract.png"></div>');e.on("click",function(){Boston.stage.selection.cssPreview({width:"auto",height:"auto"});Boston.stage.commit();$(".handle").trigger("update");return!1});s.append(e);j=$('<div class="clear"></div>');s.append(j);
e=$('<div class="columnLeft"></div>');s.append(e);j=$('<div class="editorHeader">Alignment</div>');e.append(j);j=$('<div class="toolButton toolButtonOne"><img src="/nudgepad/public/images/left_lt.png"></div>');j.on("click",function(){Boston.stage.selection.cssPreview("text-align left");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/public/images/center_lt.png"></div>');j.on("click",function(){Boston.stage.selection.cssPreview("text-align center");
Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonTwo"><img src="/nudgepad/public/images/right_lt.png"></div>');j.on("click",function(){Boston.stage.selection.cssPreview("text-align right");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonThree"><img src="/nudgepad/public/images/justify_lt.png"></div>');j.on("click",function(){Boston.stage.selection.cssPreview("text-align justify");
Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="clear"></div>');e.append(j);j=$('<div class="editorHeader">Padding</div>');e.append(j);j=$('<div class="toolButton toolButtonOne">0</div>');j.on("click",function(){Boston.stage.selection.cssPreview("padding 0px");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonTwo">10</div>');j.on("click",function(){Boston.stage.selection.cssPreview("padding 10px");
Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonTwo">20</div>');j.on("click",function(){Boston.stage.selection.cssPreview("padding 20px");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div class="toolButton toolButtonTwo">40</div>');j.on("click",function(){Boston.stage.selection.cssPreview("padding 40px");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);e=$('<div class="columnRight"></div>');
s.append(e);j=$('<div class="clear"></div>');e.append(j);j=$('<div class="editorHeader">Line Height</div>');e.append(j);j=$('<div id="lineHeightOne" class="toolButton toolButtonOne">100</div>');j.on("click",function(){Boston.stage.selection.cssPreview("line-height 100%");return!1});e.append(j);j=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">140</div>');j.on("click",function(){Boston.stage.selection.cssPreview("line-height 140%");return!1});e.append(j);j=$('<div id="lineHeightTwo" class="toolButton toolButtonTwo">180</div>');
j.on("click",function(){Boston.stage.selection.cssPreview("line-height 180%");return!1});e.append(j);j=$('<div id="lineHeightThree" class="toolButton toolButtonThree">Mid</div>');j.on("click",function(){var a=$(".selection").css("height");Boston.stage.selection.cssPreview("line-height "+a);return!1});e.append(j);j=$('<div class="clear"></div>');e.append(j);j=$('<div class="editorHeader">Style</div>');e.append(j);j=$('<div id="textStyleOne" class="toolButton toolButtonOne">B</div>');j.on("click",function(){Boston.stage.selection.cssPreview("font-weight bold");
Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div id="italics" class="toolButton toolButtonTwo">I</div>');j.on("click",function(){Boston.stage.selection.cssPreview("font-style italic");Boston.stage.commit();$(".handle").trigger("update");return!1});e.append(j);j=$('<div id="textStyleTwo" class="toolButton toolButtonTwo">U</div>');j.on("click",function(){Boston.stage.selection.cssPreview("text-decoration underline");Boston.stage.commit();$(".handle").trigger("update");
return!1});e.append(j);j=$('<div id="textStyleThree" class="toolButton toolButtonThree">Auto</div>');j.on("click",function(){Boston.stage.selection.cssPreview({"text-decoration":"none","font-weight":"normal","font-style":"normal"});return!1});e.append(j);j=$('<div class="clear"></div>');s.append(j);var r=$('<textarea id="BostonStyleEditorCssEditor"></textarea>');a.get("style")&&r.val(a.get("style"));r.on("tap mousedown click slide slidestart slideend mouseup",function(a){a.stopPropagation()});Boston.styleEditor.livePreviewScrap=
a;r.on("keyup",Boston.styleEditor.livePreviewStart);c.append(r);e=$('<div id="BostonStyleEditorBottomBar"></div>');r.append(e);var F=$('<div id="BostonStyleEditorSaveButton">Save</div>');F.on("click",function(){Boston.stage.commit();$(".handle").trigger("update");c.remove();b.remove()});r.append(F);$("body").append(c);var A;$(".colorPicker").spectrum({color:k,move:function(a){Boston.stage.selection.cssPreview("background-color "+a.toHexString());k=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+
a.toHexString());k=a.toHexString()},show:function(){A="background-color "},hide:function(){Boston.stage.commit();$(".handle").trigger("update")}});$(".colorBorderPicker").spectrum({color:m,move:function(a){Boston.stage.selection.cssPreview("border-color "+a.toHexString());m=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());m=a.toHexString()},show:function(){A="border-color "},hide:function(){Boston.stage.commit();$(".handle").trigger("update")}});$(".colorFontPicker").spectrum({color:d,
move:function(a){Boston.stage.selection.cssPreview("color "+a.toHexString());m=a.toHexString()},change:function(a){$("#basic-log").text("change called: "+a.toHexString());m=a.toHexString()},show:function(){A="color "},hide:function(){Boston.stage.commit();$(".handle").trigger("update")}});$(document).on("slide slidestart slideend",".sp-container",function(){return!1});$(".sp-input[type=text]").on("keydown",function(a){if(13==a.which)return a.preventDefault(),a=$(this).val(),Boston.stage.selection.css(A+
a),!1});$(".colorFont .sp-replacer").addClass("fontColorButton");$(".colorFont .sp-preview").addClass("fontColorLine");$(".colorFont .sp-replacer").append('<img src="/nudgepad/public/images/letter.png">');$(".colorBorder .sp-replacer").addClass("borderColorButton");$(".colorBorder .sp-preview").addClass("borderColorLine");$(".colorBackground .sp-replacer").addClass("backgroundColorButton");$(":input[name=fontDropdown] option").each(function(a,b){$(b).text()+"px"==v&&$(this).attr("selected","selected")});
$(":input[name=fontFamilyDropdown] option").each(function(a,b){$(b).text()==w&&$(this).attr("selected","selected")});d=c.position().top+c.outerHeight()-Boston.stage.height();0<d&&($("#BostonStage").scrollTop($("#BostonStage").scrollTop()+d),c.css("top",parseFloat(c.css("top"))-d));d=c.position().left+c.outerWidth()-$(window).width();0<d&&($("#BostonStage").scrollLeft($("#BostonStage").scrollLeft()+d),c.css("left",parseFloat(c.css("left"))-d))};
Boston.updateTabs=function(){$("#BostonTabs").html("");var a=Project.get("pages").keys;_.each(a,function(a){var d=$("<span>"+a+"</span>");a===Boston.stage.activePage&&d.css("color","white");var c="";Screens.each(function(e,f){if(f.get("id")===Screen.get("id")||"Boston"!==f.get("tool")||f.get("page")!==a)return!0;c+=f.get("name")+"("+f.get("device")+") ";d.addClass("BostonOpenPage")});d.attr("title",c);d.on("click",function(){mixpanel.track("I clicked a page tab");Boston.stage.open($(this).text());
return!0});d.attr("value",a);$("#BostonTabs").append(d)})};Boston.isFirstOpen=!0;Boston.on("page",Boston.updateTabs);Boston.on("step",Boston.stage.updateTimeline);Boston.on("ready",function(){$("#Boston").hide()});
Boston.on("open",function(){Boston.grid=new Grid;$("#BostonStage,#BostonBar").show();Screens.on("change",Boston.updateSelections);Screens.on("change",Boston.updateTabs);Project.on("delete",Boston.updateTabs);Lasso.selector="#BostonStageBody .scrap:visible";$(document).on("lasso",".scrap",function(){$(this).selectMe(!0);return!1});Lasso.enable();$(document).on("slidestart",Boston.pen.draw);$("#BostonStage").on("click",Boston.pen.insertTextBlock);$(document).on("dragstart","img",function(a){a.preventDefault()});
var a=store.get("activePage")||"index";Project.get("pages "+a)||(a="index");Project.get("pages "+a)||Boston.menu.create("index");Boston.stage.open(a);navigator.userAgent.match(/iPad|iPhone|iPod/i)||($(document).on("touchstart",Boston.stopPropagation),$(document).on("touchmove",Boston.preventDefault));window.addEventListener("copy",Boston.oncopy,!1);window.addEventListener("cut",Boston.oncut,!1);window.addEventListener("paste",Boston.onpaste,!1);window.addEventListener("resize",Boston.onresize,!1);
$("body").on("keydown",Boston.onkeydown);Events.shortcut.shortcuts=Boston.shortcuts;navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.addEventListener("touchstart",Boston.Mouse.onTouchStart,!0),document.addEventListener("touchend",Boston.Mouse.onTouchEnd,!0),document.addEventListener("touchmove",Boston.Mouse.onTouchMove,!0)):(document.addEventListener("mousedown",Boston.Mouse.onmousedown,!0),document.addEventListener("mousemove",Boston.Mouse.onmousemove,!0),document.addEventListener("mouseup",
Boston.Mouse.onmouseup,!0));Boston.isFirstOpen&&(Boston.isFirstOpen=!1,Boston.trigger("firstOpen"));$("#BostonComponentsTab").trigger("click")});
Boston.on("close",function(){$(document).off("slidestart",Boston.pen.draw);$("#BostonStage,#BostonBar").hide();Boston.off("selection",Boston.broadcastSelection);Screens.off("change",Boston.updateSelections);Screens.off("change",Boston.updateTabs);$("#BostonStage").off("click",Boston.pen.insertTextBlock);Project.off("delete",Boston.updateTabs);Boston.stage.close();if(!navigator.userAgent.match(/iPad|iPhone|iPod/i))return null;$(document).off("touchstart",Boston.stopPropagation);$(document).off("touchmove",
Boston.preventDefault);window.removeEventListener("copy",Boston.oncopy,!1);window.removeEventListener("cut",Boston.oncut,!1);window.removeEventListener("paste",Boston.onpaste,!1);window.removeEventListener("resize",Boston.onresize,!1);$("body").off("keydown",Boston.onkeydown);Events.shortcut.shortcuts={};navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?(document.removeEventListener("touchstart",Boston.Mouse.onTouchStart,!0),document.removeEventListener("touchend",Boston.Mouse.onTouchEnd,!0),document.removeEventListener("touchmove",
Boston.Mouse.onTouchMove,!0)):(document.removeEventListener("mousedown",Boston.Mouse.onmousedown,!0),document.removeEventListener("mousemove",Boston.Mouse.onmousemove,!0),document.removeEventListener("mouseup",Boston.Mouse.onmouseup,!0))});
Boston.on("open",function(){Events.shortcut.onfire=Boston.trackShortcuts;$(document).on("click","a.scrap, .scrap a, .scrap div",Scrap.disableLinks);$("#BostonStage").on("tap",".scrap",Scrap.selectOnTap);$("body").on("hold",".scrap",Scrap.unlock);$(document).on("mousedown click","input.scrap,textarea.scrap",Boston.returnFalse);$(document).on("focus","input.scrap,textarea.scrap",Boston.blurThis);$("#BostonStage").on("tap",Boston.stage.clearOnTap);$(window).on("resize",Boston.stage.onresize)});
Boston.on("selection",Boston.broadcastSelection);Boston.on("close",function(){$(document).off("click","a.scrap, .scrap a, .scrap div",Scrap.disableLinks);$("#BostonStage").off("tap",".scrap",Scrap.selectOnTap);$("body").off("hold",".scrap",Scrap.unlock);$(document).off("mousedown click","input.scrap,textarea.scrap",Boston.returnFalse);$(document).off("focus","input.scrap,textarea.scrap",Boston.blurThis);$("#BostonStage").off("tap",Boston.stage.clearOnTap);$(window).off("resize",Boston.stage.onresize)});
Boston.on("commit",Boston.stage.expand);Boston.on("page",function(){Boston.stage.expand();Boston.stage.views.get(Boston.stage.currentView)();$("#BostonStageBody").width();Boston.stage.reset()});Boston.trackShortcuts=function(a){mixpanel.track("I used the Boston keyboard shortcut "+a)};Boston.shortcuts={};Boston.shortcuts["meta+shift+p"]=Boston.stage.selection.patchPrompt;Boston.shortcuts["ctrl+a"]=Boston.stage.selectAll;Boston.shortcuts["meta+a"]=Boston.stage.selectAll;
Boston.shortcuts["meta+p"]=function(){window.open(Boston.stage.activePage+".html?"+(new Date).getTime(),"published")};Boston.shortcuts["meta+shift+left"]=Boston.stage.selection.alignLeft;Boston.shortcuts["meta+shift+right"]=Boston.stage.selection.alignRight;Boston.shortcuts["meta+shift+up"]=Boston.stage.selection.alignTop;Boston.shortcuts["meta+shift+down"]=Boston.stage.selection.alignBottom;Boston.shortcuts["meta+shift+v"]=Boston.stage.selection.distributeVertical;
Boston.shortcuts["meta+shift+h"]=Boston.stage.selection.distributeHorizontal;Boston.shortcuts["shift+d"]=Boston.stage.selection.distributeHorizontal;Boston.shortcuts["alt+o"]=Explorer.quickEdit;Boston.deleteShortcut=function(){Boston.stage.selection.delete();Boston.stage.commit()};Boston.shortcuts["delete"]=Boston.deleteShortcut;Boston.shortcuts.backspace=Boston.deleteShortcut;Boston.shortcuts["ctrl+d"]=Boston.stage.selection.duplicate;Boston.shortcuts["meta+d"]=Boston.stage.selection.duplicate;
Boston.editSourceToggle=function(){$(".selection").length?Boston.stage.selection.editSource():Boston.stage.editSource()};Boston.shortcuts["ctrl+u"]=Boston.editSourceToggle;Boston.shortcuts["meta+u"]=Boston.editSourceToggle;Boston.shortcuts["meta+shift+u"]=Boston.codePanel.toggle;Boston.shortcuts["meta+e"]=Boston.stage.selection.editProperty;Boston.shortcuts["meta+l"]=Boston.stage.selection.editLoop;
Boston.shortcuts["shift+space"]=function(){var a=prompt("Enter a command");if(!a)return!1;a.match(/^(w|width) (.*)/)&&(a=a.match(/^(w|width) (.*)/),Boston.stage.selection.css("width "+a[2]))};Boston.shortcuts["meta+backspace"]=Boston.menu.delete;Boston.shortcuts["meta+o"]=Boston.menu.spotlight;Boston.shortcuts["ctrl+o"]=Boston.menu.spotlight;Boston.shortcuts["ctrl+n"]=Boston.menu.blank;Boston.shortcuts["meta+n"]=Boston.menu.blank;Boston.shortcuts.esc=Boston.stage.selection.clear;
Boston.shortcuts["shift+n"]=Boston.menu.duplicate;Boston.shortcuts.up=function(){Boston.stage.selection.move(0,-1)};Boston.shortcuts.left=function(){Boston.stage.selection.move(-1,0)};Boston.shortcuts.down=function(){Boston.stage.selection.move(0,1)};Boston.shortcuts.right=function(){Boston.stage.selection.move(1,0)};Boston.shortcuts["shift+up"]=function(){Boston.stage.selection.move(0,-10)};Boston.shortcuts["shift+left"]=function(){Boston.stage.selection.move(-10,0)};
Boston.shortcuts["shift+down"]=function(){Boston.stage.selection.move(0,10)};Boston.shortcuts["shift+right"]=function(){Boston.stage.selection.move(10,0)};Boston.shortcuts["alt+left"]=Boston.stage.back;Boston.shortcuts["alt+right"]=Boston.stage.forward;Boston.shortcuts["ctrl+z"]=Boston.stage.undo;Boston.shortcuts["meta+z"]=Boston.stage.undo;Boston.shortcuts["meta+shift+z"]=Boston.stage.redo;Boston.shortcuts["meta+y"]=Boston.stage.redo;Boston.shortcuts["ctrl+y"]=Boston.stage.redo;
Boston.shortcuts["meta+shift+s"]=Boston.stage.selection.cssPrompt;Boston.realtime=function(a,b){var d=a.split(/ /g);if("timelines"!==d[0]||d[1]!==Boston.stage.activePage)return!0;Boston.stage.isBehind();b.get("values");Boston.trigger("step");Boston.stage.redo()};Boston.on("close",function(){Project.off("incoming-append",Boston.realtime)});Boston.on("open",function(){Project.on("incoming-append",Boston.realtime)});var Domain=new Tool("Domain");Domain.set("color","rgba(36, 65, 112, 1)");
Domain.set("path","");Domain.set("description","Change your project's domain.");Domain.import=function(){TextPrompt.open("Import a Project to this Domain","",function(a){$.post("/nudgepad.import",{space:a},function(){Flasher.success("Imported files.")})})};Domain.on("open",function(){$("#DomainDomain").val("copyof"+document.location.host)});
Domain.cloneProject=function(){var a=$("#DomainDomain").val();if(a.match(/ /))var b=a.split(/ /),a=b[0],d=b[1];else d=Project.get("hostname");$.get("/nudgepad.export",{},function(b){$("<form>",{action:"http://"+d+"/create",method:"post"}).append($("<input>",{name:"domain",value:a,type:"hidden"})).append($("<input>",{name:"email",value:Cookie.email,type:"hidden"})).append($("<input>",{name:"timestamp",value:(new Date).getTime(),type:"hidden"})).append($("<input>",{name:"relaxed",value:"true",type:"hidden"})).append($("<input>",
{name:"clone",value:b,type:"hidden"})).submit()})};var Files=new Tool("Files");Files.set("color","rgba(36, 65, 112, 1)");Files.set("path","");Files.set("description","View and edit the files of your project.");Files.on("open",function(){$("#FilesDownload").attr("href","/nudgepad.backup/"+document.location.host+".zip");Files.refresh()});Files.on("set",function(a){"path"===a&&Files.renderExplorer()});Files.isImage=function(a){return a.match(/\.png|jpeg|jpg|gif$/i)?!0:!1};
Files.newFile=function(){var a=prompt("Enter the filename");if(!a)return!1;var b=Files.get("path")?Files.get("path")+" ":"";Explorer.create(b+a,"",Files.refresh)};Files.newFolder=function(){var a=prompt("Enter the folder name");if(!a)return!1;var b=Files.get("path")?Files.get("path")+" ":"";Explorer.mkdir(b+a,Files.refresh)};
Files.renderExplorer=function(){var a=Files.get("files");Files.get("path")&&(a=a.get(Files.get("path")));var b='<table id="FilesExplorer">',b=b+'<tr class="FilesExplorerHeader"><td>Filename</td><td></td><td></td><td></td><td>Size</td><td>Age</td></tr>',d=Files.get("path")?Files.get("path")+" ":"",c=_.filter(a.keys,function(b){return!a.get(b).get("timeSinceLastChange")}).sort(),e=_.filter(a.keys,function(b){return a.get(b).get("timeSinceLastChange")}).sort();c.concat(e).forEach(function(c){var e=a.get(c),
f="<tr";e.get("timeSinceLastChange")?(f+=' class="FilesExplorerFile" value="'+c+'" path="'+d+c+'">',f=Files.isImage(c)?f+('<td class="FilesExplorerPreview">'+c+"</td>"):f+('<td class="FilesExplorerEdit">'+c+"</td>"),f=d.match(/^private/)?f+"<td></td>":f+('<td class="FilesHiddenAction FilesExplorerVisit"><a target="published" href="/'+d.replace(/ /g,"/")+c+'">Visit</a></td>'),f+='<td class="FilesHiddenAction FilesExplorerRename">Rename</td><td class="FilesHiddenAction FilesExplorerRemove">Delete</td>',
f+="<td>"+e.get("size")+"</td>",f+="<td>"+moment(e.get("mtime")).fromNow()+"</td>"):(f+=' class="FilesExplorerFolder" value="'+c+'" path="'+d+c+'">',f+='<td class="FilesExplorerFolderName">'+c+"</td>",f+="<td></td>",f+='<td class="FilesHiddenAction FilesExplorerRename">Rename</td>',f+='<td class="FilesHiddenAction FilesExplorerRemoveFolder">Delete</td>',f+="<td></td><td></td>");f+="</tr>";b+=f});var b=b+"</table>",f="<span onclick=\"Files.set('path', '')\">"+document.location.host+"</span>";if(d){var k=
"";d.split(/ /g).forEach(function(a){f+=" <span onclick=\"Files.set('path', '"+k+a+"')\">"+a+"</span>";k+=a+" "})}$("#FilesExplorerPath").html(f);$("#FilesExplorerHolder").html(b)};Files.refresh=function(){$.get("/nudgepad.explorer.list",{},function(a){Files.set("files",new Space(a));Files.renderExplorer()})};$(document).on("click",".FilesExplorerEdit",function(){var a=$(this).parent().attr("path");Explorer.edit(a)});
$(document).on("click",".FilesExplorerPreview",function(){var a=$(this).parent().attr("path").replace(/ /g,"/");ImagePreview('<img src="'+a+'">')});$(document).on("click",".FilesExplorerRename",function(){var a=prompt("Rename this file",$(this).parent().attr("value"));if(!a)return!1;var b=Files.get("path")?Files.get("path")+" ":"";Explorer.rename($(this).parent().attr("path"),b+a,Files.refresh)});
$(document).on("click",".FilesExplorerRemove",function(a){var b=$(this).parent().attr("value");if(!a.metaKey&&!confirm("Are you sure you want to delete "+b+"?"))return!1;Explorer.remove($(this).parent().attr("path"),function(){Flasher.success(b+" deleted");Files.refresh()})});
$(document).on("click",".FilesExplorerRemoveFolder",function(){var a=$(this).parent().attr("value");if(!event.metaKey&&!confirm("Are you sure you want to delete "+a+"?"))return!1;Explorer.rmdir($(this).parent().attr("path"),function(){Flasher.success(a+" deleted");Files.refresh()})});$(document).on("click",".FilesExplorerFolderName",function(){Files.set("path",$(this).parent().attr("path"))});Files.drop={};
Files.drop.traverseFileTree=function(a,b){b=b||"";a.isFile?a.file(function(a){console.log("File:",b+a.name);Files.drop.sendFile(b,a)}):a.isDirectory&&a.createReader().readEntries(function(d){for(var c=0;c<d.length;c++)Files.drop.traverseFileTree(d[c],b+a.name+"/")})};
Files.drop.sendFile=function(a,b){var d;d="/nudgepad.explorer.upload"+("?path="+Files.get("path").replace(" ","/")+"/"+(a?a:""));var c=new XMLHttpRequest,e=new FormData;c.open("POST",d,!0);c.onreadystatechange=function(){4==c.readyState&&200==c.status?(Flasher.success(c.responseText),Files.refresh()):500==c.status&&Flasher.error(c.responseText)};d=b.name.replace(/ /g,"-");e.append("filename",d);e.append("myFile",b);c.send(e)};
Files.drop.ondrop=function(a){console.log("yo");a.preventDefault();a=a.dataTransfer.items;for(var b=0;b<a.length;b++){var d=a[b].webkitGetAsEntry();d&&Files.drop.traverseFileTree(d)}};Files.drop.ondragover=function(a){a.preventDefault()};Files.on("close",function(){window.removeEventListener("dragover",Files.drop.ondragover);window.removeEventListener("drop",Files.drop.ondrop)});
Files.on("open",function(){window.addEventListener("dragover",Files.drop.ondragover,!1);window.addEventListener("drop",Files.drop.ondrop,!1)});var GitHub=new Tool("GitHub");GitHub.set("color","rgba(171, 193, 199, 1)");GitHub.set("description","Sync your project with GitHub.");GitHub.set("beta","true");GitHub.exec=function(a,b){var d=$("#GitHubStatus");d.html("");$.post("nudgepad.exec",{command:a},function(a){d.append(a+"\n");b&&b()}).error(function(a){d.append("ERROR\n");d.append(a.responseText+"\n")})};
GitHub.add=function(){var a=$("#GitHubFilepath").val();GitHub.exec("git add "+a,function(){Flasher.success("Added");GitHub.status()});$("#GitHubFilepath").val("")};GitHub.addAll=function(){GitHub.exec("git add .",GitHub.status)};GitHub.addOrigin=function(){var a=prompt("Enter origin URI");if(!a)return!1;GitHub.exec("git remote add origin "+a,function(){Flasher.success("Origin Updated")})};
GitHub.cloneRepo=function(){var a=prompt("Enter clone URI");if(!a)return!1;GitHub.exec("git clone "+a+" temp; mv temp/* .; mv temp/.git .; rm -rf temp",function(){Flasher.success("Cloned")})};GitHub.commit=function(){var a=$("#GitHubCommitMessage").val();GitHub.exec('git commit -am "'+a+'"',function(){Flasher.success("Commit Received")});$("#GitHubCommitMessage").val("")};GitHub.init=function(){GitHub.exec("git init",function(){Flasher.success("Git init OK");GitHub.status()})};GitHub.pull=function(){GitHub.exec("git pull")};
GitHub.push=function(){GitHub.exec("git push -u origin master")};GitHub.setOrigin=function(){var a=prompt("Enter origin URI");if(!a)return!1;GitHub.exec("git remote set-url origin "+a,function(){Flasher.success("Origin Updated")})};GitHub.status=function(){GitHub.exec("git status")};GitHub.on("open",GitHub.status);var Home=new Tool("Home");
Home.renderMenu=function(){$("#HomeColumn").html("");var a=_.without(Tool.tools,"Home","Boston","Files","Blog","AppMaker","Team");a.unshift("Boston","Files","Team","Blog","AppMaker");for(var b in a){var d=window[a[b]];$("#HomeColumn").append(Home.toButton(d.get("name"),d.get("description"),d.get("color"),d.get("beta")))}};Home.toggleAll=function(){store.get("homeShowAll")?store.remove("homeShowAll"):store.set("homeShowAll","true");$(".beta").fadeToggle()};
Home.toButton=function(a,b,d,c){return'<div class="HomeSquare'+(c?" beta":"")+'" style="background-color : '+d+'" onclick="Launcher.open(\''+a+'\')">    <div class="HomeTopBlock">'+a+'</div>    <div class="HomeSubBlock">'+b+"</div></div>"};Home.on("open",function(){Home.renderMenu();store.get("homeShowAll")&&$(".beta").show();$("#Home").on("hold",Home.toggleAll)});Home.on("close",function(){$("#Home").off("hold",Home.toggleAll)});var Server=new Tool("Server");Server.set("color","rgba(36, 65, 112, 1)");
Server.set("path","");Server.set("description","Manage your project's web server.");Server.set("beta","true");
Server.consoleSend=function(){var a=$("#ServerConsoleInput"),b=$("#ServerConsoleCheckbox"),d=$("#TextPromptTextarea"),c=a.val(),e="nudgepad.exec";b.is(":checked")&&(e="nudgepad.console");$.post(e,{command:c},function(b){d.val(d.val()+(">"+c.replace(/\n/g,"> \n")+"\n")+b+"\n");d.scrollTop($(d)[0].scrollHeight+"");a.val("");a.focus()}).error(function(b){mixpanel.track("I used the console and got an error");d.val(d.val()+">"+c.replace(/\n/g,"> \n")+"\nERROR\n"+b.responseText+"\n");d.scrollTop($("#ServerConsole")[0].scrollHeight+
"");a.val("");a.focus()})};Server.console=function(){mixpanel.track("I opened the console");var a=$("#ServerConsoleContainer");TextPrompt.open("","",function(){Server.consoleSend();return!1});TextPrompt.onclose=function(){a.appendTo("body");a.hide()};a.appendTo("#TextPromptButtonHolder");a.show();$("#ServerConsoleInput").focus()};
Server.refresh=function(){$.get("/nudgepad.status",{},function(a){Server.set("status",a);$("#ServerStatusArea").text(a)});$.get("/nudgepad.logs",{},function(a){Server.set("log",a);$("#ServerLogHolder").html(a);$("#ServerLogHolder").scrollTop($("#ServerLogHolder").height())})};$(document).on("ready",function(){$("#ServerConsoleInput").on("enterkey",Server.consoleSend)});Server.on("open",function(){Server.get("log")||Server.refresh()});var __slice=Array.prototype.slice;
(function(a){var b;a.fn.sketch=function(){var c,d,f;d=arguments[0];c=2<=arguments.length?__slice.call(arguments,1):[];1<this.length&&a.error("Sketch.js can only be called on one element at a time.");f=this.data("sketch");if("string"===typeof d&&f)if(f[d]){if("function"===typeof f[d])return f[d].apply(f,c);if(0===c.length)return f[d];if(1===c.length)return f[d]=c[0]}else return a.error("Sketch.js did not recognize the given command.");else{if(f)return f;this.data("sketch",new b(this.get(0),d));return this}};
var d=function(b,d){this.el=b;this.canvas=a(b);this.context=b.getContext("2d");this.options=a.extend({toolLinks:!0,defaultTool:"marker",defaultColor:"#000000",defaultSize:5},d);this.painting=!1;this.color=this.options.defaultColor;this.size=this.options.defaultSize;this.tool=this.options.defaultTool;this.actions=[];this.action=[];this.canvas.bind("click mousedown mouseup mousemove mouseleave mouseout touchstart touchmove touchend touchcancel",this.onEvent);this.options.toolLinks&&a("body").delegate('a[href="#'+
this.canvas.attr("id")+'"]',"click",function(){var b,c,d,e,m,s;b=a(this);d=a(b.attr("href")).data("sketch");s=["color","size","tool"];e=0;for(m=s.length;e<m;e++)c=s[e],b.attr("data-"+c)&&d.set(c,a(this).attr("data-"+c));a(this).attr("data-download")&&d.download(a(this).attr("data-download"));return!1})};d.prototype.download=function(a){a||(a="png");"jpg"===a&&(a="jpeg");return window.open(this.el.toDataURL("image/"+a))};d.prototype.set=function(a,b){this[a]=b;return this.canvas.trigger("sketch.change"+
a,b)};d.prototype.startPainting=function(){this.painting=!0;return this.action={tool:this.tool,color:this.color,size:parseFloat(this.size),events:[]}};d.prototype.stopPainting=function(){this.action&&this.actions.push(this.action);this.painting=!1;this.action=null;return this.redraw()};d.prototype.onEvent=function(b){b.originalEvent&&b.originalEvent.targetTouches&&(b.pageX=b.originalEvent.targetTouches[0].pageX,b.pageY=b.originalEvent.targetTouches[0].pageY);a.sketch.tools[a(this).data("sketch").tool].onEvent.call(a(this).data("sketch"),
b);b.preventDefault();return!1};d.prototype.redraw=function(){var b;this.el.width=this.canvas.width();this.context=this.el.getContext("2d");b=this;a.each(this.actions,function(){if(this.tool)return a.sketch.tools[this.tool].draw.call(b,this)});if(this.painting&&this.action)return a.sketch.tools[this.action.tool].draw.call(b,this.action)};b=d;a.sketch={tools:{}};a.sketch.tools.marker={onEvent:function(a){switch(a.type){case "mousedown":case "touchstart":this.startPainting();break;case "mouseup":case "mouseout":case "mouseleave":case "touchend":case "touchcancel":this.stopPainting()}if(this.painting)return this.action.events.push({x:a.pageX-
this.canvas.offset().left,y:a.pageY-this.canvas.offset().top,event:a.type}),this.redraw()},draw:function(a){var b,d,k,g;this.context.lineJoin="round";this.context.lineCap="round";this.context.beginPath();this.context.moveTo(a.events[0].x,a.events[0].y);g=a.events;d=0;for(k=g.length;d<k;d++)b=g[d],this.context.lineTo(b.x,b.y);this.context.strokeStyle=a.color;this.context.lineWidth=a.size;return this.context.stroke()}};return a.sketch.tools.eraser={onEvent:function(b){return a.sketch.tools.marker.onEvent.call(this,
b)},draw:function(b){var d;d=this.context.globalCompositeOperation;this.context.globalCompositeOperation="copy";b.color="rgba(0,0,0,0)";a.sketch.tools.marker.draw.call(this,b);return this.context.globalCompositeOperation=d}}})(jQuery);var Sketch=new Tool("Sketch");Sketch.set("color","rgba(231, 189, 44, 1)");Sketch.set("description","Sketch pictures for your project.");Sketch.set("beta",!0);Sketch.on("open",function(){$("#SketchCanvas").attr("width",$(window).width()).attr("height",$(window).height()).sketch()});
var Team=new Tool("Team");Team.set("color","rgba(231, 189, 44, 1)");Team.set("description","Invite people to work on your project.");Team.on("open",function(){$("#TeamMyEmail").text(Cookie.email);Team.refresh()});Team.invite=function(){var a=$("#TeamEmail").val();$.post("/nudgepad.invite",{emails:a},function(){Flasher.success("Invites Sent");Team.refresh();mixpanel.track("I invited people")})};
Team.refresh=function(){$("#TeamCurrent").html("");$.get("/nudgepad.project.team",function(a){(new Space(a)).each(function(a){$("#TeamCurrent").append(a+"<br>")})})};Team.updateEmail=function(){var a=prompt("Update your new email address",Cookie.email);if(!a||a===Cookie.email)return!0;if(!Team.validateEmail(a))return Flasher.error("Invalid Email");$.post("/nudgepad.updateEmail",{email:a},function(){nudgepad.warnBeforeReload=!1;document.location="/nudgepad?tool=Home"})};Team.validateEmail=function(a){return/\S+@\S+\.\S+/.test(a)};
var module=module||void 0;
(function(a){function b(a,b,c,d){v({auth:m&&s?{username:m,password:s,sendImmediately:!0}:void 0,method:a,uri:b,json:c},function(a,b,c){if(a)d(a);else{if(200===b.statusCode)return d(null,c);d(c.error)}})}function d(a,b,c,d){var e=new XMLHttpRequest;j?e.open(a,b,!0,m,s):e.open(a,b,!0);w&&e.setRequestHeader("x-csrf-token",w);e.setRequestHeader("Content-Type","application/json; charset=utf-8");e.onreadystatechange=function(){var a,b;if(4===this.readyState){try{a=JSON.parse(this.responseText),b=a.error}catch(c){b=
c}b?d(b):d(null,a)}};e.send(JSON.stringify(c))}function c(a,b,c,d){"function"===typeof c?(d=c,c={}):"string"===typeof c&&(b=c.length?b+"?"+c:b,c={});b=g+b;k(a,b,c,d)}function e(a,b){function c(){c.instance||(c.instance=f(b));return c.instance}function d(b,c,e){delete b[c];var f=[];a.tags.forEach(function(a){e.test(a)&&f.push(a)});return b[c]=f}var e={get appTags(){return d(this,"appTags",/^[^@]+\:[^:]+/)},get userTags(){return d(this,"userTags",/^[^@]+@[^@]+\:[^:]+/)},get rawTags(){return d(this,
"rawTags",/^[^:]+$/)},taggedWithAny:function(b){var c=a.tags;b=Array.isArray(b)?b:[b];for(var d=0;d<b.length;d++)if(-1<c.indexOf(b[d]))return!0;return!1},remixes:function(a){c().find({remixedFrom:e._id}).then(a||function(){})},locales:function(a){a=a||function(){};this.remixes(function(b,c){if(b)a(b);else{var d=[];c.forEach(function(a){a.locale!==e.locale&&d.push(a)});a(null,d)}})},original:function(a){a=a||function(){};e.remixedFrom?c().find({_id:e._id}).then(a):a(null,null)},update:function(a,b){c().update(e._id,
{maker:a,make:e},b||function(){})}};"url contentType locale title description author published tags thumbnail username remixedFrom _id emailHash createdAt updatedAt".split(" ").forEach(function(b){e[b]=a[b]});e.id=e._id;return e}var f,k,g,j,m,s,w,v;f=function(a){function b(a){return a.map(function(a){return a.trim()}).join(",")}g=a.apiURL;if(j=a.auth)j=j.split(":"),m=j[0],s=j[1];a.csrf&&(w=a.csrf);return{queryPairs:[],addPair:function(a,b,c){b=b?b.toString():"";if(!b.length)return this;b=c?"{!}"+
b:b;this.queryPairs.push(encodeURIComponent(a)+"="+encodeURIComponent(b));return this},find:function(a){a=a||{};for(var b in a)if(a.hasOwnProperty(b)&&this[b])if(Array.isArray(a[b]))this[b].apply(this,a[b]);else this[b](a[b]);return this},author:function(a,b){return this.addPair("author",a,b)},user:function(a,b){return this.addPair("user",a,b)},tags:function(a,c){if(a){var d=a.tags||a,e=a.execution||"and",d=Array.isArray(d)?b(d):b(d.split(","));return this.addPair("tags",e+","+d,c)}return this},tagPrefix:function(a,
b){return this.addPair("tagPrefix",a,b)},url:function(a,b){return this.addPair("url",a,b)},contentType:function(a,b){return this.addPair("contentType",a,b)},remixedFrom:function(a,b){return this.addPair("remixedFrom",a,b)},id:function(a,b){return this.addPair("id",a,b)},title:function(a,b){return this.addPair("title",a,b)},description:function(a,b){return this.addPair("description",a,b)},limit:function(a){return this.addPair("limit",a)},page:function(a){return this.addPair("page",a)},sortByField:function(a,
b){var c;"string"===typeof a&&(c=a+(","+(b?b:"desc")),this.addPair("sortByField",c));return this},then:function(b){var d=this.queryPairs.join("&");this.queryPairs=[];c("GET","/api/makes/search",d,function(c,d){if(c)b(c);else{for(var f=d.makes,g=0;g<f.length;g++)f[g]=e(f[g],a);b(null,f,d.total)}})},create:function(a,b){c("POST","/api/make",a,b);return this},update:function(a,b,d){c("PUT","/api/make/"+a,b,d);return this},remove:function(a,b){c("DELETE","/api/make/"+a,b);return this}}};"undefined"!==
typeof a&&a.exports?(v=require("request"),k=b,a.exports=f):(k=d,"function"===typeof define&&define.amd?define(function(){return f}):window.Make=f)})(module);var WebMaker=new Tool("WebMaker");WebMaker.set("color","rgba(26, 134, 214, 1)");WebMaker.set("description","Remix WebMaker templates in your project.");WebMaker.set("beta",!0);WebMaker.fetch=function(){(new Make({apiURL:"https://makeapi.webmaker.org"})).contentType("application/x-thimble").then(function(a,b){console.log(b)})};
WebMaker.on("open",function(){2>$(".MakeTemplate").length&&WebMaker.fetch()});
